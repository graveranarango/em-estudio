const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostsCreatorModule-BSldi9Lx.js","assets/skeleton-CG66kKsO.js","assets/input-D9gzZZGo.js","assets/tabs-pnYPreHj.js","assets/select-DzXUnkCT.js","assets/chevron-left-Dj8W6BM1.js","assets/slider-CRT1qsOa.js","assets/linkedin-X-fQF4Ad.js","assets/twitter-DPcVWT8Y.js","assets/switch-req8jW8d.js","assets/sheet-DZr8Am9K.js","assets/search-B5htjXhP.js","assets/lock-ME-27Wj4.js","assets/users-BJHnXxDj.js","assets/VideosCreatorModule-DbyZM8XZ.js","assets/youtube-IfjtWdBt.js","assets/lightbulb-DtUlExe6.js","assets/play-SLPhmvib.js","assets/skip-forward-DVnUDRzI.js","assets/calendar-tZs6WN5p.js","assets/PodcastsCreatorModule-Buxf2eu9.js","assets/trending-up-DffY4aGx.js","assets/funnel-DbWVVP6q.js","assets/grid-3x3-BhgzBwVT.js","assets/heart-RWplzD4Q.js","assets/list-uq3qSOxt.js","assets/CalendarModule-BaXm13lW.js","assets/AssetsLibrary-_4BUx0TM.js","assets/BrandKitModule-DqeJZe8E.js","assets/AnalyticsModule-DzR5j3t1.js","assets/generateCategoricalChart-NbhpMJKe.js","assets/AutomationModule-CDZxi2ja.js","assets/CompetitionModule-4929HdES.js"])))=>i.map(i=>d[i]);
function g2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var n$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},ql={},Mp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function v2(){if(g0)return Ve;g0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function k(G,ne,me){this.props=G,this.context=ne,this.refs=C,this.updater=me||E}k.prototype.isReactComponent={},k.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function V(){}V.prototype=k.prototype;function $(G,ne,me){this.props=G,this.context=ne,this.refs=C,this.updater=me||E}var F=$.prototype=new V;F.constructor=$,S(F,k.prototype),F.isPureReactComponent=!0;var U=Array.isArray,L=Object.prototype.hasOwnProperty,K={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function j(G,ne,me){var ye,Re={},Te=null,ve=null;if(ne!=null)for(ye in ne.ref!==void 0&&(ve=ne.ref),ne.key!==void 0&&(Te=""+ne.key),ne)L.call(ne,ye)&&!I.hasOwnProperty(ye)&&(Re[ye]=ne[ye]);var Oe=arguments.length-2;if(Oe===1)Re.children=me;else if(1<Oe){for(var Be=Array(Oe),ct=0;ct<Oe;ct++)Be[ct]=arguments[ct+2];Re.children=Be}if(G&&G.defaultProps)for(ye in Oe=G.defaultProps,Oe)Re[ye]===void 0&&(Re[ye]=Oe[ye]);return{$$typeof:t,type:G,key:Te,ref:ve,props:Re,_owner:K.current}}function A(G,ne){return{$$typeof:t,type:G.type,key:ne,ref:G.ref,props:G.props,_owner:G._owner}}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function O(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(me){return ne[me]})}var D=/\/+/g;function P(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?O(""+G.key):ne.toString(36)}function B(G,ne,me,ye,Re){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var ve=!1;if(G===null)ve=!0;else switch(Te){case"string":case"number":ve=!0;break;case"object":switch(G.$$typeof){case t:case e:ve=!0}}if(ve)return ve=G,Re=Re(ve),G=ye===""?"."+P(ve,0):ye,U(Re)?(me="",G!=null&&(me=G.replace(D,"$&/")+"/"),B(Re,ne,me,"",function(ct){return ct})):Re!=null&&(M(Re)&&(Re=A(Re,me+(!Re.key||ve&&ve.key===Re.key?"":(""+Re.key).replace(D,"$&/")+"/")+G)),ne.push(Re)),1;if(ve=0,ye=ye===""?".":ye+":",U(G))for(var Oe=0;Oe<G.length;Oe++){Te=G[Oe];var Be=ye+P(Te,Oe);ve+=B(Te,ne,me,Be,Re)}else if(Be=v(G),typeof Be=="function")for(G=Be.call(G),Oe=0;!(Te=G.next()).done;)Te=Te.value,Be=ye+P(Te,Oe++),ve+=B(Te,ne,me,Be,Re);else if(Te==="object")throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return ve}function te(G,ne,me){if(G==null)return G;var ye=[],Re=0;return B(G,ye,"","",function(Te){return ne.call(me,Te,Re++)}),ye}function se(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(me){(G._status===0||G._status===-1)&&(G._status=1,G._result=me)},function(me){(G._status===0||G._status===-1)&&(G._status=2,G._result=me)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var ce={current:null},q={transition:null},ee={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:q,ReactCurrentOwner:K};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:te,forEach:function(G,ne,me){te(G,function(){ne.apply(this,arguments)},me)},count:function(G){var ne=0;return te(G,function(){ne++}),ne},toArray:function(G){return te(G,function(ne){return ne})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ve.Component=k,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=$,Ve.StrictMode=r,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ve.act=ae,Ve.cloneElement=function(G,ne,me){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ye=S({},G.props),Re=G.key,Te=G.ref,ve=G._owner;if(ne!=null){if(ne.ref!==void 0&&(Te=ne.ref,ve=K.current),ne.key!==void 0&&(Re=""+ne.key),G.type&&G.type.defaultProps)var Oe=G.type.defaultProps;for(Be in ne)L.call(ne,Be)&&!I.hasOwnProperty(Be)&&(ye[Be]=ne[Be]===void 0&&Oe!==void 0?Oe[Be]:ne[Be])}var Be=arguments.length-2;if(Be===1)ye.children=me;else if(1<Be){Oe=Array(Be);for(var ct=0;ct<Be;ct++)Oe[ct]=arguments[ct+2];ye.children=Oe}return{$$typeof:t,type:G.type,key:Re,ref:Te,props:ye,_owner:ve}},Ve.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},Ve.createElement=j,Ve.createFactory=function(G){var ne=j.bind(null,G);return ne.type=G,ne},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(G){return{$$typeof:f,render:G}},Ve.isValidElement=M,Ve.lazy=function(G){return{$$typeof:y,_payload:{_status:-1,_result:G},_init:se}},Ve.memo=function(G,ne){return{$$typeof:m,type:G,compare:ne===void 0?null:ne}},Ve.startTransition=function(G){var ne=q.transition;q.transition={};try{G()}finally{q.transition=ne}},Ve.unstable_act=ae,Ve.useCallback=function(G,ne){return ce.current.useCallback(G,ne)},Ve.useContext=function(G){return ce.current.useContext(G)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(G){return ce.current.useDeferredValue(G)},Ve.useEffect=function(G,ne){return ce.current.useEffect(G,ne)},Ve.useId=function(){return ce.current.useId()},Ve.useImperativeHandle=function(G,ne,me){return ce.current.useImperativeHandle(G,ne,me)},Ve.useInsertionEffect=function(G,ne){return ce.current.useInsertionEffect(G,ne)},Ve.useLayoutEffect=function(G,ne){return ce.current.useLayoutEffect(G,ne)},Ve.useMemo=function(G,ne){return ce.current.useMemo(G,ne)},Ve.useReducer=function(G,ne,me){return ce.current.useReducer(G,ne,me)},Ve.useRef=function(G){return ce.current.useRef(G)},Ve.useState=function(G){return ce.current.useState(G)},Ve.useSyncExternalStore=function(G,ne,me){return ce.current.useSyncExternalStore(G,ne,me)},Ve.useTransition=function(){return ce.current.useTransition()},Ve.version="18.3.1",Ve}var v0;function Ua(){return v0||(v0=1,Mp.exports=v2()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function y2(){if(y0)return ql;y0=1;var t=Ua(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,m){var y,x={},v=null,E=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(E=p.ref);for(y in p)r.call(p,y)&&!l.hasOwnProperty(y)&&(x[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)x[y]===void 0&&(x[y]=p[y]);return{$$typeof:e,type:f,key:v,ref:E,props:x,_owner:i.current}}return ql.Fragment=n,ql.jsx=u,ql.jsxs=u,ql}var x0;function x2(){return x0||(x0=1,Rp.exports=y2()),Rp.exports}var a=x2(),pd={},Dp={exports:{}},dn={},Op={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function b2(){return b0||(b0=1,(function(t){function e(q,ee){var ae=q.length;q.push(ee);e:for(;0<ae;){var G=ae-1>>>1,ne=q[G];if(0<i(ne,ee))q[G]=ee,q[ae]=ne,ae=G;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],ae=q.pop();if(ae!==ee){q[0]=ae;e:for(var G=0,ne=q.length,me=ne>>>1;G<me;){var ye=2*(G+1)-1,Re=q[ye],Te=ye+1,ve=q[Te];if(0>i(Re,ae))Te<ne&&0>i(ve,Re)?(q[G]=ve,q[Te]=ae,G=Te):(q[G]=Re,q[ye]=ae,G=ye);else if(Te<ne&&0>i(ve,ae))q[G]=ve,q[Te]=ae,G=Te;else break e}}return ee}function i(q,ee){var ae=q.sortIndex-ee.sortIndex;return ae!==0?ae:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,x=null,v=3,E=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(q){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=q)r(m),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(m)}}function U(q){if(C=!1,F(q),!S)if(n(p)!==null)S=!0,se(L);else{var ee=n(m);ee!==null&&ce(U,ee.startTime-q)}}function L(q,ee){S=!1,C&&(C=!1,V(j),j=-1),E=!0;var ae=v;try{for(F(ee),x=n(p);x!==null&&(!(x.expirationTime>ee)||q&&!O());){var G=x.callback;if(typeof G=="function"){x.callback=null,v=x.priorityLevel;var ne=G(x.expirationTime<=ee);ee=t.unstable_now(),typeof ne=="function"?x.callback=ne:x===n(p)&&r(p),F(ee)}else r(p);x=n(p)}if(x!==null)var me=!0;else{var ye=n(m);ye!==null&&ce(U,ye.startTime-ee),me=!1}return me}finally{x=null,v=ae,E=!1}}var K=!1,I=null,j=-1,A=5,M=-1;function O(){return!(t.unstable_now()-M<A)}function D(){if(I!==null){var q=t.unstable_now();M=q;var ee=!0;try{ee=I(!0,q)}finally{ee?P():(K=!1,I=null)}}else K=!1}var P;if(typeof $=="function")P=function(){$(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=D,P=function(){te.postMessage(null)}}else P=function(){k(D,0)};function se(q){I=q,K||(K=!0,P())}function ce(q,ee){j=k(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,se(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var ae=v;v=ee;try{return q()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=v;v=q;try{return ee()}finally{v=ae}},t.unstable_scheduleCallback=function(q,ee,ae){var G=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?G+ae:G):ae=G,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,q={id:y++,callback:ee,priorityLevel:q,startTime:ae,expirationTime:ne,sortIndex:-1},ae>G?(q.sortIndex=ae,e(m,q),n(p)===null&&q===n(m)&&(C?(V(j),j=-1):C=!0,ce(U,ae-G))):(q.sortIndex=ne,e(p,q),S||E||(S=!0,se(L))),q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(q){var ee=v;return function(){var ae=v;v=ee;try{return q.apply(this,arguments)}finally{v=ae}}}})(Lp)),Lp}var w0;function w2(){return w0||(w0=1,Op.exports=b2()),Op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function _2(){if(_0)return dn;_0=1;var t=Ua(),e=w2();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function v(s){return p.call(x,s)?!0:p.call(y,s)?!1:m.test(s)?x[s]=!0:(y[s]=!0,!1)}function E(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,c,h){if(o===null||typeof o>"u"||E(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,c,h,g,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(V,$);k[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(V,$);k[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(V,$);k[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,c,h){var g=k.hasOwnProperty(o)?k[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,g,h)&&(c=null),h||g===null?v(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),K=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,G;function ne(s){if(G===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);G=o&&o[1]||""}return`
`+G+s}var me=!1;function ye(s,o){if(!s||me)return"";me=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var g=J.stack.split(`
`),w=h.stack.split(`
`),T=g.length-1,z=w.length-1;1<=T&&0<=z&&g[T]!==w[z];)z--;for(;1<=T&&0<=z;T--,z--)if(g[T]!==w[z]){if(T!==1||z!==1)do if(T--,z--,0>z||g[T]!==w[z]){var H=`
`+g[T].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=T&&0<=z);break}}}finally{me=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ne(s):""}function Re(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case K:return"Portal";case A:return"Profiler";case j:return"StrictMode";case P:return"Suspense";case B:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return o=s.displayName||null,o!==null?o:Te(s.type)||"Memo";case se:o=s._payload,s=s._init;try{return Te(s(o))}catch{}}return null}function ve(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(s){var o=Be(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,w.call(this,T)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Rn(s){s._valueTracker||(s._valueTracker=ct(s))}function Mn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Be(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function gn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Si(s,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Zc(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Oe(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ni(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function So(s,o){Ni(s,o);var c=Oe(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?mt(s,o.type,c):o.hasOwnProperty("defaultValue")&&mt(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function tl(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function mt(s,o,c){(o!=="number"||gn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ht=Array.isArray;function Yn(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Oe(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function nl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function rl(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(ht(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Oe(c)}}function eu(s,o){var c=Oe(o.value),h=Oe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Ts(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function sl(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?sl(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Is,tu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Is.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function No(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nu=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(s){nu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ps[o]=Ps[s]})});function As(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ps.hasOwnProperty(s)&&Ps[s]?(""+o).trim():o+"px"}function ji(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=As(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var ol=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xn(s,o){if(o){if(ol[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function ki(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yr=null,Xr=null,ut=null;function il(s){if(s=Rl(s)){if(typeof Yr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Tu(o),Yr(s.stateNode,s.type,o))}}function Ms(s){Xr?ut?ut.push(s):ut=[s]:Xr=s}function Ds(){if(Xr){var s=Xr,o=ut;if(ut=Xr=null,il(s),o)for(s=0;s<o.length;s++)il(o[s])}}function ru(s,o){return s(o)}function su(){}var gr=!1;function ou(s,o,c){if(gr)return s(o,c);gr=!0;try{return ru(s,o,c)}finally{gr=!1,(Xr!==null||ut!==null)&&(su(),Ds())}}function Co(s,o){var c=s.stateNode;if(c===null)return null;var h=Tu(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Os=!1;if(f)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Os=!1}function iu(s,o,c,h,g,w,T,z,H){var J=Array.prototype.slice.call(arguments,3);try{o.apply(c,J)}catch(ie){this.onError(ie)}}var Jr=!1,vr=null,Ii=!1,Dn=null,au={onError:function(s){Jr=!0,vr=s}};function lu(s,o,c,h,g,w,T,z,H){Jr=!1,vr=null,iu.apply(au,arguments)}function al(s,o,c,h,g,w,T,z,H){if(lu.apply(this,arguments),Jr){if(Jr){var J=vr;Jr=!1,vr=null}else throw Error(n(198));Ii||(Ii=!0,Dn=J)}}function Jn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function ll(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function cu(s){if(Jn(s)!==s)throw Error(n(188))}function uu(s){var o=s.alternate;if(!o){if(o=Jn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return cu(g),s;if(w===h)return cu(g),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=w;else{for(var T=!1,z=g.child;z;){if(z===c){T=!0,c=g,h=w;break}if(z===h){T=!0,h=g,c=w;break}z=z.sibling}if(!T){for(z=w.child;z;){if(z===c){T=!0,c=w,h=g;break}if(z===h){T=!0,h=w,c=g;break}z=z.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function du(s){return s=uu(s),s!==null?jo(s):null}function jo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=jo(s);if(o!==null)return o;s=s.sibling}return null}var cl=e.unstable_scheduleCallback,Pi=e.unstable_cancelCallback,ko=e.unstable_shouldYield,Zr=e.unstable_requestPaint,tt=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,Ai=e.unstable_ImmediatePriority,ul=e.unstable_UserBlockingPriority,To=e.unstable_NormalPriority,dl=e.unstable_LowPriority,Ri=e.unstable_IdlePriority,Io=null,vn=null;function hu(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Io,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Po,yr=Math.log,On=Math.LN2;function Po(s){return s>>>=0,s===0?32:31-(yr(s)/On|0)|0}var xr=64,Vs=4194304;function Qe(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function es(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,T=c&268435455;if(T!==0){var z=T&~g;z!==0?h=Qe(z):(w&=T,w!==0&&(h=Qe(w)))}else T=c&~g,T!==0?h=Qe(T):w!==0&&(h=Qe(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-yn(o),g=1<<c,h|=s[c],o&=~g;return h}function Ao(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var T=31-yn(w),z=1<<T,H=g[T];H===-1?((z&c)===0||(z&h)!==0)&&(g[T]=Ao(z,o)):H<=o&&(s.expiredLanes|=z),w&=~z}}function hl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function fl(){var s=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),s}function pl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Mo(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-yn(o),s[o]=c}function df(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-yn(c),w=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~w}}function ml(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-yn(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var Ue=0;function br(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var gl,Mi,vl,yl,xl,wr=!1,Di=[],_r=null,Er=null,Mt=null,Do=new Map,ts=new Map,xn=[],fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fs(s,o){switch(s){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Do.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(o.pointerId)}}function Zn(s,o,c,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Rl(o),o!==null&&Mi(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function pu(s,o,c,h,g){switch(o){case"focusin":return _r=Zn(_r,s,o,c,h,g),!0;case"dragenter":return Er=Zn(Er,s,o,c,h,g),!0;case"mouseover":return Mt=Zn(Mt,s,o,c,h,g),!0;case"pointerover":var w=g.pointerId;return Do.set(w,Zn(Do.get(w)||null,s,o,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,ts.set(w,Zn(ts.get(w)||null,s,o,c,h,g)),!0}return!1}function Oi(s){var o=Fo(s.target);if(o!==null){var c=Jn(o);if(c!==null){if(o=c.tag,o===13){if(o=ll(c),o!==null){s.blockedOn=o,xl(s.priority,function(){vl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Je(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Li(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Rs=h,c.target.dispatchEvent(h),Rs=null}else return o=Rl(c),o!==null&&Mi(o),s.blockedOn=c,!1;o.shift()}return!0}function mu(s,o,c){Je(s)&&c.delete(o)}function hf(){wr=!1,_r!==null&&Je(_r)&&(_r=null),Er!==null&&Je(Er)&&(Er=null),Mt!==null&&Je(Mt)&&(Mt=null),Do.forEach(mu),ts.forEach(mu)}function $s(s,o){s.blockedOn===o&&(s.blockedOn=null,wr||(wr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hf)))}function zs(s){function o(g){return $s(g,s)}if(0<Di.length){$s(Di[0],s);for(var c=1;c<Di.length;c++){var h=Di[c];h.blockedOn===s&&(h.blockedOn=null)}}for(_r!==null&&$s(_r,s),Er!==null&&$s(Er,s),Mt!==null&&$s(Mt,s),Do.forEach(o),ts.forEach(o),c=0;c<xn.length;c++)h=xn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<xn.length&&(c=xn[0],c.blockedOn===null);)Oi(c),c.blockedOn===null&&xn.shift()}var ns=U.ReactCurrentBatchConfig,rs=!0;function Sr(s,o,c,h){var g=Ue,w=ns.transition;ns.transition=null;try{Ue=1,bl(s,o,c,h)}finally{Ue=g,ns.transition=w}}function gu(s,o,c,h){var g=Ue,w=ns.transition;ns.transition=null;try{Ue=4,bl(s,o,c,h)}finally{Ue=g,ns.transition=w}}function bl(s,o,c,h){if(rs){var g=Li(s,o,c,h);if(g===null)Ef(s,o,h,Nr,c),Fs(s,h);else if(pu(g,s,o,c,h))h.stopPropagation();else if(Fs(s,h),o&4&&-1<fu.indexOf(s)){for(;g!==null;){var w=Rl(g);if(w!==null&&gl(w),w=Li(s,o,c,h),w===null&&Ef(s,o,h,Nr,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else Ef(s,o,h,null,c)}}var Nr=null;function Li(s,o,c,h){if(Nr=null,s=Ti(h),s=Fo(s),s!==null)if(o=Jn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=ll(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Nr=s,null}function Vi(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case Ai:return 1;case ul:return 4;case To:case dl:return 16;case Ri:return 536870912;default:return 16}default:return 16}}var bn=null,Fi=null,ss=null;function vu(){if(ss)return ss;var s,o=Fi,c=o.length,h,g="value"in bn?bn.value:bn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var T=c-s;for(h=1;h<=T&&o[c-h]===g[w-h];h++);return ss=g.slice(s,1<h?1-h:void 0)}function Oo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Cr(){return!0}function wl(){return!1}function Ht(s){function o(c,h,g,w,T){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Cr:wl,this.isPropagationStopped=wl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Ht(jr),Us=ae({},jr,{view:0,detail:0}),$i=Ht(Us),zi,Ui,wn,Vo=ae({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wn&&(wn&&s.type==="mousemove"?(zi=s.screenX-wn.screenX,Ui=s.screenY-wn.screenY):Ui=zi=0,wn=s),zi)},movementY:function(s){return"movementY"in s?s.movementY:Ui}}),_l=Ht(Vo),yu=ae({},Vo,{dataTransfer:0}),xu=Ht(yu),Bi=ae({},Us,{relatedTarget:0}),Dt=Ht(Bi),bu=ae({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Ht(bu),Bs=ae({},jr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Ht(Bs),_=ae({},jr,{data:0}),N=Ht(_),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Z[s])?!!o[s]:!1}function De(){return de}var ft=ae({},Us,{key:function(s){if(s.key){var o=R[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Oo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(s){return s.type==="keypress"?Oo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Oo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ye=Ht(ft),gt=ae({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=Ht(gt),os=ae({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),kr=Ht(os),Tr=ae({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hi=Ht(Tr),El=ae({},Vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),uj=Ht(El),dj=[9,13,27,32],ff=f&&"CompositionEvent"in window,Sl=null;f&&"documentMode"in document&&(Sl=document.documentMode);var hj=f&&"TextEvent"in window&&!Sl,ly=f&&(!ff||Sl&&8<Sl&&11>=Sl),cy=" ",uy=!1;function dy(s,o){switch(s){case"keyup":return dj.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gi=!1;function fj(s,o){switch(s){case"compositionend":return hy(o);case"keypress":return o.which!==32?null:(uy=!0,cy);case"textInput":return s=o.data,s===cy&&uy?null:s;default:return null}}function pj(s,o){if(Gi)return s==="compositionend"||!ff&&dy(s,o)?(s=vu(),ss=Fi=bn=null,Gi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ly&&o.locale!=="ko"?null:o.data;default:return null}}var mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!mj[s.type]:o==="textarea"}function py(s,o,c,h){Ms(h),o=Cu(o,"onChange"),0<o.length&&(c=new Lo("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Nl=null,Cl=null;function gj(s){Ay(s,0)}function _u(s){var o=Yi(s);if(Mn(o))return s}function vj(s,o){if(s==="change")return o}var my=!1;if(f){var pf;if(f){var mf="oninput"in document;if(!mf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),mf=typeof gy.oninput=="function"}pf=mf}else pf=!1;my=pf&&(!document.documentMode||9<document.documentMode)}function vy(){Nl&&(Nl.detachEvent("onpropertychange",yy),Cl=Nl=null)}function yy(s){if(s.propertyName==="value"&&_u(Cl)){var o=[];py(o,Cl,s,Ti(s)),ou(gj,o)}}function yj(s,o,c){s==="focusin"?(vy(),Nl=o,Cl=c,Nl.attachEvent("onpropertychange",yy)):s==="focusout"&&vy()}function xj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _u(Cl)}function bj(s,o){if(s==="click")return _u(o)}function wj(s,o){if(s==="input"||s==="change")return _u(o)}function _j(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var er=typeof Object.is=="function"?Object.is:_j;function jl(s,o){if(er(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!p.call(o,g)||!er(s[g],o[g]))return!1}return!0}function xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function by(s,o){var c=xy(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xy(c)}}function wy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _y(){for(var s=window,o=gn();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=gn(s.document)}return o}function gf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Ej(s){var o=_y(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&wy(c.ownerDocument.documentElement,c)){if(h!==null&&gf(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=by(c,w);var T=by(c,h);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Sj=f&&"documentMode"in document&&11>=document.documentMode,Wi=null,vf=null,kl=null,yf=!1;function Ey(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;yf||Wi==null||Wi!==gn(h)||(h=Wi,"selectionStart"in h&&gf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kl&&jl(kl,h)||(kl=h,h=Cu(vf,"onSelect"),0<h.length&&(o=new Lo("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Wi)))}function Eu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ki={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},xf={},Sy={};f&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Su(s){if(xf[s])return xf[s];if(!Ki[s])return s;var o=Ki[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Sy)return xf[s]=o[c];return s}var Ny=Su("animationend"),Cy=Su("animationiteration"),jy=Su("animationstart"),ky=Su("transitionend"),Ty=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(s,o){Ty.set(s,o),l(o,[s])}for(var bf=0;bf<Iy.length;bf++){var wf=Iy[bf],Nj=wf.toLowerCase(),Cj=wf[0].toUpperCase()+wf.slice(1);Hs(Nj,"on"+Cj)}Hs(Ny,"onAnimationEnd"),Hs(Cy,"onAnimationIteration"),Hs(jy,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(ky,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Py(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,al(h,o,void 0,s),s.currentTarget=null}function Ay(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var T=h.length-1;0<=T;T--){var z=h[T],H=z.instance,J=z.currentTarget;if(z=z.listener,H!==w&&g.isPropagationStopped())break e;Py(g,z,J),w=H}else for(T=0;T<h.length;T++){if(z=h[T],H=z.instance,J=z.currentTarget,z=z.listener,H!==w&&g.isPropagationStopped())break e;Py(g,z,J),w=H}}}if(Ii)throw s=Dn,Ii=!1,Dn=null,s}function nt(s,o){var c=o[Tf];c===void 0&&(c=o[Tf]=new Set);var h=s+"__bubble";c.has(h)||(Ry(o,s,2,!1),c.add(h))}function _f(s,o,c){var h=0;o&&(h|=4),Ry(c,s,h,o)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Il(s){if(!s[Nu]){s[Nu]=!0,r.forEach(function(c){c!=="selectionchange"&&(jj.has(c)||_f(c,!1,s),_f(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Nu]||(o[Nu]=!0,_f("selectionchange",!1,o))}}function Ry(s,o,c,h){switch(Vi(o)){case 1:var g=Sr;break;case 4:g=gu;break;default:g=bl}c=g.bind(null,o,c,s),g=void 0,!Os||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Ef(s,o,c,h,g){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var z=h.stateNode.containerInfo;if(z===g||z.nodeType===8&&z.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var H=T.tag;if((H===3||H===4)&&(H=T.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;T=T.return}for(;z!==null;){if(T=Fo(z),T===null)return;if(H=T.tag,H===5||H===6){h=w=T;continue e}z=z.parentNode}}h=h.return}ou(function(){var J=w,ie=Ti(c),le=[];e:{var oe=Ty.get(s);if(oe!==void 0){var ge=Lo,be=s;switch(s){case"keypress":if(Oo(c)===0)break e;case"keydown":case"keyup":ge=Ye;break;case"focusin":be="focus",ge=Dt;break;case"focusout":be="blur",ge=Dt;break;case"beforeblur":case"afterblur":ge=Dt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=kr;break;case Ny:case Cy:case jy:ge=wu;break;case ky:ge=Hi;break;case"scroll":ge=$i;break;case"wheel":ge=uj;break;case"copy":case"cut":case"paste":ge=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=_n}var Ee=(o&4)!==0,pt=!Ee&&s==="scroll",Q=Ee?oe!==null?oe+"Capture":null:oe;Ee=[];for(var W=J,X;W!==null;){X=W;var ue=X.stateNode;if(X.tag===5&&ue!==null&&(X=ue,Q!==null&&(ue=Co(W,Q),ue!=null&&Ee.push(Pl(W,ue,X)))),pt)break;W=W.return}0<Ee.length&&(oe=new ge(oe,be,null,c,ie),le.push({event:oe,listeners:Ee}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",oe&&c!==Rs&&(be=c.relatedTarget||c.fromElement)&&(Fo(be)||be[is]))break e;if((ge||oe)&&(oe=ie.window===ie?ie:(oe=ie.ownerDocument)?oe.defaultView||oe.parentWindow:window,ge?(be=c.relatedTarget||c.toElement,ge=J,be=be?Fo(be):null,be!==null&&(pt=Jn(be),be!==pt||be.tag!==5&&be.tag!==6)&&(be=null)):(ge=null,be=J),ge!==be)){if(Ee=_l,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=_n,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),pt=ge==null?oe:Yi(ge),X=be==null?oe:Yi(be),oe=new Ee(ue,W+"leave",ge,c,ie),oe.target=pt,oe.relatedTarget=X,ue=null,Fo(ie)===J&&(Ee=new Ee(Q,W+"enter",be,c,ie),Ee.target=X,Ee.relatedTarget=pt,ue=Ee),pt=ue,ge&&be)t:{for(Ee=ge,Q=be,W=0,X=Ee;X;X=qi(X))W++;for(X=0,ue=Q;ue;ue=qi(ue))X++;for(;0<W-X;)Ee=qi(Ee),W--;for(;0<X-W;)Q=qi(Q),X--;for(;W--;){if(Ee===Q||Q!==null&&Ee===Q.alternate)break t;Ee=qi(Ee),Q=qi(Q)}Ee=null}else Ee=null;ge!==null&&My(le,oe,ge,Ee,!1),be!==null&&pt!==null&&My(le,pt,be,Ee,!0)}}e:{if(oe=J?Yi(J):window,ge=oe.nodeName&&oe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&oe.type==="file")var Se=vj;else if(fy(oe))if(my)Se=wj;else{Se=xj;var je=yj}else(ge=oe.nodeName)&&ge.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Se=bj);if(Se&&(Se=Se(s,J))){py(le,Se,c,ie);break e}je&&je(s,oe,J),s==="focusout"&&(je=oe._wrapperState)&&je.controlled&&oe.type==="number"&&mt(oe,"number",oe.value)}switch(je=J?Yi(J):window,s){case"focusin":(fy(je)||je.contentEditable==="true")&&(Wi=je,vf=J,kl=null);break;case"focusout":kl=vf=Wi=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,Ey(le,c,ie);break;case"selectionchange":if(Sj)break;case"keydown":case"keyup":Ey(le,c,ie)}var ke;if(ff)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Gi?dy(s,c)&&(Ie="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(ly&&c.locale!=="ko"&&(Gi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Gi&&(ke=vu()):(bn=ie,Fi="value"in bn?bn.value:bn.textContent,Gi=!0)),je=Cu(J,Ie),0<je.length&&(Ie=new N(Ie,s,null,c,ie),le.push({event:Ie,listeners:je}),ke?Ie.data=ke:(ke=hy(c),ke!==null&&(Ie.data=ke)))),(ke=hj?fj(s,c):pj(s,c))&&(J=Cu(J,"onBeforeInput"),0<J.length&&(ie=new N("onBeforeInput","beforeinput",null,c,ie),le.push({event:ie,listeners:J}),ie.data=ke))}Ay(le,o)})}function Pl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Cu(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Co(s,c),w!=null&&h.unshift(Pl(s,w,g)),w=Co(s,o),w!=null&&h.push(Pl(s,w,g))),s=s.return}return h}function qi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function My(s,o,c,h,g){for(var w=o._reactName,T=[];c!==null&&c!==h;){var z=c,H=z.alternate,J=z.stateNode;if(H!==null&&H===h)break;z.tag===5&&J!==null&&(z=J,g?(H=Co(c,w),H!=null&&T.unshift(Pl(c,H,z))):g||(H=Co(c,w),H!=null&&T.push(Pl(c,H,z)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var kj=/\r\n?/g,Tj=/\u0000|\uFFFD/g;function Dy(s){return(typeof s=="string"?s:""+s).replace(kj,`
`).replace(Tj,"")}function ju(s,o,c){if(o=Dy(o),Dy(s)!==o&&c)throw Error(n(425))}function ku(){}var Sf=null,Nf=null;function Cf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jf=typeof setTimeout=="function"?setTimeout:void 0,Ij=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,Pj=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(s){return Oy.resolve(null).then(s).catch(Aj)}:jf;function Aj(s){setTimeout(function(){throw s})}function kf(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),zs(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);zs(o)}function Gs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ly(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Qi,Al="__reactProps$"+Qi,is="__reactContainer$"+Qi,Tf="__reactEvents$"+Qi,Rj="__reactListeners$"+Qi,Mj="__reactHandles$"+Qi;function Fo(s){var o=s[Ir];if(o)return o;for(var c=s.parentNode;c;){if(o=c[is]||c[Ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Ly(s);s!==null;){if(c=s[Ir])return c;s=Ly(s)}return o}s=c,c=s.parentNode}return null}function Rl(s){return s=s[Ir]||s[is],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Yi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Tu(s){return s[Al]||null}var If=[],Xi=-1;function Ws(s){return{current:s}}function rt(s){0>Xi||(s.current=If[Xi],If[Xi]=null,Xi--)}function et(s,o){Xi++,If[Xi]=s.current,s.current=o}var Ks={},Gt=Ws(Ks),on=Ws(!1),$o=Ks;function Ji(s,o){var c=s.type.contextTypes;if(!c)return Ks;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function an(s){return s=s.childContextTypes,s!=null}function Iu(){rt(on),rt(Gt)}function Vy(s,o,c){if(Gt.current!==Ks)throw Error(n(168));et(Gt,o),et(on,c)}function Fy(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,ve(s)||"Unknown",g));return ae({},c,h)}function Pu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ks,$o=Gt.current,et(Gt,s),et(on,on.current),!0}function $y(s,o,c){var h=s.stateNode;if(!h)throw Error(n(169));c?(s=Fy(s,o,$o),h.__reactInternalMemoizedMergedChildContext=s,rt(on),rt(Gt),et(Gt,s)):rt(on),et(on,c)}var as=null,Au=!1,Pf=!1;function zy(s){as===null?as=[s]:as.push(s)}function Dj(s){Au=!0,zy(s)}function qs(){if(!Pf&&as!==null){Pf=!0;var s=0,o=Ue;try{var c=as;for(Ue=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}as=null,Au=!1}catch(g){throw as!==null&&(as=as.slice(s+1)),cl(Ai,qs),g}finally{Ue=o,Pf=!1}}return null}var Zi=[],ea=0,Ru=null,Mu=0,Ln=[],Vn=0,zo=null,ls=1,cs="";function Uo(s,o){Zi[ea++]=Mu,Zi[ea++]=Ru,Ru=s,Mu=o}function Uy(s,o,c){Ln[Vn++]=ls,Ln[Vn++]=cs,Ln[Vn++]=zo,zo=s;var h=ls;s=cs;var g=32-yn(h)-1;h&=~(1<<g),c+=1;var w=32-yn(o)+g;if(30<w){var T=g-g%5;w=(h&(1<<T)-1).toString(32),h>>=T,g-=T,ls=1<<32-yn(o)+g|c<<g|h,cs=w+s}else ls=1<<w|c<<g|h,cs=s}function Af(s){s.return!==null&&(Uo(s,1),Uy(s,1,0))}function Rf(s){for(;s===Ru;)Ru=Zi[--ea],Zi[ea]=null,Mu=Zi[--ea],Zi[ea]=null;for(;s===zo;)zo=Ln[--Vn],Ln[Vn]=null,cs=Ln[--Vn],Ln[Vn]=null,ls=Ln[--Vn],Ln[Vn]=null}var En=null,Sn=null,st=!1,tr=null;function By(s,o){var c=Un(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Hy(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,En=s,Sn=Gs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,En=s,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=zo!==null?{id:ls,overflow:cs}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Un(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,En=s,Sn=null,!0):!1;default:return!1}}function Mf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Df(s){if(st){var o=Sn;if(o){var c=o;if(!Hy(s,o)){if(Mf(s))throw Error(n(418));o=Gs(c.nextSibling);var h=En;o&&Hy(s,o)?By(h,c):(s.flags=s.flags&-4097|2,st=!1,En=s)}}else{if(Mf(s))throw Error(n(418));s.flags=s.flags&-4097|2,st=!1,En=s}}}function Gy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;En=s}function Du(s){if(s!==En)return!1;if(!st)return Gy(s),st=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Cf(s.type,s.memoizedProps)),o&&(o=Sn)){if(Mf(s))throw Wy(),Error(n(418));for(;o;)By(s,o),o=Gs(o.nextSibling)}if(Gy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Sn=Gs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Sn=null}}else Sn=En?Gs(s.stateNode.nextSibling):null;return!0}function Wy(){for(var s=Sn;s;)s=Gs(s.nextSibling)}function ta(){Sn=En=null,st=!1}function Of(s){tr===null?tr=[s]:tr.push(s)}var Oj=U.ReactCurrentBatchConfig;function Ml(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,s));var g=h,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var z=g.refs;T===null?delete z[w]:z[w]=T},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Ou(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ky(s){var o=s._init;return o(s._payload)}function qy(s){function o(Q,W){if(s){var X=Q.deletions;X===null?(Q.deletions=[W],Q.flags|=16):X.push(W)}}function c(Q,W){if(!s)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function h(Q,W){for(Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function g(Q,W){return Q=no(Q,W),Q.index=0,Q.sibling=null,Q}function w(Q,W,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<W?(Q.flags|=2,W):X):(Q.flags|=2,W)):(Q.flags|=1048576,W)}function T(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function z(Q,W,X,ue){return W===null||W.tag!==6?(W=jp(X,Q.mode,ue),W.return=Q,W):(W=g(W,X),W.return=Q,W)}function H(Q,W,X,ue){var Se=X.type;return Se===I?ie(Q,W,X.props.children,ue,X.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===se&&Ky(Se)===W.type)?(ue=g(W,X.props),ue.ref=Ml(Q,W,X),ue.return=Q,ue):(ue=id(X.type,X.key,X.props,null,Q.mode,ue),ue.ref=Ml(Q,W,X),ue.return=Q,ue)}function J(Q,W,X,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=kp(X,Q.mode,ue),W.return=Q,W):(W=g(W,X.children||[]),W.return=Q,W)}function ie(Q,W,X,ue,Se){return W===null||W.tag!==7?(W=Yo(X,Q.mode,ue,Se),W.return=Q,W):(W=g(W,X),W.return=Q,W)}function le(Q,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=jp(""+W,Q.mode,X),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return X=id(W.type,W.key,W.props,null,Q.mode,X),X.ref=Ml(Q,null,W),X.return=Q,X;case K:return W=kp(W,Q.mode,X),W.return=Q,W;case se:var ue=W._init;return le(Q,ue(W._payload),X)}if(ht(W)||ee(W))return W=Yo(W,Q.mode,X,null),W.return=Q,W;Ou(Q,W)}return null}function oe(Q,W,X,ue){var Se=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Se!==null?null:z(Q,W,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return X.key===Se?H(Q,W,X,ue):null;case K:return X.key===Se?J(Q,W,X,ue):null;case se:return Se=X._init,oe(Q,W,Se(X._payload),ue)}if(ht(X)||ee(X))return Se!==null?null:ie(Q,W,X,ue,null);Ou(Q,X)}return null}function ge(Q,W,X,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Q=Q.get(X)||null,z(W,Q,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return Q=Q.get(ue.key===null?X:ue.key)||null,H(W,Q,ue,Se);case K:return Q=Q.get(ue.key===null?X:ue.key)||null,J(W,Q,ue,Se);case se:var je=ue._init;return ge(Q,W,X,je(ue._payload),Se)}if(ht(ue)||ee(ue))return Q=Q.get(X)||null,ie(W,Q,ue,Se,null);Ou(W,ue)}return null}function be(Q,W,X,ue){for(var Se=null,je=null,ke=W,Ie=W=0,kt=null;ke!==null&&Ie<X.length;Ie++){ke.index>Ie?(kt=ke,ke=null):kt=ke.sibling;var qe=oe(Q,ke,X[Ie],ue);if(qe===null){ke===null&&(ke=kt);break}s&&ke&&qe.alternate===null&&o(Q,ke),W=w(qe,W,Ie),je===null?Se=qe:je.sibling=qe,je=qe,ke=kt}if(Ie===X.length)return c(Q,ke),st&&Uo(Q,Ie),Se;if(ke===null){for(;Ie<X.length;Ie++)ke=le(Q,X[Ie],ue),ke!==null&&(W=w(ke,W,Ie),je===null?Se=ke:je.sibling=ke,je=ke);return st&&Uo(Q,Ie),Se}for(ke=h(Q,ke);Ie<X.length;Ie++)kt=ge(ke,Q,Ie,X[Ie],ue),kt!==null&&(s&&kt.alternate!==null&&ke.delete(kt.key===null?Ie:kt.key),W=w(kt,W,Ie),je===null?Se=kt:je.sibling=kt,je=kt);return s&&ke.forEach(function(ro){return o(Q,ro)}),st&&Uo(Q,Ie),Se}function Ee(Q,W,X,ue){var Se=ee(X);if(typeof Se!="function")throw Error(n(150));if(X=Se.call(X),X==null)throw Error(n(151));for(var je=Se=null,ke=W,Ie=W=0,kt=null,qe=X.next();ke!==null&&!qe.done;Ie++,qe=X.next()){ke.index>Ie?(kt=ke,ke=null):kt=ke.sibling;var ro=oe(Q,ke,qe.value,ue);if(ro===null){ke===null&&(ke=kt);break}s&&ke&&ro.alternate===null&&o(Q,ke),W=w(ro,W,Ie),je===null?Se=ro:je.sibling=ro,je=ro,ke=kt}if(qe.done)return c(Q,ke),st&&Uo(Q,Ie),Se;if(ke===null){for(;!qe.done;Ie++,qe=X.next())qe=le(Q,qe.value,ue),qe!==null&&(W=w(qe,W,Ie),je===null?Se=qe:je.sibling=qe,je=qe);return st&&Uo(Q,Ie),Se}for(ke=h(Q,ke);!qe.done;Ie++,qe=X.next())qe=ge(ke,Q,Ie,qe.value,ue),qe!==null&&(s&&qe.alternate!==null&&ke.delete(qe.key===null?Ie:qe.key),W=w(qe,W,Ie),je===null?Se=qe:je.sibling=qe,je=qe);return s&&ke.forEach(function(m2){return o(Q,m2)}),st&&Uo(Q,Ie),Se}function pt(Q,W,X,ue){if(typeof X=="object"&&X!==null&&X.type===I&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case L:e:{for(var Se=X.key,je=W;je!==null;){if(je.key===Se){if(Se=X.type,Se===I){if(je.tag===7){c(Q,je.sibling),W=g(je,X.props.children),W.return=Q,Q=W;break e}}else if(je.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===se&&Ky(Se)===je.type){c(Q,je.sibling),W=g(je,X.props),W.ref=Ml(Q,je,X),W.return=Q,Q=W;break e}c(Q,je);break}else o(Q,je);je=je.sibling}X.type===I?(W=Yo(X.props.children,Q.mode,ue,X.key),W.return=Q,Q=W):(ue=id(X.type,X.key,X.props,null,Q.mode,ue),ue.ref=Ml(Q,W,X),ue.return=Q,Q=ue)}return T(Q);case K:e:{for(je=X.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){c(Q,W.sibling),W=g(W,X.children||[]),W.return=Q,Q=W;break e}else{c(Q,W);break}else o(Q,W);W=W.sibling}W=kp(X,Q.mode,ue),W.return=Q,Q=W}return T(Q);case se:return je=X._init,pt(Q,W,je(X._payload),ue)}if(ht(X))return be(Q,W,X,ue);if(ee(X))return Ee(Q,W,X,ue);Ou(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(c(Q,W.sibling),W=g(W,X),W.return=Q,Q=W):(c(Q,W),W=jp(X,Q.mode,ue),W.return=Q,Q=W),T(Q)):c(Q,W)}return pt}var na=qy(!0),Qy=qy(!1),Lu=Ws(null),Vu=null,ra=null,Lf=null;function Vf(){Lf=ra=Vu=null}function Ff(s){var o=Lu.current;rt(Lu),s._currentValue=o}function $f(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function sa(s,o){Vu=s,Lf=ra=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ln=!0),s.firstContext=null)}function Fn(s){var o=s._currentValue;if(Lf!==s)if(s={context:s,memoizedValue:o,next:null},ra===null){if(Vu===null)throw Error(n(308));ra=s,Vu.dependencies={lanes:0,firstContext:s}}else ra=ra.next=s;return o}var Bo=null;function zf(s){Bo===null?Bo=[s]:Bo.push(s)}function Yy(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,zf(o)):(c.next=g.next,g.next=c),o.interleaved=c,us(s,h)}function us(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Qs=!1;function Uf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ds(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ys(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ge&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,us(s,c)}return g=h.interleaved,g===null?(o.next=o,zf(h)):(o.next=g.next,g.next=o),h.interleaved=o,us(s,c)}function Fu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ml(s,c)}}function Jy(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=T:w=w.next=T,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function $u(s,o,c,h){var g=s.updateQueue;Qs=!1;var w=g.firstBaseUpdate,T=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var H=z,J=H.next;H.next=null,T===null?w=J:T.next=J,T=H;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,z=ie.lastBaseUpdate,z!==T&&(z===null?ie.firstBaseUpdate=J:z.next=J,ie.lastBaseUpdate=H))}if(w!==null){var le=g.baseState;T=0,ie=J=H=null,z=w;do{var oe=z.lane,ge=z.eventTime;if((h&oe)===oe){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var be=s,Ee=z;switch(oe=o,ge=c,Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){le=be.call(ge,le,oe);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,oe=typeof be=="function"?be.call(ge,le,oe):be,oe==null)break e;le=ae({},le,oe);break e;case 2:Qs=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[z]:oe.push(z))}else ge={eventTime:ge,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ie===null?(J=ie=ge,H=le):ie=ie.next=ge,T|=oe;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(ie===null&&(H=le),g.baseState=H,g.firstBaseUpdate=J,g.lastBaseUpdate=ie,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Wo|=T,s.lanes=T,s.memoizedState=le}}function Zy(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Dl={},Pr=Ws(Dl),Ol=Ws(Dl),Ll=Ws(Dl);function Ho(s){if(s===Dl)throw Error(n(174));return s}function Bf(s,o){switch(et(Ll,o),et(Ol,s),et(Pr,Dl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ci(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ci(o,s)}rt(Pr),et(Pr,o)}function oa(){rt(Pr),rt(Ol),rt(Ll)}function ex(s){Ho(Ll.current);var o=Ho(Pr.current),c=Ci(o,s.type);o!==c&&(et(Ol,s),et(Pr,c))}function Hf(s){Ol.current===s&&(rt(Pr),rt(Ol))}var ot=Ws(0);function zu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gf=[];function Wf(){for(var s=0;s<Gf.length;s++)Gf[s]._workInProgressVersionPrimary=null;Gf.length=0}var Uu=U.ReactCurrentDispatcher,Kf=U.ReactCurrentBatchConfig,Go=0,it=null,_t=null,Ct=null,Bu=!1,Vl=!1,Fl=0,Lj=0;function Wt(){throw Error(n(321))}function qf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!er(s[c],o[c]))return!1;return!0}function Qf(s,o,c,h,g,w){if(Go=w,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uu.current=s===null||s.memoizedState===null?zj:Uj,s=c(h,g),Vl){w=0;do{if(Vl=!1,Fl=0,25<=w)throw Error(n(301));w+=1,Ct=_t=null,o.updateQueue=null,Uu.current=Bj,s=c(h,g)}while(Vl)}if(Uu.current=Wu,o=_t!==null&&_t.next!==null,Go=0,Ct=_t=it=null,Bu=!1,o)throw Error(n(300));return s}function Yf(){var s=Fl!==0;return Fl=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?it.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function $n(){if(_t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=_t.next;var o=Ct===null?it.memoizedState:Ct.next;if(o!==null)Ct=o,_t=s;else{if(s===null)throw Error(n(310));_t=s,s={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ct===null?it.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function $l(s,o){return typeof o=="function"?o(s):o}function Xf(s){var o=$n(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=_t,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var T=g.next;g.next=w.next,w.next=T}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var z=T=null,H=null,J=w;do{var ie=J.lane;if((Go&ie)===ie)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var le={lane:ie,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(z=H=le,T=h):H=H.next=le,it.lanes|=ie,Wo|=ie}J=J.next}while(J!==null&&J!==w);H===null?T=h:H.next=z,er(h,o.memoizedState)||(ln=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=H,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do w=g.lane,it.lanes|=w,Wo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Jf(s){var o=$n(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do w=s(w,T.action),T=T.next;while(T!==g);er(w,o.memoizedState)||(ln=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function tx(){}function nx(s,o){var c=it,h=$n(),g=o(),w=!er(h.memoizedState,g);if(w&&(h.memoizedState=g,ln=!0),h=h.queue,Zf(ox.bind(null,c,h,s),[s]),h.getSnapshot!==o||w||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,zl(9,sx.bind(null,c,h,g,o),void 0,null),jt===null)throw Error(n(349));(Go&30)!==0||rx(c,o,g)}return g}function rx(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function sx(s,o,c,h){o.value=c,o.getSnapshot=h,ix(o)&&ax(s)}function ox(s,o,c){return c(function(){ix(o)&&ax(s)})}function ix(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!er(s,c)}catch{return!0}}function ax(s){var o=us(s,1);o!==null&&or(o,s,1,-1)}function lx(s){var o=Ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:s},o.queue=s,s=s.dispatch=$j.bind(null,it,s),[o.memoizedState,s]}function zl(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function cx(){return $n().memoizedState}function Hu(s,o,c,h){var g=Ar();it.flags|=s,g.memoizedState=zl(1|o,c,void 0,h===void 0?null:h)}function Gu(s,o,c,h){var g=$n();h=h===void 0?null:h;var w=void 0;if(_t!==null){var T=_t.memoizedState;if(w=T.destroy,h!==null&&qf(h,T.deps)){g.memoizedState=zl(o,c,w,h);return}}it.flags|=s,g.memoizedState=zl(1|o,c,w,h)}function ux(s,o){return Hu(8390656,8,s,o)}function Zf(s,o){return Gu(2048,8,s,o)}function dx(s,o){return Gu(4,2,s,o)}function hx(s,o){return Gu(4,4,s,o)}function fx(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function px(s,o,c){return c=c!=null?c.concat([s]):null,Gu(4,4,fx.bind(null,o,s),c)}function ep(){}function mx(s,o){var c=$n();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function gx(s,o){var c=$n();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function vx(s,o,c){return(Go&21)===0?(s.baseState&&(s.baseState=!1,ln=!0),s.memoizedState=c):(er(c,o)||(c=fl(),it.lanes|=c,Wo|=c,s.baseState=!0),o)}function Vj(s,o){var c=Ue;Ue=c!==0&&4>c?c:4,s(!0);var h=Kf.transition;Kf.transition={};try{s(!1),o()}finally{Ue=c,Kf.transition=h}}function yx(){return $n().memoizedState}function Fj(s,o,c){var h=eo(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},xx(s))bx(o,c);else if(c=Yy(s,o,c,h),c!==null){var g=Zt();or(c,s,h,g),wx(c,o,h)}}function $j(s,o,c){var h=eo(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(xx(s))bx(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,z=w(T,c);if(g.hasEagerState=!0,g.eagerState=z,er(z,T)){var H=o.interleaved;H===null?(g.next=g,zf(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}c=Yy(s,o,g,h),c!==null&&(g=Zt(),or(c,s,h,g),wx(c,o,h))}}function xx(s){var o=s.alternate;return s===it||o!==null&&o===it}function bx(s,o){Vl=Bu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function wx(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ml(s,c)}}var Wu={readContext:Fn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},zj={readContext:Fn,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:ux,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Hu(4194308,4,fx.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Hu(4,2,s,o)},useMemo:function(s,o){var c=Ar();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Ar();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=Fj.bind(null,it,s),[h.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:lx,useDebugValue:ep,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=lx(!1),o=s[0];return s=Vj.bind(null,s[1]),Ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=it,g=Ar();if(st){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),jt===null)throw Error(n(349));(Go&30)!==0||rx(h,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,ux(ox.bind(null,h,w,s),[s]),h.flags|=2048,zl(9,sx.bind(null,h,w,c,o),void 0,null),c},useId:function(){var s=Ar(),o=jt.identifierPrefix;if(st){var c=cs,h=ls;c=(h&~(1<<32-yn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Fl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Lj++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Uj={readContext:Fn,useCallback:mx,useContext:Fn,useEffect:Zf,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:Xf,useRef:cx,useState:function(){return Xf($l)},useDebugValue:ep,useDeferredValue:function(s){var o=$n();return vx(o,_t.memoizedState,s)},useTransition:function(){var s=Xf($l)[0],o=$n().memoizedState;return[s,o]},useMutableSource:tx,useSyncExternalStore:nx,useId:yx,unstable_isNewReconciler:!1},Bj={readContext:Fn,useCallback:mx,useContext:Fn,useEffect:Zf,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:Jf,useRef:cx,useState:function(){return Jf($l)},useDebugValue:ep,useDeferredValue:function(s){var o=$n();return _t===null?o.memoizedState=s:vx(o,_t.memoizedState,s)},useTransition:function(){var s=Jf($l)[0],o=$n().memoizedState;return[s,o]},useMutableSource:tx,useSyncExternalStore:nx,useId:yx,unstable_isNewReconciler:!1};function nr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function tp(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ae({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ku={isMounted:function(s){return(s=s._reactInternals)?Jn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Zt(),g=eo(s),w=ds(h,g);w.payload=o,c!=null&&(w.callback=c),o=Ys(s,w,g),o!==null&&(or(o,s,g,h),Fu(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Zt(),g=eo(s),w=ds(h,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ys(s,w,g),o!==null&&(or(o,s,g,h),Fu(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Zt(),h=eo(s),g=ds(c,h);g.tag=2,o!=null&&(g.callback=o),o=Ys(s,g,h),o!==null&&(or(o,s,h,c),Fu(o,s,h))}};function _x(s,o,c,h,g,w,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,T):o.prototype&&o.prototype.isPureReactComponent?!jl(c,h)||!jl(g,w):!0}function Ex(s,o,c){var h=!1,g=Ks,w=o.contextType;return typeof w=="object"&&w!==null?w=Fn(w):(g=an(o)?$o:Gt.current,h=o.contextTypes,w=(h=h!=null)?Ji(s,g):Ks),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ku,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function Sx(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Ku.enqueueReplaceState(o,o.state,null)}function np(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Uf(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=Fn(w):(w=an(o)?$o:Gt.current,g.context=Ji(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(tp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Ku.enqueueReplaceState(g,g.state,null),$u(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ia(s,o){try{var c="",h=o;do c+=Re(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function rp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function sp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var Hj=typeof WeakMap=="function"?WeakMap:Map;function Nx(s,o,c){c=ds(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){ed||(ed=!0,xp=h),sp(s,o)},c}function Cx(s,o,c){c=ds(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){sp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){sp(s,o),typeof h!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function jx(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new Hj;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=s2.bind(null,s,o,c),o.then(s,s))}function kx(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Tx(s,o,c,h,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ds(-1,1),o.tag=2,Ys(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Gj=U.ReactCurrentOwner,ln=!1;function Jt(s,o,c,h){o.child=s===null?Qy(o,null,c,h):na(o,s.child,c,h)}function Ix(s,o,c,h,g){c=c.render;var w=o.ref;return sa(o,g),h=Qf(s,o,c,h,w,g),c=Yf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,hs(s,o,g)):(st&&c&&Af(o),o.flags|=1,Jt(s,o,h,g),o.child)}function Px(s,o,c,h,g){if(s===null){var w=c.type;return typeof w=="function"&&!Cp(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Ax(s,o,w,h,g)):(s=id(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var T=w.memoizedProps;if(c=c.compare,c=c!==null?c:jl,c(T,h)&&s.ref===o.ref)return hs(s,o,g)}return o.flags|=1,s=no(w,h),s.ref=o.ref,s.return=o,o.child=s}function Ax(s,o,c,h,g){if(s!==null){var w=s.memoizedProps;if(jl(w,h)&&s.ref===o.ref)if(ln=!1,o.pendingProps=h=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(ln=!0);else return o.lanes=s.lanes,hs(s,o,g)}return op(s,o,c,h,g)}function Rx(s,o,c){var h=o.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(la,Nn),Nn|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(la,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,et(la,Nn),Nn|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,et(la,Nn),Nn|=h;return Jt(s,o,g,c),o.child}function Mx(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function op(s,o,c,h,g){var w=an(c)?$o:Gt.current;return w=Ji(o,w),sa(o,g),c=Qf(s,o,c,h,w,g),h=Yf(),s!==null&&!ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,hs(s,o,g)):(st&&h&&Af(o),o.flags|=1,Jt(s,o,c,g),o.child)}function Dx(s,o,c,h,g){if(an(c)){var w=!0;Pu(o)}else w=!1;if(sa(o,g),o.stateNode===null)Qu(s,o),Ex(o,c,h),np(o,c,h,g),h=!0;else if(s===null){var T=o.stateNode,z=o.memoizedProps;T.props=z;var H=T.context,J=c.contextType;typeof J=="object"&&J!==null?J=Fn(J):(J=an(c)?$o:Gt.current,J=Ji(o,J));var ie=c.getDerivedStateFromProps,le=typeof ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==h||H!==J)&&Sx(o,T,h,J),Qs=!1;var oe=o.memoizedState;T.state=oe,$u(o,h,T,g),H=o.memoizedState,z!==h||oe!==H||on.current||Qs?(typeof ie=="function"&&(tp(o,c,ie,h),H=o.memoizedState),(z=Qs||_x(o,c,z,h,oe,H,J))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=H),T.props=h,T.state=H,T.context=J,h=z):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Xy(s,o),z=o.memoizedProps,J=o.type===o.elementType?z:nr(o.type,z),T.props=J,le=o.pendingProps,oe=T.context,H=c.contextType,typeof H=="object"&&H!==null?H=Fn(H):(H=an(c)?$o:Gt.current,H=Ji(o,H));var ge=c.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==le||oe!==H)&&Sx(o,T,h,H),Qs=!1,oe=o.memoizedState,T.state=oe,$u(o,h,T,g);var be=o.memoizedState;z!==le||oe!==be||on.current||Qs?(typeof ge=="function"&&(tp(o,c,ge,h),be=o.memoizedState),(J=Qs||_x(o,c,J,h,oe,be,H)||!1)?(ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,be,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,be,H)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=be),T.props=h,T.state=be,T.context=H,h=J):(typeof T.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),h=!1)}return ip(s,o,c,h,w,g)}function ip(s,o,c,h,g,w){Mx(s,o);var T=(o.flags&128)!==0;if(!h&&!T)return g&&$y(o,c,!1),hs(s,o,w);h=o.stateNode,Gj.current=o;var z=T&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&T?(o.child=na(o,s.child,null,w),o.child=na(o,null,z,w)):Jt(s,o,z,w),o.memoizedState=h.state,g&&$y(o,c,!0),o.child}function Ox(s){var o=s.stateNode;o.pendingContext?Vy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Vy(s,o.context,!1),Bf(s,o.containerInfo)}function Lx(s,o,c,h,g){return ta(),Of(g),o.flags|=256,Jt(s,o,c,h),o.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vx(s,o,c){var h=o.pendingProps,g=ot.current,w=!1,T=(o.flags&128)!==0,z;if((z=T)||(z=s!==null&&s.memoizedState===null?!1:(g&2)!==0),z?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),et(ot,g&1),s===null)return Df(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,s=h.fallback,w?(h=o.mode,w=o.child,T={mode:"hidden",children:T},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=ad(T,h,0,null),s=Yo(s,h,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=lp(c),o.memoizedState=ap,s):cp(o,T));if(g=s.memoizedState,g!==null&&(z=g.dehydrated,z!==null))return Wj(s,o,T,h,z,g,c);if(w){w=h.fallback,T=o.mode,g=s.child,z=g.sibling;var H={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=H,o.deletions=null):(h=no(g,H),h.subtreeFlags=g.subtreeFlags&14680064),z!==null?w=no(z,w):(w=Yo(w,T,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,T=s.child.memoizedState,T=T===null?lp(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=s.childLanes&~c,o.memoizedState=ap,h}return w=s.child,s=w.sibling,h=no(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function cp(s,o){return o=ad({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function qu(s,o,c,h){return h!==null&&Of(h),na(o,s.child,null,c),s=cp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Wj(s,o,c,h,g,w,T){if(c)return o.flags&256?(o.flags&=-257,h=rp(Error(n(422))),qu(s,o,T,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=ad({mode:"visible",children:h.children},g,0,null),w=Yo(w,g,T,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&na(o,s.child,null,T),o.child.memoizedState=lp(T),o.memoizedState=ap,w);if((o.mode&1)===0)return qu(s,o,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var z=h.dgst;return h=z,w=Error(n(419)),h=rp(w,h,void 0),qu(s,o,T,h)}if(z=(T&s.childLanes)!==0,ln||z){if(h=jt,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,us(s,g),or(h,s,g,-1))}return Np(),h=rp(Error(n(421))),qu(s,o,T,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=o2.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Sn=Gs(g.nextSibling),En=o,st=!0,tr=null,s!==null&&(Ln[Vn++]=ls,Ln[Vn++]=cs,Ln[Vn++]=zo,ls=s.id,cs=s.overflow,zo=o),o=cp(o,h.children),o.flags|=4096,o)}function Fx(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),$f(s.return,o,c)}function up(s,o,c,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function $x(s,o,c){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(Jt(s,o,h.children,c),h=ot.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fx(s,c,o);else if(s.tag===19)Fx(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(et(ot,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&zu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),up(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&zu(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}up(o,!0,c,null,w);break;case"together":up(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Wo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=no(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=no(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Kj(s,o,c){switch(o.tag){case 3:Ox(o),ta();break;case 5:ex(o);break;case 1:an(o.type)&&Pu(o);break;case 4:Bf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;et(Lu,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(et(ot,ot.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Vx(s,o,c):(et(ot,ot.current&1),s=hs(s,o,c),s!==null?s.sibling:null);et(ot,ot.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return $x(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(ot,ot.current),h)break;return null;case 22:case 23:return o.lanes=0,Rx(s,o,c)}return hs(s,o,c)}var zx,dp,Ux,Bx;zx=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},dp=function(){},Ux=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,Ho(Pr.current);var w=null;switch(c){case"input":g=Si(s,g),h=Si(s,h),w=[];break;case"select":g=ae({},g,{value:void 0}),h=ae({},h,{value:void 0}),w=[];break;case"textarea":g=nl(s,g),h=nl(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ku)}Xn(c,h);var T;c=null;for(J in g)if(!h.hasOwnProperty(J)&&g.hasOwnProperty(J)&&g[J]!=null)if(J==="style"){var z=g[J];for(T in z)z.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in h){var H=h[J];if(z=g?.[J],h.hasOwnProperty(J)&&H!==z&&(H!=null||z!=null))if(J==="style")if(z){for(T in z)!z.hasOwnProperty(T)||H&&H.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in H)H.hasOwnProperty(T)&&z[T]!==H[T]&&(c||(c={}),c[T]=H[T])}else c||(w||(w=[]),w.push(J,c)),c=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(w=w||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(w=w||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&nt("scroll",s),w||z===H||(w=[])):(w=w||[]).push(J,H))}c&&(w=w||[]).push("style",c);var J=w;(o.updateQueue=J)&&(o.flags|=4)}},Bx=function(s,o,c,h){c!==h&&(o.flags|=4)};function Ul(s,o){if(!st)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function qj(s,o,c){var h=o.pendingProps;switch(Rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return an(o.type)&&Iu(),Kt(o),null;case 3:return h=o.stateNode,oa(),rt(on),rt(Gt),Wf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Du(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tr!==null&&(_p(tr),tr=null))),dp(s,o),Kt(o),null;case 5:Hf(o);var g=Ho(Ll.current);if(c=o.type,s!==null&&o.stateNode!=null)Ux(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}if(s=Ho(Pr.current),Du(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[Ir]=o,h[Al]=w,s=(o.mode&1)!==0,c){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(g=0;g<Tl.length;g++)nt(Tl[g],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":Zc(h,w),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},nt("invalid",h);break;case"textarea":rl(h,w),nt("invalid",h)}Xn(c,w),g=null;for(var T in w)if(w.hasOwnProperty(T)){var z=w[T];T==="children"?typeof z=="string"?h.textContent!==z&&(w.suppressHydrationWarning!==!0&&ju(h.textContent,z,s),g=["children",z]):typeof z=="number"&&h.textContent!==""+z&&(w.suppressHydrationWarning!==!0&&ju(h.textContent,z,s),g=["children",""+z]):i.hasOwnProperty(T)&&z!=null&&T==="onScroll"&&nt("scroll",h)}switch(c){case"input":Rn(h),tl(h,w,!0);break;case"textarea":Rn(h),Ts(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=ku)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=sl(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=T.createElement(c,{is:h.is}):(s=T.createElement(c),c==="select"&&(T=s,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):s=T.createElementNS(s,c),s[Ir]=o,s[Al]=h,zx(s,o,!1,!1),o.stateNode=s;e:{switch(T=ki(c,h),c){case"dialog":nt("cancel",s),nt("close",s),g=h;break;case"iframe":case"object":case"embed":nt("load",s),g=h;break;case"video":case"audio":for(g=0;g<Tl.length;g++)nt(Tl[g],s);g=h;break;case"source":nt("error",s),g=h;break;case"img":case"image":case"link":nt("error",s),nt("load",s),g=h;break;case"details":nt("toggle",s),g=h;break;case"input":Zc(s,h),g=Si(s,h),nt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ae({},h,{value:void 0}),nt("invalid",s);break;case"textarea":rl(s,h),g=nl(s,h),nt("invalid",s);break;default:g=h}Xn(c,g),z=g;for(w in z)if(z.hasOwnProperty(w)){var H=z[w];w==="style"?ji(s,H):w==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&tu(s,H)):w==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&No(s,H):typeof H=="number"&&No(s,""+H):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?H!=null&&w==="onScroll"&&nt("scroll",s):H!=null&&F(s,w,H,T))}switch(c){case"input":Rn(s),tl(s,h,!1);break;case"textarea":Rn(s),Ts(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Oe(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Yn(s,!!h.multiple,w,!1):h.defaultValue!=null&&Yn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ku)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(s&&o.stateNode!=null)Bx(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(c=Ho(Ll.current),Ho(Pr.current),Du(o)){if(h=o.stateNode,c=o.memoizedProps,h[Ir]=o,(w=h.nodeValue!==c)&&(s=En,s!==null))switch(s.tag){case 3:ju(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ju(h.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Ir]=o,o.stateNode=h}return Kt(o),null;case 13:if(rt(ot),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Wy(),ta(),o.flags|=98560,w=!1;else if(w=Du(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ir]=o}else ta(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),w=!1}else tr!==null&&(_p(tr),tr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ot.current&1)!==0?Et===0&&(Et=3):Np())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return oa(),dp(s,o),s===null&&Il(o.stateNode.containerInfo),Kt(o),null;case 10:return Ff(o.type._context),Kt(o),null;case 17:return an(o.type)&&Iu(),Kt(o),null;case 19:if(rt(ot),w=o.memoizedState,w===null)return Kt(o),null;if(h=(o.flags&128)!==0,T=w.rendering,T===null)if(h)Ul(w,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=zu(s),T!==null){for(o.flags|=128,Ul(w,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,s=h,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,s=T.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return et(ot,ot.current&1|2),o.child}s=s.sibling}w.tail!==null&&tt()>ca&&(o.flags|=128,h=!0,Ul(w,!1),o.lanes=4194304)}else{if(!h)if(s=zu(T),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Ul(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!st)return Kt(o),null}else 2*tt()-w.renderingStartTime>ca&&c!==1073741824&&(o.flags|=128,h=!0,Ul(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(c=w.last,c!==null?c.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=tt(),o.sibling=null,c=ot.current,et(ot,h?c&1|2:c&1),o):(Kt(o),null);case 22:case 23:return Sp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Qj(s,o){switch(Rf(o),o.tag){case 1:return an(o.type)&&Iu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return oa(),rt(on),rt(Gt),Wf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Hf(o),null;case 13:if(rt(ot),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ta()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(ot),null;case 4:return oa(),null;case 10:return Ff(o.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var Yu=!1,qt=!1,Yj=typeof WeakSet=="function"?WeakSet:Set,xe=null;function aa(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(s,o,h)}else c.current=null}function hp(s,o,c){try{c()}catch(h){dt(s,o,h)}}var Hx=!1;function Xj(s,o){if(Sf=rs,s=_y(),gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var T=0,z=-1,H=-1,J=0,ie=0,le=s,oe=null;t:for(;;){for(var ge;le!==c||g!==0&&le.nodeType!==3||(z=T+g),le!==w||h!==0&&le.nodeType!==3||(H=T+h),le.nodeType===3&&(T+=le.nodeValue.length),(ge=le.firstChild)!==null;)oe=le,le=ge;for(;;){if(le===s)break t;if(oe===c&&++J===g&&(z=T),oe===w&&++ie===h&&(H=T),(ge=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=ge}c=z===-1||H===-1?null:{start:z,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nf={focusedElem:s,selectionRange:c},rs=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ee=be.memoizedProps,pt=be.memoizedState,Q=o.stateNode,W=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:nr(o.type,Ee),pt);Q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){dt(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return be=Hx,Hx=!1,be}function Bl(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&hp(o,c,w)}g=g.next}while(g!==h)}}function Xu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function fp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Gx(s){var o=s.alternate;o!==null&&(s.alternate=null,Gx(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[Al],delete o[Tf],delete o[Rj],delete o[Mj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Wx(s){return s.tag===5||s.tag===3||s.tag===4}function Kx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ku));else if(h!==4&&(s=s.child,s!==null))for(pp(s,o,c),s=s.sibling;s!==null;)pp(s,o,c),s=s.sibling}function mp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(mp(s,o,c),s=s.sibling;s!==null;)mp(s,o,c),s=s.sibling}var Ot=null,rr=!1;function Xs(s,o,c){for(c=c.child;c!==null;)qx(s,o,c),c=c.sibling}function qx(s,o,c){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Io,c)}catch{}switch(c.tag){case 5:qt||aa(c,o);case 6:var h=Ot,g=rr;Ot=null,Xs(s,o,c),Ot=h,rr=g,Ot!==null&&(rr?(s=Ot,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Ot.removeChild(c.stateNode));break;case 18:Ot!==null&&(rr?(s=Ot,c=c.stateNode,s.nodeType===8?kf(s.parentNode,c):s.nodeType===1&&kf(s,c),zs(s)):kf(Ot,c.stateNode));break;case 4:h=Ot,g=rr,Ot=c.stateNode.containerInfo,rr=!0,Xs(s,o,c),Ot=h,rr=g;break;case 0:case 11:case 14:case 15:if(!qt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&hp(c,o,T),g=g.next}while(g!==h)}Xs(s,o,c);break;case 1:if(!qt&&(aa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(z){dt(c,o,z)}Xs(s,o,c);break;case 21:Xs(s,o,c);break;case 22:c.mode&1?(qt=(h=qt)||c.memoizedState!==null,Xs(s,o,c),qt=h):Xs(s,o,c);break;default:Xs(s,o,c)}}function Qx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Yj),o.forEach(function(h){var g=i2.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function sr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=s,T=o,z=T;e:for(;z!==null;){switch(z.tag){case 5:Ot=z.stateNode,rr=!1;break e;case 3:Ot=z.stateNode.containerInfo,rr=!0;break e;case 4:Ot=z.stateNode.containerInfo,rr=!0;break e}z=z.return}if(Ot===null)throw Error(n(160));qx(w,T,g),Ot=null,rr=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(J){dt(g,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Yx(o,s),o=o.sibling}function Yx(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(sr(o,s),Rr(s),h&4){try{Bl(3,s,s.return),Xu(3,s)}catch(Ee){dt(s,s.return,Ee)}try{Bl(5,s,s.return)}catch(Ee){dt(s,s.return,Ee)}}break;case 1:sr(o,s),Rr(s),h&512&&c!==null&&aa(c,c.return);break;case 5:if(sr(o,s),Rr(s),h&512&&c!==null&&aa(c,c.return),s.flags&32){var g=s.stateNode;try{No(g,"")}catch(Ee){dt(s,s.return,Ee)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,T=c!==null?c.memoizedProps:w,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&w.type==="radio"&&w.name!=null&&Ni(g,w),ki(z,T);var J=ki(z,w);for(T=0;T<H.length;T+=2){var ie=H[T],le=H[T+1];ie==="style"?ji(g,le):ie==="dangerouslySetInnerHTML"?tu(g,le):ie==="children"?No(g,le):F(g,ie,le,J)}switch(z){case"input":So(g,w);break;case"textarea":eu(g,w);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ge=w.value;ge!=null?Yn(g,!!w.multiple,ge,!1):oe!==!!w.multiple&&(w.defaultValue!=null?Yn(g,!!w.multiple,w.defaultValue,!0):Yn(g,!!w.multiple,w.multiple?[]:"",!1))}g[Al]=w}catch(Ee){dt(s,s.return,Ee)}}break;case 6:if(sr(o,s),Rr(s),h&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Ee){dt(s,s.return,Ee)}}break;case 3:if(sr(o,s),Rr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{zs(o.containerInfo)}catch(Ee){dt(s,s.return,Ee)}break;case 4:sr(o,s),Rr(s);break;case 13:sr(o,s),Rr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(yp=tt())),h&4&&Qx(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(qt=(J=qt)||ie,sr(o,s),qt=J):sr(o,s),Rr(s),h&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ie&&(s.mode&1)!==0)for(xe=s,ie=s.child;ie!==null;){for(le=xe=ie;xe!==null;){switch(oe=xe,ge=oe.child,oe.tag){case 0:case 11:case 14:case 15:Bl(4,oe,oe.return);break;case 1:aa(oe,oe.return);var be=oe.stateNode;if(typeof be.componentWillUnmount=="function"){h=oe,c=oe.return;try{o=h,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(Ee){dt(h,c,Ee)}}break;case 5:aa(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Zx(le);continue}}ge!==null?(ge.return=oe,xe=ge):Zx(le)}ie=ie.sibling}e:for(ie=null,le=s;;){if(le.tag===5){if(ie===null){ie=le;try{g=le.stateNode,J?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(z=le.stateNode,H=le.memoizedProps.style,T=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=As("display",T))}catch(Ee){dt(s,s.return,Ee)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Ee){dt(s,s.return,Ee)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:sr(o,s),Rr(s),h&4&&Qx(s);break;case 21:break;default:sr(o,s),Rr(s)}}function Rr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Wx(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(No(g,""),h.flags&=-33);var w=Kx(s);mp(s,w,g);break;case 3:case 4:var T=h.stateNode.containerInfo,z=Kx(s);pp(s,z,T);break;default:throw Error(n(161))}}catch(H){dt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Jj(s,o,c){xe=s,Xx(s)}function Xx(s,o,c){for(var h=(s.mode&1)!==0;xe!==null;){var g=xe,w=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||Yu;if(!T){var z=g.alternate,H=z!==null&&z.memoizedState!==null||qt;z=Yu;var J=qt;if(Yu=T,(qt=H)&&!J)for(xe=g;xe!==null;)T=xe,H=T.child,T.tag===22&&T.memoizedState!==null?e0(g):H!==null?(H.return=T,xe=H):e0(g);for(;w!==null;)xe=w,Xx(w),w=w.sibling;xe=g,Yu=z,qt=J}Jx(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,xe=w):Jx(s)}}function Jx(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Xu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!qt)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:nr(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Zy(o,w,h);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Zy(o,T,c)}break;case 5:var z=o.stateNode;if(c===null&&o.flags&4){c=z;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ie=J.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&zs(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&fp(o)}catch(oe){dt(o,o.return,oe)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function Zx(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function e0(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Xu(4,o)}catch(H){dt(o,c,H)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(H){dt(o,g,H)}}var w=o.return;try{fp(o)}catch(H){dt(o,w,H)}break;case 5:var T=o.return;try{fp(o)}catch(H){dt(o,T,H)}}}catch(H){dt(o,o.return,H)}if(o===s){xe=null;break}var z=o.sibling;if(z!==null){z.return=o.return,xe=z;break}xe=o.return}}var Zj=Math.ceil,Ju=U.ReactCurrentDispatcher,gp=U.ReactCurrentOwner,zn=U.ReactCurrentBatchConfig,Ge=0,jt=null,vt=null,Lt=0,Nn=0,la=Ws(0),Et=0,Hl=null,Wo=0,Zu=0,vp=0,Gl=null,cn=null,yp=0,ca=1/0,fs=null,ed=!1,xp=null,Js=null,td=!1,Zs=null,nd=0,Wl=0,bp=null,rd=-1,sd=0;function Zt(){return(Ge&6)!==0?tt():rd!==-1?rd:rd=tt()}function eo(s){return(s.mode&1)===0?1:(Ge&2)!==0&&Lt!==0?Lt&-Lt:Oj.transition!==null?(sd===0&&(sd=fl()),sd):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:Vi(s.type)),s)}function or(s,o,c,h){if(50<Wl)throw Wl=0,bp=null,Error(n(185));Mo(s,c,h),((Ge&2)===0||s!==jt)&&(s===jt&&((Ge&2)===0&&(Zu|=c),Et===4&&to(s,Lt)),un(s,h),c===1&&Ge===0&&(o.mode&1)===0&&(ca=tt()+500,Au&&qs()))}function un(s,o){var c=s.callbackNode;Ro(s,o);var h=es(s,s===jt?Lt:0);if(h===0)c!==null&&Pi(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Pi(c),o===1)s.tag===0?Dj(n0.bind(null,s)):zy(n0.bind(null,s)),Pj(function(){(Ge&6)===0&&qs()}),c=null;else{switch(br(h)){case 1:c=Ai;break;case 4:c=ul;break;case 16:c=To;break;case 536870912:c=Ri;break;default:c=To}c=u0(c,t0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function t0(s,o){if(rd=-1,sd=0,(Ge&6)!==0)throw Error(n(327));var c=s.callbackNode;if(ua()&&s.callbackNode!==c)return null;var h=es(s,s===jt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=od(s,h);else{o=h;var g=Ge;Ge|=2;var w=s0();(jt!==s||Lt!==o)&&(fs=null,ca=tt()+500,qo(s,o));do try{n2();break}catch(z){r0(s,z)}while(!0);Vf(),Ju.current=w,Ge=g,vt!==null?o=0:(jt=null,Lt=0,o=Et)}if(o!==0){if(o===2&&(g=hl(s),g!==0&&(h=g,o=wp(s,g))),o===1)throw c=Hl,qo(s,0),to(s,h),un(s,tt()),c;if(o===6)to(s,h);else{if(g=s.current.alternate,(h&30)===0&&!e2(g)&&(o=od(s,h),o===2&&(w=hl(s),w!==0&&(h=w,o=wp(s,w))),o===1))throw c=Hl,qo(s,0),to(s,h),un(s,tt()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Qo(s,cn,fs);break;case 3:if(to(s,h),(h&130023424)===h&&(o=yp+500-tt(),10<o)){if(es(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Zt(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=jf(Qo.bind(null,s,cn,fs),o);break}Qo(s,cn,fs);break;case 4:if(to(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var T=31-yn(h);w=1<<T,T=o[T],T>g&&(g=T),h&=~w}if(h=g,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Zj(h/1960))-h,10<h){s.timeoutHandle=jf(Qo.bind(null,s,cn,fs),h);break}Qo(s,cn,fs);break;case 5:Qo(s,cn,fs);break;default:throw Error(n(329))}}}return un(s,tt()),s.callbackNode===c?t0.bind(null,s):null}function wp(s,o){var c=Gl;return s.current.memoizedState.isDehydrated&&(qo(s,o).flags|=256),s=od(s,o),s!==2&&(o=cn,cn=c,o!==null&&_p(o)),s}function _p(s){cn===null?cn=s:cn.push.apply(cn,s)}function e2(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!er(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function to(s,o){for(o&=~vp,o&=~Zu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-yn(o),h=1<<c;s[c]=-1,o&=~h}}function n0(s){if((Ge&6)!==0)throw Error(n(327));ua();var o=es(s,0);if((o&1)===0)return un(s,tt()),null;var c=od(s,o);if(s.tag!==0&&c===2){var h=hl(s);h!==0&&(o=h,c=wp(s,h))}if(c===1)throw c=Hl,qo(s,0),to(s,o),un(s,tt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Qo(s,cn,fs),un(s,tt()),null}function Ep(s,o){var c=Ge;Ge|=1;try{return s(o)}finally{Ge=c,Ge===0&&(ca=tt()+500,Au&&qs())}}function Ko(s){Zs!==null&&Zs.tag===0&&(Ge&6)===0&&ua();var o=Ge;Ge|=1;var c=zn.transition,h=Ue;try{if(zn.transition=null,Ue=1,s)return s()}finally{Ue=h,zn.transition=c,Ge=o,(Ge&6)===0&&qs()}}function Sp(){Nn=la.current,rt(la)}function qo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Ij(c)),vt!==null)for(c=vt.return;c!==null;){var h=c;switch(Rf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Iu();break;case 3:oa(),rt(on),rt(Gt),Wf();break;case 5:Hf(h);break;case 4:oa();break;case 13:rt(ot);break;case 19:rt(ot);break;case 10:Ff(h.type._context);break;case 22:case 23:Sp()}c=c.return}if(jt=s,vt=s=no(s.current,null),Lt=Nn=o,Et=0,Hl=null,vp=Zu=Wo=0,cn=Gl=null,Bo!==null){for(o=0;o<Bo.length;o++)if(c=Bo[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var T=w.next;w.next=g,h.next=T}c.pending=h}Bo=null}return s}function r0(s,o){do{var c=vt;try{if(Vf(),Uu.current=Wu,Bu){for(var h=it.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Bu=!1}if(Go=0,Ct=_t=it=null,Vl=!1,Fl=0,gp.current=null,c===null||c.return===null){Et=1,Hl=o,vt=null;break}e:{var w=s,T=c.return,z=c,H=o;if(o=Lt,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,ie=z,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var oe=ie.alternate;oe?(ie.updateQueue=oe.updateQueue,ie.memoizedState=oe.memoizedState,ie.lanes=oe.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=kx(T);if(ge!==null){ge.flags&=-257,Tx(ge,T,z,w,o),ge.mode&1&&jx(w,J,o),o=ge,H=J;var be=o.updateQueue;if(be===null){var Ee=new Set;Ee.add(H),o.updateQueue=Ee}else be.add(H);break e}else{if((o&1)===0){jx(w,J,o),Np();break e}H=Error(n(426))}}else if(st&&z.mode&1){var pt=kx(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Tx(pt,T,z,w,o),Of(ia(H,z));break e}}w=H=ia(H,z),Et!==4&&(Et=2),Gl===null?Gl=[w]:Gl.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var Q=Nx(w,H,o);Jy(w,Q);break e;case 1:z=H;var W=w.type,X=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Js===null||!Js.has(X)))){w.flags|=65536,o&=-o,w.lanes|=o;var ue=Cx(w,z,o);Jy(w,ue);break e}}w=w.return}while(w!==null)}i0(c)}catch(Se){o=Se,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function s0(){var s=Ju.current;return Ju.current=Wu,s===null?Wu:s}function Np(){(Et===0||Et===3||Et===2)&&(Et=4),jt===null||(Wo&268435455)===0&&(Zu&268435455)===0||to(jt,Lt)}function od(s,o){var c=Ge;Ge|=2;var h=s0();(jt!==s||Lt!==o)&&(fs=null,qo(s,o));do try{t2();break}catch(g){r0(s,g)}while(!0);if(Vf(),Ge=c,Ju.current=h,vt!==null)throw Error(n(261));return jt=null,Lt=0,Et}function t2(){for(;vt!==null;)o0(vt)}function n2(){for(;vt!==null&&!ko();)o0(vt)}function o0(s){var o=c0(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?i0(s):vt=o,gp.current=null}function i0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=qj(c,o,Nn),c!==null){vt=c;return}}else{if(c=Qj(c,o),c!==null){c.flags&=32767,vt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=s}while(o!==null);Et===0&&(Et=5)}function Qo(s,o,c){var h=Ue,g=zn.transition;try{zn.transition=null,Ue=1,r2(s,o,c,h)}finally{zn.transition=g,Ue=h}return null}function r2(s,o,c,h){do ua();while(Zs!==null);if((Ge&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(df(s,w),s===jt&&(vt=jt=null,Lt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||td||(td=!0,u0(To,function(){return ua(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=zn.transition,zn.transition=null;var T=Ue;Ue=1;var z=Ge;Ge|=4,gp.current=null,Xj(s,c),Yx(c,s),Ej(Nf),rs=!!Sf,Nf=Sf=null,s.current=c,Jj(c),Zr(),Ge=z,Ue=T,zn.transition=w}else s.current=c;if(td&&(td=!1,Zs=s,nd=g),w=s.pendingLanes,w===0&&(Js=null),hu(c.stateNode),un(s,tt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(ed)throw ed=!1,s=xp,xp=null,s;return(nd&1)!==0&&s.tag!==0&&ua(),w=s.pendingLanes,(w&1)!==0?s===bp?Wl++:(Wl=0,bp=s):Wl=0,qs(),null}function ua(){if(Zs!==null){var s=br(nd),o=zn.transition,c=Ue;try{if(zn.transition=null,Ue=16>s?16:s,Zs===null)var h=!1;else{if(s=Zs,Zs=null,nd=0,(Ge&6)!==0)throw Error(n(331));var g=Ge;for(Ge|=4,xe=s.current;xe!==null;){var w=xe,T=w.child;if((xe.flags&16)!==0){var z=w.deletions;if(z!==null){for(var H=0;H<z.length;H++){var J=z[H];for(xe=J;xe!==null;){var ie=xe;switch(ie.tag){case 0:case 11:case 15:Bl(8,ie,w)}var le=ie.child;if(le!==null)le.return=ie,xe=le;else for(;xe!==null;){ie=xe;var oe=ie.sibling,ge=ie.return;if(Gx(ie),ie===J){xe=null;break}if(oe!==null){oe.return=ge,xe=oe;break}xe=ge}}}var be=w.alternate;if(be!==null){var Ee=be.child;if(Ee!==null){be.child=null;do{var pt=Ee.sibling;Ee.sibling=null,Ee=pt}while(Ee!==null)}}xe=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,xe=T;else e:for(;xe!==null;){if(w=xe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Bl(9,w,w.return)}var Q=w.sibling;if(Q!==null){Q.return=w.return,xe=Q;break e}xe=w.return}}var W=s.current;for(xe=W;xe!==null;){T=xe;var X=T.child;if((T.subtreeFlags&2064)!==0&&X!==null)X.return=T,xe=X;else e:for(T=W;xe!==null;){if(z=xe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Xu(9,z)}}catch(Se){dt(z,z.return,Se)}if(z===T){xe=null;break e}var ue=z.sibling;if(ue!==null){ue.return=z.return,xe=ue;break e}xe=z.return}}if(Ge=g,qs(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Io,s)}catch{}h=!0}return h}finally{Ue=c,zn.transition=o}}return!1}function a0(s,o,c){o=ia(c,o),o=Nx(s,o,1),s=Ys(s,o,1),o=Zt(),s!==null&&(Mo(s,1,o),un(s,o))}function dt(s,o,c){if(s.tag===3)a0(s,s,c);else for(;o!==null;){if(o.tag===3){a0(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Js===null||!Js.has(h))){s=ia(c,s),s=Cx(o,s,1),o=Ys(o,s,1),s=Zt(),o!==null&&(Mo(o,1,s),un(o,s));break}}o=o.return}}function s2(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Zt(),s.pingedLanes|=s.suspendedLanes&c,jt===s&&(Lt&c)===c&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>tt()-yp?qo(s,0):vp|=c),un(s,o)}function l0(s,o){o===0&&((s.mode&1)===0?o=1:(o=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var c=Zt();s=us(s,o),s!==null&&(Mo(s,o,c),un(s,c))}function o2(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),l0(s,c)}function i2(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),l0(s,c)}var c0;c0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||on.current)ln=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return ln=!1,Kj(s,o,c);ln=(s.flags&131072)!==0}else ln=!1,st&&(o.flags&1048576)!==0&&Uy(o,Mu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Qu(s,o),s=o.pendingProps;var g=Ji(o,Gt.current);sa(o,c),g=Qf(null,o,h,s,g,c);var w=Yf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,an(h)?(w=!0,Pu(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Uf(o),g.updater=Ku,o.stateNode=g,g._reactInternals=o,np(o,h,s,c),o=ip(null,o,h,!0,w,c)):(o.tag=0,st&&w&&Af(o),Jt(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Qu(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=l2(h),s=nr(h,s),g){case 0:o=op(null,o,h,s,c);break e;case 1:o=Dx(null,o,h,s,c);break e;case 11:o=Ix(null,o,h,s,c);break e;case 14:o=Px(null,o,h,nr(h.type,s),c);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:nr(h,g),op(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:nr(h,g),Dx(s,o,h,g,c);case 3:e:{if(Ox(o),s===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,g=w.element,Xy(s,o),$u(o,h,null,c);var T=o.memoizedState;if(h=T.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=ia(Error(n(423)),o),o=Lx(s,o,h,c,g);break e}else if(h!==g){g=ia(Error(n(424)),o),o=Lx(s,o,h,c,g);break e}else for(Sn=Gs(o.stateNode.containerInfo.firstChild),En=o,st=!0,tr=null,c=Qy(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ta(),h===g){o=hs(s,o,c);break e}Jt(s,o,h,c)}o=o.child}return o;case 5:return ex(o),s===null&&Df(o),h=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,T=g.children,Cf(h,g)?T=null:w!==null&&Cf(h,w)&&(o.flags|=32),Mx(s,o),Jt(s,o,T,c),o.child;case 6:return s===null&&Df(o),null;case 13:return Vx(s,o,c);case 4:return Bf(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=na(o,null,h,c):Jt(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:nr(h,g),Ix(s,o,h,g,c);case 7:return Jt(s,o,o.pendingProps,c),o.child;case 8:return Jt(s,o,o.pendingProps.children,c),o.child;case 12:return Jt(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,T=g.value,et(Lu,h._currentValue),h._currentValue=T,w!==null)if(er(w.value,T)){if(w.children===g.children&&!on.current){o=hs(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var z=w.dependencies;if(z!==null){T=w.child;for(var H=z.firstContext;H!==null;){if(H.context===h){if(w.tag===1){H=ds(-1,c&-c),H.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var ie=J.pending;ie===null?H.next=H:(H.next=ie.next,ie.next=H),J.pending=H}}w.lanes|=c,H=w.alternate,H!==null&&(H.lanes|=c),$f(w.return,c,o),z.lanes|=c;break}H=H.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=c,z=T.alternate,z!==null&&(z.lanes|=c),$f(T,c,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}Jt(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,sa(o,c),g=Fn(g),h=h(g),o.flags|=1,Jt(s,o,h,c),o.child;case 14:return h=o.type,g=nr(h,o.pendingProps),g=nr(h.type,g),Px(s,o,h,g,c);case 15:return Ax(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:nr(h,g),Qu(s,o),o.tag=1,an(h)?(s=!0,Pu(o)):s=!1,sa(o,c),Ex(o,h,g),np(o,h,g,c),ip(null,o,h,!0,s,c);case 19:return $x(s,o,c);case 22:return Rx(s,o,c)}throw Error(n(156,o.tag))};function u0(s,o){return cl(s,o)}function a2(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,c,h){return new a2(s,o,c,h)}function Cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function l2(s){if(typeof s=="function")return Cp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===te)return 14}return 2}function no(s,o){var c=s.alternate;return c===null?(c=Un(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function id(s,o,c,h,g,w){var T=2;if(h=s,typeof s=="function")Cp(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case I:return Yo(c.children,g,w,o);case j:T=8,g|=8;break;case A:return s=Un(12,c,o,g|2),s.elementType=A,s.lanes=w,s;case P:return s=Un(13,c,o,g),s.elementType=P,s.lanes=w,s;case B:return s=Un(19,c,o,g),s.elementType=B,s.lanes=w,s;case ce:return ad(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:T=10;break e;case O:T=9;break e;case D:T=11;break e;case te:T=14;break e;case se:T=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Un(T,c,o,g),o.elementType=s,o.type=h,o.lanes=w,o}function Yo(s,o,c,h){return s=Un(7,s,h,o),s.lanes=c,s}function ad(s,o,c,h){return s=Un(22,s,h,o),s.elementType=ce,s.lanes=c,s.stateNode={isHidden:!1},s}function jp(s,o,c){return s=Un(6,s,null,o),s.lanes=c,s}function kp(s,o,c){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function c2(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Tp(s,o,c,h,g,w,T,z,H){return s=new c2(s,o,c,z,H),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Un(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(w),s}function u2(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function d0(s){if(!s)return Ks;s=s._reactInternals;e:{if(Jn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(an(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(an(c))return Fy(s,c,o)}return o}function h0(s,o,c,h,g,w,T,z,H){return s=Tp(c,h,!0,s,g,w,T,z,H),s.context=d0(null),c=s.current,h=Zt(),g=eo(c),w=ds(h,g),w.callback=o??null,Ys(c,w,g),s.current.lanes=g,Mo(s,g,h),un(s,h),s}function ld(s,o,c,h){var g=o.current,w=Zt(),T=eo(g);return c=d0(c),o.context===null?o.context=c:o.pendingContext=c,o=ds(w,T),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Ys(g,o,T),s!==null&&(or(s,g,T,w),Fu(s,g,T)),T}function cd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Ip(s,o){f0(s,o),(s=s.alternate)&&f0(s,o)}function d2(){return null}var p0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Pp(s){this._internalRoot=s}ud.prototype.render=Pp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));ld(s,o,null,null)},ud.prototype.unmount=Pp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ko(function(){ld(null,s,null,null)}),o[is]=null}};function ud(s){this._internalRoot=s}ud.prototype.unstable_scheduleHydration=function(s){if(s){var o=yl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<xn.length&&o!==0&&o<xn[c].priority;c++);xn.splice(c,0,s),c===0&&Oi(s)}};function Ap(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function dd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function m0(){}function h2(s,o,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var J=cd(T);w.call(J)}}var T=h0(o,h,s,0,null,!1,!1,"",m0);return s._reactRootContainer=T,s[is]=T.current,Il(s.nodeType===8?s.parentNode:s),Ko(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var z=h;h=function(){var J=cd(H);z.call(J)}}var H=Tp(s,0,!1,null,null,!1,!1,"",m0);return s._reactRootContainer=H,s[is]=H.current,Il(s.nodeType===8?s.parentNode:s),Ko(function(){ld(o,H,c,h)}),H}function hd(s,o,c,h,g){var w=c._reactRootContainer;if(w){var T=w;if(typeof g=="function"){var z=g;g=function(){var H=cd(T);z.call(H)}}ld(o,T,s,g)}else T=h2(c,o,s,g,h);return cd(T)}gl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Qe(o.pendingLanes);c!==0&&(ml(o,c|1),un(o,tt()),(Ge&6)===0&&(ca=tt()+500,qs()))}break;case 13:Ko(function(){var h=us(s,1);if(h!==null){var g=Zt();or(h,s,1,g)}}),Ip(s,1)}},Mi=function(s){if(s.tag===13){var o=us(s,134217728);if(o!==null){var c=Zt();or(o,s,134217728,c)}Ip(s,134217728)}},vl=function(s){if(s.tag===13){var o=eo(s),c=us(s,o);if(c!==null){var h=Zt();or(c,s,o,h)}Ip(s,o)}},yl=function(){return Ue},xl=function(s,o){var c=Ue;try{return Ue=s,o()}finally{Ue=c}},Yr=function(s,o,c){switch(o){case"input":if(So(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=Tu(h);if(!g)throw Error(n(90));Mn(h),So(h,g)}}}break;case"textarea":eu(s,c);break;case"select":o=c.value,o!=null&&Yn(s,!!c.multiple,o,!1)}},ru=Ep,su=Ko;var f2={usingClientEntryPoint:!1,Events:[Rl,Yi,Tu,Ms,Ds,Ep]},Kl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p2={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=du(s),s===null?null:s.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||d2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Io=fd.inject(p2),vn=fd}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2,dn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(o))throw Error(n(200));return u2(s,o,null,c)},dn.createRoot=function(s,o){if(!Ap(s))throw Error(n(299));var c=!1,h="",g=p0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Tp(s,1,!1,null,null,c,!1,h,g),s[is]=o.current,Il(s.nodeType===8?s.parentNode:s),new Pp(o)},dn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=du(o),s=s===null?null:s.stateNode,s},dn.flushSync=function(s){return Ko(s)},dn.hydrate=function(s,o,c){if(!dd(o))throw Error(n(200));return hd(null,s,o,!0,c)},dn.hydrateRoot=function(s,o,c){if(!Ap(s))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",T=p0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=h0(o,null,s,1,c??null,g,!1,w,T),s[is]=o.current,Il(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new ud(o)},dn.render=function(s,o,c){if(!dd(o))throw Error(n(200));return hd(null,s,o,!1,c)},dn.unmountComponentAtNode=function(s){if(!dd(s))throw Error(n(40));return s._reactRootContainer?(Ko(function(){hd(null,null,s,!1,function(){s._reactRootContainer=null,s[is]=null})}),!0):!1},dn.unstable_batchedUpdates=Ep,dn.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!dd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return hd(s,o,c,!1,h)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var E0;function b1(){if(E0)return Dp.exports;E0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=_2(),Dp.exports}var S0;function E2(){if(S0)return pd;S0=1;var t=b1();return pd.createRoot=t.createRoot,pd.hydrateRoot=t.hydrateRoot,pd}var S2=E2();const N2="modulepreload",C2=function(t){return"/"+t},N0={},hr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");i=u(n.map(m=>{if(m=C2(m),m in N0)return;N0[m]=!0;const y=m.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":N2,y||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),y)return new Promise((E,S)=>{v.addEventListener("load",E),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var b=Ua();const lt=_g(b),w1=g2({__proto__:null,default:lt},[b]);function C0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jh(...t){return e=>{let n=!1;const r=t.map(i=>{const l=C0(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():C0(t[i],null)}}}}function Ke(...t){return b.useCallback(jh(...t),t)}function ui(t){const e=j2(t),n=b.forwardRef((r,i)=>{const{children:l,...u}=r,f=b.Children.toArray(l),p=f.find(T2);if(p){const m=p.props.children,y=f.map(x=>x===p?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:x);return a.jsx(e,{...u,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,y):null})}return a.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}var _1=ui("Slot");function j2(t){const e=b.forwardRef((n,r)=>{const{children:i,...l}=n;if(b.isValidElement(i)){const u=P2(i),f=I2(l,i.props);return i.type!==b.Fragment&&(f.ref=r?jh(r,u):u),b.cloneElement(i,f)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E1=Symbol("radix.slottable");function k2(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=E1,e}function T2(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E1}function I2(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...f)=>{const p=l(...f);return i(...f),p}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function P2(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function S1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=S1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function N1(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=S1(t))&&(r&&(r+=" "),r+=e);return r}const j0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,k0=N1,Eg=(t,e)=>n=>{var r;if(e?.variants==null)return k0(t,n?.class,n?.className);const{variants:i,defaultVariants:l}=e,u=Object.keys(i).map(m=>{const y=n?.[m],x=l?.[m];if(y===null)return null;const v=j0(y)||j0(x);return i[m][v]}),f=n&&Object.entries(n).reduce((m,y)=>{let[x,v]=y;return v===void 0||(m[x]=v),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:x,className:v,...E}=y;return Object.entries(E).every(S=>{let[C,k]=S;return Array.isArray(k)?k.includes({...l,...f}[C]):{...l,...f}[C]===k})?[...m,x,v]:m},[]);return k0(t,u,p,n?.class,n?.className)},Sg="-",A2=t=>{const e=M2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{const f=u.split(Sg);return f[0]===""&&f.length!==1&&f.shift(),C1(f,e)||R2(u)},getConflictingClassGroupIds:(u,f)=>{const p=n[u]||[];return f&&r[u]?[...p,...r[u]]:p}}},C1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?C1(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Sg);return e.validators.find(({validator:u})=>u(l))?.classGroupId},T0=/^\[(.+)\]$/,R2=t=>{if(T0.test(t)){const e=T0.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},M2=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)km(n[i],r,i,e);return r},km=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:I0(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(D2(i)){km(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{km(u,I0(e,l),n,r)})})},I0=(t,e)=>{let n=t;return e.split(Sg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},D2=t=>t.isThemeGetter,O2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},Tm="!",Im=":",L2=Im.length,V2=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const l=[];let u=0,f=0,p=0,m;for(let S=0;S<i.length;S++){let C=i[S];if(u===0&&f===0){if(C===Im){l.push(i.slice(p,S)),p=S+L2;continue}if(C==="/"){m=S;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const y=l.length===0?i:i.substring(p),x=F2(y),v=x!==y,E=m&&m>p?m-p:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:E}};if(e){const i=e+Im,l=r;r=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=l=>n({className:l,parseClassName:i})}return r},F2=t=>t.endsWith(Tm)?t.substring(0,t.length-1):t.startsWith(Tm)?t.substring(1):t,$2=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let l=[];return r.forEach(u=>{u[0]==="["||e[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},z2=t=>({cache:O2(t.cacheSize),parseClassName:V2(t),sortModifiers:$2(t),...A2(t)}),U2=/\s+/,B2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:l}=e,u=[],f=t.trim().split(U2);let p="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:x,modifiers:v,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:C}=n(y);if(x){p=y+(p.length>0?" "+p:p);continue}let k=!!C,V=r(k?S.substring(0,C):S);if(!V){if(!k){p=y+(p.length>0?" "+p:p);continue}if(V=r(S),!V){p=y+(p.length>0?" "+p:p);continue}k=!1}const $=l(v).join(":"),F=E?$+Tm:$,U=F+V;if(u.includes(U))continue;u.push(U);const L=i(V,k);for(let K=0;K<L.length;++K){const I=L[K];u.push(F+I)}p=y+(p.length>0?" "+p:p)}return p};function H2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=j1(e))&&(r&&(r+=" "),r+=n);return r}const j1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=j1(t[r]))&&(n&&(n+=" "),n+=e);return n};function G2(t,...e){let n,r,i,l=u;function u(p){const m=e.reduce((y,x)=>x(y),t());return n=z2(m),r=n.cache.get,i=n.cache.set,l=f,f(p)}function f(p){const m=r(p);if(m)return m;const y=B2(p,n);return i(p,y),y}return function(){return l(H2.apply(null,arguments))}}const St=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},k1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,T1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,W2=/^\d+\/\d+$/,K2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Y2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,da=t=>W2.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),so=t=>!!t&&Number.isInteger(Number(t)),Vp=t=>t.endsWith("%")&&Le(t.slice(0,-1)),ps=t=>K2.test(t),J2=()=>!0,Z2=t=>q2.test(t)&&!Q2.test(t),I1=()=>!1,ek=t=>Y2.test(t),tk=t=>X2.test(t),nk=t=>!we(t)&&!_e(t),rk=t=>Ba(t,R1,I1),we=t=>k1.test(t),Xo=t=>Ba(t,M1,Z2),Fp=t=>Ba(t,lk,Le),P0=t=>Ba(t,P1,I1),sk=t=>Ba(t,A1,tk),md=t=>Ba(t,D1,ek),_e=t=>T1.test(t),Ql=t=>Ha(t,M1),ok=t=>Ha(t,ck),A0=t=>Ha(t,P1),ik=t=>Ha(t,R1),ak=t=>Ha(t,A1),gd=t=>Ha(t,D1,!0),Ba=(t,e,n)=>{const r=k1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ha=(t,e,n=!1)=>{const r=T1.exec(t);return r?r[1]?e(r[1]):n:!1},P1=t=>t==="position"||t==="percentage",A1=t=>t==="image"||t==="url",R1=t=>t==="length"||t==="size"||t==="bg-size",M1=t=>t==="length",lk=t=>t==="number",ck=t=>t==="family-name",D1=t=>t==="shadow",uk=()=>{const t=St("color"),e=St("font"),n=St("text"),r=St("font-weight"),i=St("tracking"),l=St("leading"),u=St("breakpoint"),f=St("container"),p=St("spacing"),m=St("radius"),y=St("shadow"),x=St("inset-shadow"),v=St("text-shadow"),E=St("drop-shadow"),S=St("blur"),C=St("perspective"),k=St("aspect"),V=St("ease"),$=St("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...U(),_e,we],K=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],j=()=>[_e,we,p],A=()=>[da,"full","auto",...j()],M=()=>[so,"none","subgrid",_e,we],O=()=>["auto",{span:["full",so,_e,we]},so,_e,we],D=()=>[so,"auto",_e,we],P=()=>["auto","min","max","fr",_e,we],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],se=()=>["auto",...j()],ce=()=>[da,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],q=()=>[t,_e,we],ee=()=>[...U(),A0,P0,{position:[_e,we]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",ik,rk,{size:[_e,we]}],ne=()=>[Vp,Ql,Xo],me=()=>["","none","full",m,_e,we],ye=()=>["",Le,Ql,Xo],Re=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Le,Vp,A0,P0],Oe=()=>["","none",S,_e,we],Be=()=>["none",Le,_e,we],ct=()=>["none",Le,_e,we],Rn=()=>[Le,_e,we],Mn=()=>[da,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ps],breakpoint:[ps],color:[J2],container:[ps],"drop-shadow":[ps],ease:["in","out","in-out"],font:[nk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ps],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ps],shadow:[ps],spacing:["px",Le],text:[ps],"text-shadow":[ps],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",da,we,_e,k]}],container:["container"],columns:[{columns:[Le,we,_e,f]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[so,"auto",_e,we]}],basis:[{basis:[da,"full","auto",f,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,da,"auto","initial","none",we]}],grow:[{grow:["",Le,_e,we]}],shrink:[{shrink:["",Le,_e,we]}],order:[{order:[so,"first","last","none",_e,we]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:se()}],mx:[{mx:se()}],my:[{my:se()}],ms:[{ms:se()}],me:[{me:se()}],mt:[{mt:se()}],mr:[{mr:se()}],mb:[{mb:se()}],ml:[{ml:se()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[f,"screen",...ce()]}],"min-w":[{"min-w":[f,"screen","none",...ce()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,Ql,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,Fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vp,we]}],"font-family":[{font:[ok,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,_e,we]}],"line-clamp":[{"line-clamp":[Le,"none",_e,Fp]}],leading:[{leading:[l,...j()]}],"list-image":[{"list-image":["none",_e,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",_e,Xo]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Le,"auto",_e,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},so,_e,we],radial:["",_e,we],conic:[so,_e,we]},ak,sk]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,_e,we]}],"outline-w":[{outline:["",Le,Ql,Xo]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,gd,md]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",x,gd,md]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Le,Xo]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",v,gd,md]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Le,_e,we]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[_e,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,we]}],filter:[{filter:["","none",_e,we]}],blur:[{blur:Oe()}],brightness:[{brightness:[Le,_e,we]}],contrast:[{contrast:[Le,_e,we]}],"drop-shadow":[{"drop-shadow":["","none",E,gd,md]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Le,_e,we]}],"hue-rotate":[{"hue-rotate":[Le,_e,we]}],invert:[{invert:["",Le,_e,we]}],saturate:[{saturate:[Le,_e,we]}],sepia:[{sepia:["",Le,_e,we]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,we]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Le,_e,we]}],"backdrop-contrast":[{"backdrop-contrast":[Le,_e,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,_e,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,_e,we]}],"backdrop-invert":[{"backdrop-invert":["",Le,_e,we]}],"backdrop-opacity":[{"backdrop-opacity":[Le,_e,we]}],"backdrop-saturate":[{"backdrop-saturate":[Le,_e,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,_e,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",_e,we]}],ease:[{ease:["linear","initial",V,_e,we]}],delay:[{delay:[Le,_e,we]}],animate:[{animate:["none",$,_e,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,_e,we]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:ct()}],"scale-x":[{"scale-x":ct()}],"scale-y":[{"scale-y":ct()}],"scale-z":[{"scale-z":ct()}],"scale-3d":["scale-3d"],skew:[{skew:Rn()}],"skew-x":[{"skew-x":Rn()}],"skew-y":[{"skew-y":Rn()}],transform:[{transform:[_e,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Mn()}],"translate-x":[{"translate-x":Mn()}],"translate-y":[{"translate-y":Mn()}],"translate-z":[{"translate-z":Mn()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,we]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Le,Ql,Xo,Fp]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dk=G2(uk);function Fe(...t){return dk(N1(t))}const hk=Eg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ce=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},l)=>{const u=r?_1:"button";return a.jsx(u,{"data-slot":"button",className:Fe(hk({variant:e,size:n,className:t})),ref:l,...i})});Ce.displayName="Button";function fk(t,e){const n=b.createContext(e),r=l=>{const{children:u,...f}=l,p=b.useMemo(()=>f,Object.values(f));return a.jsx(n.Provider,{value:p,children:u})};r.displayName=t+"Provider";function i(l){const u=b.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,i]}function nn(t,e=[]){let n=[];function r(l,u){const f=b.createContext(u),p=n.length;n=[...n,u];const m=x=>{const{scope:v,children:E,...S}=x,C=v?.[t]?.[p]||f,k=b.useMemo(()=>S,Object.values(S));return a.jsx(C.Provider,{value:k,children:E})};m.displayName=l+"Provider";function y(x,v){const E=v?.[t]?.[p]||f,S=b.useContext(E);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=n.map(u=>b.createContext(u));return function(f){const p=f?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...f,[t]:p}}),[f,p])}};return i.scopeName=t,[r,pk(i,...e)]}function pk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=r.reduce((f,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...f,...x}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function zt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}var Kn=globalThis?.document?b.useLayoutEffect:()=>{},Ng=b1();const mk=_g(Ng);var gk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=gk.reduce((t,e)=>{const n=ui(`Primitive.${e}`),r=b.forwardRef((i,l)=>{const{asChild:u,...f}=i,p=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...f,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function O1(t,e){t&&Ng.flushSync(()=>t.dispatchEvent(e))}var $p={exports:{}},zp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function vk(){if(R0)return zp;R0=1;var t=Ua();function e(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function f(x,v){var E=v(),S=r({inst:{value:E,getSnapshot:v}}),C=S[0].inst,k=S[1];return l(function(){C.value=E,C.getSnapshot=v,p(C)&&k({inst:C})},[x,E,v]),i(function(){return p(C)&&k({inst:C}),x(function(){p(C)&&k({inst:C})})},[x]),u(E),E}function p(x){var v=x.getSnapshot;x=x.value;try{var E=v();return!n(x,E)}catch{return!0}}function m(x,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return zp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,zp}var M0;function yk(){return M0||(M0=1,$p.exports=vk()),$p.exports}var xk=yk();function bk(){return xk.useSyncExternalStore(wk,()=>!0,()=>!1)}function wk(){return()=>{}}var Cg="Avatar",[_k]=nn(Cg),[Ek,L1]=_k(Cg),V1=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,l]=b.useState("idle");return a.jsx(Ek,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:a.jsx(Me.span,{...r,ref:e})})});V1.displayName=Cg;var F1="AvatarImage",Sk=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=t,u=L1(F1,n),f=Nk(r,l),p=zt(m=>{i(m),u.onImageLoadingStatusChange(m)});return Kn(()=>{f!=="idle"&&p(f)},[f,p]),f==="loaded"?a.jsx(Me.img,{...l,ref:e,src:r}):null});Sk.displayName=F1;var $1="AvatarFallback",z1=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,l=L1($1,n),[u,f]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>f(!0),r);return()=>window.clearTimeout(p)}},[r]),u&&l.imageLoadingStatus!=="loaded"?a.jsx(Me.span,{...i,ref:e}):null});z1.displayName=$1;function D0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nk(t,{referrerPolicy:e,crossOrigin:n}){const r=bk(),i=b.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[u,f]=b.useState(()=>D0(l,t));return Kn(()=>{f(D0(l,t))},[l,t]),Kn(()=>{const p=x=>()=>{f(x)};if(!l)return;const m=p("loaded"),y=p("error");return l.addEventListener("load",m),l.addEventListener("error",y),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,n,e]),u}var Ck=V1,jk=z1;function kk({className:t,...e}){return a.jsx(Ck,{"data-slot":"avatar",className:Fe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Tk({className:t,...e}){return a.jsx(jk,{"data-slot":"avatar-fallback",className:Fe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const Ik=Eg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),xt=b.forwardRef(({className:t,variant:e,asChild:n=!1,...r},i)=>{const l=n?_1:"span";return a.jsx(l,{ref:i,"data-slot":"badge",className:Fe(Ik({variant:e}),t),...r})});xt.displayName="Badge";function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Pk(t,e=globalThis?.document){const n=zt(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Ak="DismissableLayer",Pm="dismissableLayer.update",Rk="dismissableLayer.pointerDownOutside",Mk="dismissableLayer.focusOutside",O0,U1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ac=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=t,m=b.useContext(U1),[y,x]=b.useState(null),v=y?.ownerDocument??globalThis?.document,[,E]=b.useState({}),S=Ke(e,I=>x(I)),C=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),V=C.indexOf(k),$=y?C.indexOf(y):-1,F=m.layersWithOutsidePointerEventsDisabled.size>0,U=$>=V,L=Lk(I=>{const j=I.target,A=[...m.branches].some(M=>M.contains(j));!U||A||(i?.(I),u?.(I),I.defaultPrevented||f?.())},v),K=Vk(I=>{const j=I.target;[...m.branches].some(M=>M.contains(j))||(l?.(I),u?.(I),I.defaultPrevented||f?.())},v);return Pk(I=>{$===m.layers.size-1&&(r?.(I),!I.defaultPrevented&&f&&(I.preventDefault(),f()))},v),b.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(O0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),L0(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=O0)}},[y,v,n,m]),b.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),L0())},[y,m]),b.useEffect(()=>{const I=()=>E({});return document.addEventListener(Pm,I),()=>document.removeEventListener(Pm,I)},[]),a.jsx(Me.div,{...p,ref:S,style:{pointerEvents:F?U?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,K.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,L.onPointerDownCapture)})});Ac.displayName=Ak;var Dk="DismissableLayerBranch",Ok=b.forwardRef((t,e)=>{const n=b.useContext(U1),r=b.useRef(null),i=Ke(e,r);return b.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(Me.div,{...t,ref:i})});Ok.displayName=Dk;function Lk(t,e=globalThis?.document){const n=zt(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const l=f=>{if(f.target&&!r.current){let p=function(){B1(Rk,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vk(t,e=globalThis?.document){const n=zt(t),r=b.useRef(!1);return b.useEffect(()=>{const i=l=>{l.target&&!r.current&&B1(Mk,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L0(){const t=new CustomEvent(Pm);document.dispatchEvent(t)}function B1(t,e,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?O1(i,l):i.dispatchEvent(l)}var Fk=w1[" useId ".trim().toString()]||(()=>{}),$k=0;function ur(t){const[e,n]=b.useState(Fk());return Kn(()=>{n(r=>r??String($k++))},[t]),t||(e?`radix-${e}`:"")}const zk=["top","right","bottom","left"],vo=Math.min,Cn=Math.max,Wd=Math.round,vd=Math.floor,zr=t=>({x:t,y:t}),Uk={left:"right",right:"left",bottom:"top",top:"bottom"},Bk={start:"end",end:"start"};function Am(t,e,n){return Cn(t,vo(e,n))}function _s(t,e){return typeof t=="function"?t(e):t}function Es(t){return t.split("-")[0]}function Ga(t){return t.split("-")[1]}function jg(t){return t==="x"?"y":"x"}function kg(t){return t==="y"?"height":"width"}const Hk=new Set(["top","bottom"]);function Fr(t){return Hk.has(Es(t))?"y":"x"}function Tg(t){return jg(Fr(t))}function Gk(t,e,n){n===void 0&&(n=!1);const r=Ga(t),i=Tg(t),l=kg(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Kd(u)),[u,Kd(u)]}function Wk(t){const e=Kd(t);return[Rm(t),e,Rm(e)]}function Rm(t){return t.replace(/start|end/g,e=>Bk[e])}const V0=["left","right"],F0=["right","left"],Kk=["top","bottom"],qk=["bottom","top"];function Qk(t,e,n){switch(t){case"top":case"bottom":return n?e?F0:V0:e?V0:F0;case"left":case"right":return e?Kk:qk;default:return[]}}function Yk(t,e,n,r){const i=Ga(t);let l=Qk(Es(t),n==="start",r);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(Rm)))),l}function Kd(t){return t.replace(/left|right|bottom|top/g,e=>Uk[e])}function Xk(t){return{top:0,right:0,bottom:0,left:0,...t}}function H1(t){return typeof t!="number"?Xk(t):{top:t,right:t,bottom:t,left:t}}function qd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $0(t,e,n){let{reference:r,floating:i}=t;const l=Fr(e),u=Tg(e),f=kg(u),p=Es(e),m=l==="y",y=r.x+r.width/2-i.width/2,x=r.y+r.height/2-i.height/2,v=r[f]/2-i[f]/2;let E;switch(p){case"top":E={x:y,y:r.y-i.height};break;case"bottom":E={x:y,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:x};break;case"left":E={x:r.x-i.width,y:x};break;default:E={x:r.x,y:r.y}}switch(Ga(e)){case"start":E[u]-=v*(n&&m?-1:1);break;case"end":E[u]+=v*(n&&m?-1:1);break}return E}const Jk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:x}=$0(m,r,p),v=r,E={},S=0;for(let C=0;C<f.length;C++){const{name:k,fn:V}=f[C],{x:$,y:F,data:U,reset:L}=await V({x:y,y:x,initialPlacement:r,placement:v,strategy:i,middlewareData:E,rects:m,platform:u,elements:{reference:t,floating:e}});y=$??y,x=F??x,E={...E,[k]:{...E[k],...U}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(m=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:y,y:x}=$0(m,v,p)),C=-1)}return{x:y,y:x,placement:v,strategy:i,middlewareData:E}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:l,rects:u,elements:f,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:v=!1,padding:E=0}=_s(e,t),S=H1(E),k=f[v?x==="floating"?"reference":"floating":x],V=qd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),$=x==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),U=await(l.isElement==null?void 0:l.isElement(F))?await(l.getScale==null?void 0:l.getScale(F))||{x:1,y:1}:{x:1,y:1},L=qd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:F,strategy:p}):$);return{top:(V.top-L.top+S.top)/U.y,bottom:(L.bottom-V.bottom+S.bottom)/U.y,left:(V.left-L.left+S.left)/U.x,right:(L.right-V.right+S.right)/U.x}}const Zk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:l,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=_s(t,e)||{};if(m==null)return{};const x=H1(y),v={x:n,y:r},E=Tg(i),S=kg(E),C=await u.getDimensions(m),k=E==="y",V=k?"top":"left",$=k?"bottom":"right",F=k?"clientHeight":"clientWidth",U=l.reference[S]+l.reference[E]-v[E]-l.floating[S],L=v[E]-l.reference[E],K=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let I=K?K[F]:0;(!I||!await(u.isElement==null?void 0:u.isElement(K)))&&(I=f.floating[F]||l.floating[S]);const j=U/2-L/2,A=I/2-C[S]/2-1,M=vo(x[V],A),O=vo(x[$],A),D=M,P=I-C[S]-O,B=I/2-C[S]/2+j,te=Am(D,B,P),se=!p.arrow&&Ga(i)!=null&&B!==te&&l.reference[S]/2-(B<D?M:O)-C[S]/2<0,ce=se?B<D?B-D:B-P:0;return{[E]:v[E]+ce,data:{[E]:te,centerOffset:B-te-ce,...se&&{alignmentOffset:ce}},reset:se}}}),eT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...k}=_s(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const V=Es(i),$=Fr(f),F=Es(f)===f,U=await(p.isRTL==null?void 0:p.isRTL(m.floating)),L=v||(F||!C?[Kd(f)]:Wk(f)),K=S!=="none";!v&&K&&L.push(...Yk(f,C,S,U));const I=[f,...L],j=await pc(e,k),A=[];let M=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&A.push(j[V]),x){const B=Gk(i,u,U);A.push(j[B[0]],j[B[1]])}if(M=[...M,{placement:i,overflows:A}],!A.every(B=>B<=0)){var O,D;const B=(((O=l.flip)==null?void 0:O.index)||0)+1,te=I[B];if(te&&(!(x==="alignment"?$!==Fr(te):!1)||M.every(q=>Fr(q.placement)===$?q.overflows[0]>0:!0)))return{data:{index:B,overflows:M},reset:{placement:te}};let se=(D=M.filter(ce=>ce.overflows[0]<=0).sort((ce,q)=>ce.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!se)switch(E){case"bestFit":{var P;const ce=(P=M.filter(q=>{if(K){const ee=Fr(q.placement);return ee===$||ee==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ee=>ee>0).reduce((ee,ae)=>ee+ae,0)]).sort((q,ee)=>q[1]-ee[1])[0])==null?void 0:P[0];ce&&(se=ce);break}case"initialPlacement":se=f;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function z0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function U0(t){return zk.some(e=>t[e]>=0)}const tT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=_s(t,e);switch(r){case"referenceHidden":{const l=await pc(e,{...i,elementContext:"reference"}),u=z0(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:U0(u)}}}case"escaped":{const l=await pc(e,{...i,altBoundary:!0}),u=z0(l,n.floating);return{data:{escapedOffsets:u,escaped:U0(u)}}}default:return{}}}}},G1=new Set(["left","top"]);async function nT(t,e){const{placement:n,platform:r,elements:i}=t,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Es(n),f=Ga(n),p=Fr(n)==="y",m=G1.has(u)?-1:1,y=l&&p?-1:1,x=_s(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof S=="number"&&(E=f==="end"?S*-1:S),p?{x:E*y,y:v*m}:{x:v*m,y:E*y}}const rT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:l,placement:u,middlewareData:f}=e,p=await nT(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:i+p.x,y:l+p.y,data:{...p,placement:u}}}}},sT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:k=>{let{x:V,y:$}=k;return{x:V,y:$}}},...p}=_s(t,e),m={x:n,y:r},y=await pc(e,p),x=Fr(Es(i)),v=jg(x);let E=m[v],S=m[x];if(l){const k=v==="y"?"top":"left",V=v==="y"?"bottom":"right",$=E+y[k],F=E-y[V];E=Am($,E,F)}if(u){const k=x==="y"?"top":"left",V=x==="y"?"bottom":"right",$=S+y[k],F=S-y[V];S=Am($,S,F)}const C=f.fn({...e,[v]:E,[x]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[v]:l,[x]:u}}}}}},oT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=_s(t,e),y={x:n,y:r},x=Fr(i),v=jg(x);let E=y[v],S=y[x];const C=_s(f,e),k=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(p){const F=v==="y"?"height":"width",U=l.reference[v]-l.floating[F]+k.mainAxis,L=l.reference[v]+l.reference[F]-k.mainAxis;E<U?E=U:E>L&&(E=L)}if(m){var V,$;const F=v==="y"?"width":"height",U=G1.has(Es(i)),L=l.reference[x]-l.floating[F]+(U&&((V=u.offset)==null?void 0:V[x])||0)+(U?0:k.crossAxis),K=l.reference[x]+l.reference[F]+(U?0:(($=u.offset)==null?void 0:$[x])||0)-(U?k.crossAxis:0);S<L?S=L:S>K&&(S=K)}return{[v]:E,[x]:S}}}},iT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:p=()=>{},...m}=_s(t,e),y=await pc(e,m),x=Es(i),v=Ga(i),E=Fr(i)==="y",{width:S,height:C}=l.floating;let k,V;x==="top"||x==="bottom"?(k=x,V=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(V=x,k=v==="end"?"top":"bottom");const $=C-y.top-y.bottom,F=S-y.left-y.right,U=vo(C-y[k],$),L=vo(S-y[V],F),K=!e.middlewareData.shift;let I=U,j=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=$),K&&!v){const M=Cn(y.left,0),O=Cn(y.right,0),D=Cn(y.top,0),P=Cn(y.bottom,0);E?j=S-2*(M!==0||O!==0?M+O:Cn(y.left,y.right)):I=C-2*(D!==0||P!==0?D+P:Cn(y.top,y.bottom))}await p({...e,availableWidth:j,availableHeight:I});const A=await u.getDimensions(f.floating);return S!==A.width||C!==A.height?{reset:{rects:!0}}:{}}}};function kh(){return typeof window<"u"}function Wa(t){return W1(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qr(t){var e;return(e=(W1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function W1(t){return kh()?t instanceof Node||t instanceof Tn(t).Node:!1}function fr(t){return kh()?t instanceof Element||t instanceof Tn(t).Element:!1}function Gr(t){return kh()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function B0(t){return!kh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const aT=new Set(["inline","contents"]);function Rc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!aT.has(i)}const lT=new Set(["table","td","th"]);function cT(t){return lT.has(Wa(t))}const uT=[":popover-open",":modal"];function Th(t){return uT.some(e=>{try{return t.matches(e)}catch{return!1}})}const dT=["transform","translate","scale","rotate","perspective"],hT=["transform","translate","scale","rotate","perspective","filter"],fT=["paint","layout","strict","content"];function Ig(t){const e=Pg(),n=fr(t)?pr(t):t;return dT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hT.some(r=>(n.willChange||"").includes(r))||fT.some(r=>(n.contain||"").includes(r))}function pT(t){let e=yo(t);for(;Gr(e)&&!ja(e);){if(Ig(e))return e;if(Th(e))return null;e=yo(e)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mT=new Set(["html","body","#document"]);function ja(t){return mT.has(Wa(t))}function pr(t){return Tn(t).getComputedStyle(t)}function Ih(t){return fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yo(t){if(Wa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||B0(t)&&t.host||qr(t);return B0(e)?e.host:e}function K1(t){const e=yo(t);return ja(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&Rc(e)?e:K1(e)}function mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=K1(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),u=Tn(i);if(l){const f=Mm(u);return e.concat(u,u.visualViewport||[],Rc(i)?i:[],f&&n?mc(f):[])}return e.concat(i,mc(i,[],n))}function Mm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function q1(t){const e=pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gr(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:r,f=Wd(n)!==l||Wd(r)!==u;return f&&(n=l,r=u),{width:n,height:r,$:f}}function Ag(t){return fr(t)?t:t.contextElement}function ba(t){const e=Ag(t);if(!Gr(e))return zr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:l}=q1(e);let u=(l?Wd(n.width):n.width)/r,f=(l?Wd(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const gT=zr(0);function Q1(t){const e=Tn(t);return!Pg()||!e.visualViewport?gT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function di(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Ag(t);let u=zr(1);e&&(r?fr(r)&&(u=ba(r)):u=ba(t));const f=vT(l,n,r)?Q1(l):zr(0);let p=(i.left+f.x)/u.x,m=(i.top+f.y)/u.y,y=i.width/u.x,x=i.height/u.y;if(l){const v=Tn(l),E=r&&fr(r)?Tn(r):r;let S=v,C=Mm(S);for(;C&&r&&E!==S;){const k=ba(C),V=C.getBoundingClientRect(),$=pr(C),F=V.left+(C.clientLeft+parseFloat($.paddingLeft))*k.x,U=V.top+(C.clientTop+parseFloat($.paddingTop))*k.y;p*=k.x,m*=k.y,y*=k.x,x*=k.y,p+=F,m+=U,S=Tn(C),C=Mm(S)}}return qd({width:y,height:x,x:p,y:m})}function Ph(t,e){const n=Ih(t).scrollLeft;return e?e.left+n:di(qr(t)).left+n}function Y1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ph(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function yT(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const l=i==="fixed",u=qr(r),f=e?Th(e.floating):!1;if(r===u||f&&l)return n;let p={scrollLeft:0,scrollTop:0},m=zr(1);const y=zr(0),x=Gr(r);if((x||!x&&!l)&&((Wa(r)!=="body"||Rc(u))&&(p=Ih(r)),Gr(r))){const E=di(r);m=ba(r),y.x=E.x+r.clientLeft,y.y=E.y+r.clientTop}const v=u&&!x&&!l?Y1(u,p):zr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+v.x,y:n.y*m.y-p.scrollTop*m.y+y.y+v.y}}function xT(t){return Array.from(t.getClientRects())}function bT(t){const e=qr(t),n=Ih(t),r=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=Cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+Ph(t);const f=-n.scrollTop;return pr(r).direction==="rtl"&&(u+=Cn(e.clientWidth,r.clientWidth)-i),{width:i,height:l,x:u,y:f}}const H0=25;function wT(t,e){const n=Tn(t),r=qr(t),i=n.visualViewport;let l=r.clientWidth,u=r.clientHeight,f=0,p=0;if(i){l=i.width,u=i.height;const y=Pg();(!y||y&&e==="fixed")&&(f=i.offsetLeft,p=i.offsetTop)}const m=Ph(r);if(m<=0){const y=r.ownerDocument,x=y.body,v=getComputedStyle(x),E=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(r.clientWidth-x.clientWidth-E);S<=H0&&(l-=S)}else m<=H0&&(l+=m);return{width:l,height:u,x:f,y:p}}const _T=new Set(["absolute","fixed"]);function ET(t,e){const n=di(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,l=Gr(t)?ba(t):zr(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,p=i*l.x,m=r*l.y;return{width:u,height:f,x:p,y:m}}function G0(t,e,n){let r;if(e==="viewport")r=wT(t,n);else if(e==="document")r=bT(qr(t));else if(fr(e))r=ET(e,n);else{const i=Q1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qd(r)}function X1(t,e){const n=yo(t);return n===e||!fr(n)||ja(n)?!1:pr(n).position==="fixed"||X1(n,e)}function ST(t,e){const n=e.get(t);if(n)return n;let r=mc(t,[],!1).filter(f=>fr(f)&&Wa(f)!=="body"),i=null;const l=pr(t).position==="fixed";let u=l?yo(t):t;for(;fr(u)&&!ja(u);){const f=pr(u),p=Ig(u);!p&&f.position==="fixed"&&(i=null),(l?!p&&!i:!p&&f.position==="static"&&!!i&&_T.has(i.position)||Rc(u)&&!p&&X1(t,u))?r=r.filter(y=>y!==u):i=f,u=yo(u)}return e.set(t,r),r}function NT(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const u=[...n==="clippingAncestors"?Th(e)?[]:ST(e,this._c):[].concat(n),r],f=u[0],p=u.reduce((m,y)=>{const x=G0(e,y,i);return m.top=Cn(x.top,m.top),m.right=vo(x.right,m.right),m.bottom=vo(x.bottom,m.bottom),m.left=Cn(x.left,m.left),m},G0(e,f,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function CT(t){const{width:e,height:n}=q1(t);return{width:e,height:n}}function jT(t,e,n){const r=Gr(e),i=qr(e),l=n==="fixed",u=di(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const p=zr(0);function m(){p.x=Ph(i)}if(r||!r&&!l)if((Wa(e)!=="body"||Rc(i))&&(f=Ih(e)),r){const E=di(e,!0,l,e);p.x=E.x+e.clientLeft,p.y=E.y+e.clientTop}else i&&m();l&&!r&&i&&m();const y=i&&!r&&!l?Y1(i,f):zr(0),x=u.left+f.scrollLeft-p.x-y.x,v=u.top+f.scrollTop-p.y-y.y;return{x,y:v,width:u.width,height:u.height}}function Up(t){return pr(t).position==="static"}function W0(t,e){if(!Gr(t)||pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qr(t)===n&&(n=n.ownerDocument.body),n}function J1(t,e){const n=Tn(t);if(Th(t))return n;if(!Gr(t)){let i=yo(t);for(;i&&!ja(i);){if(fr(i)&&!Up(i))return i;i=yo(i)}return n}let r=W0(t,e);for(;r&&cT(r)&&Up(r);)r=W0(r,e);return r&&ja(r)&&Up(r)&&!Ig(r)?n:r||pT(t)||n}const kT=async function(t){const e=this.getOffsetParent||J1,n=this.getDimensions,r=await n(t.floating);return{reference:jT(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TT(t){return pr(t).direction==="rtl"}const IT={convertOffsetParentRelativeRectToViewportRelativeRect:yT,getDocumentElement:qr,getClippingRect:NT,getOffsetParent:J1,getElementRects:kT,getClientRects:xT,getDimensions:CT,getScale:ba,isElement:fr,isRTL:TT};function Z1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PT(t,e){let n=null,r;const i=qr(t);function l(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const m=t.getBoundingClientRect(),{left:y,top:x,width:v,height:E}=m;if(f||e(),!v||!E)return;const S=vd(x),C=vd(i.clientWidth-(y+v)),k=vd(i.clientHeight-(x+E)),V=vd(y),F={rootMargin:-S+"px "+-C+"px "+-k+"px "+-V+"px",threshold:Cn(0,vo(1,p))||1};let U=!0;function L(K){const I=K[0].intersectionRatio;if(I!==p){if(!U)return u();I?u(!1,I):r=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!Z1(m,t.getBoundingClientRect())&&u(),U=!1}try{n=new IntersectionObserver(L,{...F,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,F)}n.observe(t)}return u(!0),l}function AT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=Ag(t),y=i||l?[...m?mc(m):[],...mc(e)]:[];y.forEach(V=>{i&&V.addEventListener("scroll",n,{passive:!0}),l&&V.addEventListener("resize",n)});const x=m&&f?PT(m,n):null;let v=-1,E=null;u&&(E=new ResizeObserver(V=>{let[$]=V;$&&$.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var F;(F=E)==null||F.observe(e)})),n()}),m&&!p&&E.observe(m),E.observe(e));let S,C=p?di(t):null;p&&k();function k(){const V=di(t);C&&!Z1(C,V)&&n(),C=V,S=requestAnimationFrame(k)}return n(),()=>{var V;y.forEach($=>{i&&$.removeEventListener("scroll",n),l&&$.removeEventListener("resize",n)}),x?.(),(V=E)==null||V.disconnect(),E=null,p&&cancelAnimationFrame(S)}}const RT=rT,MT=sT,DT=eT,OT=iT,LT=tT,K0=Zk,VT=oT,FT=(t,e,n)=>{const r=new Map,i={platform:IT,...n},l={...i.platform,_c:r};return Jk(t,e,{...i,platform:l})};var $T=typeof document<"u",zT=function(){},Dd=$T?b.useLayoutEffect:zT;function Qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&t.$$typeof)&&!Qd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function e_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q0(t,e){const n=e_(t);return Math.round(e*n)/n}function Bp(t){const e=b.useRef(t);return Dd(()=>{e.current=t}),e}function UT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=t,[y,x]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=b.useState(r);Qd(v,r)||E(r);const[S,C]=b.useState(null),[k,V]=b.useState(null),$=b.useCallback(q=>{q!==K.current&&(K.current=q,C(q))},[]),F=b.useCallback(q=>{q!==I.current&&(I.current=q,V(q))},[]),U=l||S,L=u||k,K=b.useRef(null),I=b.useRef(null),j=b.useRef(y),A=p!=null,M=Bp(p),O=Bp(i),D=Bp(m),P=b.useCallback(()=>{if(!K.current||!I.current)return;const q={placement:e,strategy:n,middleware:v};O.current&&(q.platform=O.current),FT(K.current,I.current,q).then(ee=>{const ae={...ee,isPositioned:D.current!==!1};B.current&&!Qd(j.current,ae)&&(j.current=ae,Ng.flushSync(()=>{x(ae)}))})},[v,e,n,O,D]);Dd(()=>{m===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[m]);const B=b.useRef(!1);Dd(()=>(B.current=!0,()=>{B.current=!1}),[]),Dd(()=>{if(U&&(K.current=U),L&&(I.current=L),U&&L){if(M.current)return M.current(U,L,P);P()}},[U,L,P,M,A]);const te=b.useMemo(()=>({reference:K,floating:I,setReference:$,setFloating:F}),[$,F]),se=b.useMemo(()=>({reference:U,floating:L}),[U,L]),ce=b.useMemo(()=>{const q={position:n,left:0,top:0};if(!se.floating)return q;const ee=q0(se.floating,y.x),ae=q0(se.floating,y.y);return f?{...q,transform:"translate("+ee+"px, "+ae+"px)",...e_(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:ae}},[n,f,se.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:P,refs:te,elements:se,floatingStyles:ce}),[y,P,te,se,ce])}const BT=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?K0({element:r.current,padding:i}).fn(n):{}:r?K0({element:r,padding:i}).fn(n):{}}}},HT=(t,e)=>({...RT(t),options:[t,e]}),GT=(t,e)=>({...MT(t),options:[t,e]}),WT=(t,e)=>({...VT(t),options:[t,e]}),KT=(t,e)=>({...DT(t),options:[t,e]}),qT=(t,e)=>({...OT(t),options:[t,e]}),QT=(t,e)=>({...LT(t),options:[t,e]}),YT=(t,e)=>({...BT(t),options:[t,e]});var XT="Arrow",t_=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...l}=t;return a.jsx(Me.svg,{...l,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});t_.displayName=XT;var JT=t_;function Rg(t){const[e,n]=b.useState(void 0);return Kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mg="Popper",[n_,Ka]=nn(Mg),[ZT,r_]=n_(Mg),s_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return a.jsx(ZT,{scope:e,anchor:r,onAnchorChange:i,children:n})};s_.displayName=Mg;var o_="PopperAnchor",i_=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,l=r_(o_,n),u=b.useRef(null),f=Ke(e,u),p=b.useRef(null);return b.useEffect(()=>{const m=p.current;p.current=r?.current||u.current,m!==p.current&&l.onAnchorChange(p.current)}),r?null:a.jsx(Me.div,{...i,ref:f})});i_.displayName=o_;var Dg="PopperContent",[eI,tI]=n_(Dg),a_=b.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:S,...C}=t,k=r_(Dg,n),[V,$]=b.useState(null),F=Ke(e,ve=>$(ve)),[U,L]=b.useState(null),K=Rg(U),I=K?.width??0,j=K?.height??0,A=r+(l!=="center"?"-"+l:""),M=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},O=Array.isArray(m)?m:[m],D=O.length>0,P={padding:M,boundary:O.filter(rI),altBoundary:D},{refs:B,floatingStyles:te,placement:se,isPositioned:ce,middlewareData:q}=UT({strategy:"fixed",placement:A,whileElementsMounted:(...ve)=>AT(...ve,{animationFrame:E==="always"}),elements:{reference:k.anchor},middleware:[HT({mainAxis:i+j,alignmentAxis:u}),p&&GT({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?WT():void 0,...P}),p&&KT({...P}),qT({...P,apply:({elements:ve,rects:Oe,availableWidth:Be,availableHeight:ct})=>{const{width:Rn,height:Mn}=Oe.reference,gn=ve.floating.style;gn.setProperty("--radix-popper-available-width",`${Be}px`),gn.setProperty("--radix-popper-available-height",`${ct}px`),gn.setProperty("--radix-popper-anchor-width",`${Rn}px`),gn.setProperty("--radix-popper-anchor-height",`${Mn}px`)}}),U&&YT({element:U,padding:f}),sI({arrowWidth:I,arrowHeight:j}),v&&QT({strategy:"referenceHidden",...P})]}),[ee,ae]=u_(se),G=zt(S);Kn(()=>{ce&&G?.()},[ce,G]);const ne=q.arrow?.x,me=q.arrow?.y,ye=q.arrow?.centerOffset!==0,[Re,Te]=b.useState();return Kn(()=>{V&&Te(window.getComputedStyle(V).zIndex)},[V]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ce?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(eI,{scope:n,placedSide:ee,onArrowChange:L,arrowX:ne,arrowY:me,shouldHideArrow:ye,children:a.jsx(Me.div,{"data-side":ee,"data-align":ae,...C,ref:F,style:{...C.style,animation:ce?void 0:"none"}})})})});a_.displayName=Dg;var l_="PopperArrow",nI={top:"bottom",right:"left",bottom:"top",left:"right"},c_=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,l=tI(l_,r),u=nI[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(JT,{...i,ref:n,style:{...i.style,display:"block"}})})});c_.displayName=l_;function rI(t){return t!==null}var sI=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[m,y]=u_(n),x={start:"0%",center:"50%",end:"100%"}[y],v=(i.arrow?.x??0)+f/2,E=(i.arrow?.y??0)+p/2;let S="",C="";return m==="bottom"?(S=u?x:`${v}px`,C=`${-p}px`):m==="top"?(S=u?x:`${v}px`,C=`${r.floating.height+p}px`):m==="right"?(S=`${-p}px`,C=u?x:`${E}px`):m==="left"&&(S=`${r.floating.width+p}px`,C=u?x:`${E}px`),{data:{x:S,y:C}}}});function u_(t){const[e,n="center"]=t.split("-");return[e,n]}var Og=s_,Ah=i_,Lg=a_,Vg=c_,oI="Portal",Mc=b.forwardRef((t,e)=>{const{container:n,...r}=t,[i,l]=b.useState(!1);Kn(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?mk.createPortal(a.jsx(Me.div,{...r,ref:e}),u):null});Mc.displayName=oI;function iI(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Rt=t=>{const{present:e,children:n}=t,r=aI(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),l=Ke(r.ref,lI(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:l}):null};Rt.displayName="Presence";function aI(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),l=b.useRef("none"),u=t?"mounted":"unmounted",[f,p]=iI(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=yd(r.current);l.current=f==="mounted"?m:"none"},[f]),Kn(()=>{const m=r.current,y=i.current;if(y!==t){const v=l.current,E=yd(m);t?p("MOUNT"):E==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&v!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),Kn(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,x=E=>{const C=yd(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&C&&(p("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},v=E=>{E.target===e&&(l.current=yd(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:b.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function yd(t){return t?.animationName||"none"}function lI(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cI=w1[" useInsertionEffect ".trim().toString()]||Kn;function _o({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,l,u]=uI({defaultProp:e,onChange:n}),f=t!==void 0,p=f?t:i;{const y=b.useRef(t!==void 0);b.useEffect(()=>{const x=y.current;x!==f&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,r])}const m=b.useCallback(y=>{if(f){const x=dI(y)?y(t):y;x!==t&&u.current?.(x)}else l(y)},[f,t,l,u]);return[p,m]}function uI({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),l=b.useRef(e);return cI(()=>{l.current=e},[e]),b.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,r,l]}function dI(t){return typeof t=="function"}var hI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fI="VisuallyHidden",d_=b.forwardRef((t,e)=>a.jsx(Me.span,{...t,ref:e,style:{...hI,...t.style}}));d_.displayName=fI;var pI=d_,[Rh]=nn("Tooltip",[Ka]),Mh=Ka(),h_="TooltipProvider",mI=700,Dm="tooltip.open",[gI,Fg]=Rh(h_),f_=t=>{const{__scopeTooltip:e,delayDuration:n=mI,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=t,u=b.useRef(!0),f=b.useRef(!1),p=b.useRef(0);return b.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),a.jsx(gI,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:b.useCallback(m=>{f.current=m},[]),disableHoverableContent:i,children:l})};f_.displayName=h_;var gc="Tooltip",[vI,Dc]=Rh(gc),p_=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:l,disableHoverableContent:u,delayDuration:f}=t,p=Fg(gc,t.__scopeTooltip),m=Mh(e),[y,x]=b.useState(null),v=ur(),E=b.useRef(0),S=u??p.disableHoverableContent,C=f??p.delayDuration,k=b.useRef(!1),[V,$]=_o({prop:r,defaultProp:i??!1,onChange:I=>{I?(p.onOpen(),document.dispatchEvent(new CustomEvent(Dm))):p.onClose(),l?.(I)},caller:gc}),F=b.useMemo(()=>V?k.current?"delayed-open":"instant-open":"closed",[V]),U=b.useCallback(()=>{window.clearTimeout(E.current),E.current=0,k.current=!1,$(!0)},[$]),L=b.useCallback(()=>{window.clearTimeout(E.current),E.current=0,$(!1)},[$]),K=b.useCallback(()=>{window.clearTimeout(E.current),E.current=window.setTimeout(()=>{k.current=!0,$(!0),E.current=0},C)},[C,$]);return b.useEffect(()=>()=>{E.current&&(window.clearTimeout(E.current),E.current=0)},[]),a.jsx(Og,{...m,children:a.jsx(vI,{scope:e,contentId:v,open:V,stateAttribute:F,trigger:y,onTriggerChange:x,onTriggerEnter:b.useCallback(()=>{p.isOpenDelayedRef.current?K():U()},[p.isOpenDelayedRef,K,U]),onTriggerLeave:b.useCallback(()=>{S?L():(window.clearTimeout(E.current),E.current=0)},[L,S]),onOpen:U,onClose:L,disableHoverableContent:S,children:n})})};p_.displayName=gc;var Om="TooltipTrigger",m_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Dc(Om,n),l=Fg(Om,n),u=Mh(n),f=b.useRef(null),p=Ke(e,f,i.onTriggerChange),m=b.useRef(!1),y=b.useRef(!1),x=b.useCallback(()=>m.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),a.jsx(Ah,{asChild:!0,...u,children:a.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:p,onPointerMove:pe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:pe(t.onFocus,()=>{m.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});m_.displayName=Om;var $g="TooltipPortal",[yI,xI]=Rh($g,{forceMount:void 0}),g_=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,l=Dc($g,e);return a.jsx(yI,{scope:e,forceMount:n,children:a.jsx(Rt,{present:n||l.open,children:a.jsx(Mc,{asChild:!0,container:i,children:r})})})};g_.displayName=$g;var ka="TooltipContent",v_=b.forwardRef((t,e)=>{const n=xI(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=t,u=Dc(ka,t.__scopeTooltip);return a.jsx(Rt,{present:r||u.open,children:u.disableHoverableContent?a.jsx(y_,{side:i,...l,ref:e}):a.jsx(bI,{side:i,...l,ref:e})})}),bI=b.forwardRef((t,e)=>{const n=Dc(ka,t.__scopeTooltip),r=Fg(ka,t.__scopeTooltip),i=b.useRef(null),l=Ke(e,i),[u,f]=b.useState(null),{trigger:p,onClose:m}=n,y=i.current,{onPointerInTransitChange:x}=r,v=b.useCallback(()=>{f(null),x(!1)},[x]),E=b.useCallback((S,C)=>{const k=S.currentTarget,V={x:S.clientX,y:S.clientY},$=SI(V,k.getBoundingClientRect()),F=NI(V,$),U=CI(C.getBoundingClientRect()),L=kI([...F,...U]);f(L),x(!0)},[x]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(p&&y){const S=k=>E(k,y),C=k=>E(k,p);return p.addEventListener("pointerleave",S),y.addEventListener("pointerleave",C),()=>{p.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",C)}}},[p,y,E,v]),b.useEffect(()=>{if(u){const S=C=>{const k=C.target,V={x:C.clientX,y:C.clientY},$=p?.contains(k)||y?.contains(k),F=!jI(V,u);$?v():F&&(v(),m())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[p,y,u,m,v]),a.jsx(y_,{...t,ref:l})}),[wI,_I]=Rh(gc,{isInside:!1}),EI=k2("TooltipContent"),y_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...f}=t,p=Dc(ka,n),m=Mh(n),{onClose:y}=p;return b.useEffect(()=>(document.addEventListener(Dm,y),()=>document.removeEventListener(Dm,y)),[y]),b.useEffect(()=>{if(p.trigger){const x=v=>{v.target?.contains(p.trigger)&&y()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[p.trigger,y]),a.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:y,children:a.jsxs(Lg,{"data-state":p.stateAttribute,...m,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(EI,{children:r}),a.jsx(wI,{scope:n,isInside:!0,children:a.jsx(pI,{id:p.contentId,role:"tooltip",children:i||r})})]})})});v_.displayName=ka;var x_="TooltipArrow",b_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Mh(n);return _I(x_,n).isInside?null:a.jsx(Vg,{...i,...r,ref:e})});b_.displayName=x_;function SI(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function NI(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CI(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function jI(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],p=e[u],m=f.x,y=f.y,x=p.x,v=p.y;y>r!=v>r&&n<(x-m)*(r-y)/(v-y)+m&&(i=!i)}return i}function kI(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TI(e)}function TI(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var II=f_,PI=p_,AI=m_,RI=g_,MI=v_,DI=b_;function ec({delayDuration:t=0,...e}){return a.jsx(II,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function xd({...t}){return a.jsx(ec,{children:a.jsx(PI,{"data-slot":"tooltip",...t})})}function bd({...t}){return a.jsx(AI,{"data-slot":"tooltip-trigger",...t})}function wd({className:t,sideOffset:e=0,children:n,...r}){return a.jsx(RI,{children:a.jsxs(MI,{"data-slot":"tooltip-content",sideOffset:e,className:Fe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,a.jsx(DI,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const w_=b.createContext(void 0);function OI({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(!1),[l,u]=b.useState(!1),[f,p]=b.useState(null),[m,y]=b.useState(null),x=async(M=!0)=>{try{M&&i(!0),p(null);const O={id:"company_001",meta:{brandName:"Tu Marca",lastUpdated:"2025-09-28T15:30:00Z",version:1},colors:{primary:["#21EDE7","#112846"],secondary:["#FC9528"],alternatives:["#F4F6F8","#000000"],gradients:[{name:"Sunset",from:"#21EDE7",to:"#FC9528"}],rules:{allowedCombinations:[["#21EDE7","#112846"]],forbiddenColors:["#FF0000"]}},typography:{primary:{name:"Montserrat",weights:["Regular","Bold","ExtraBold"]},secondary:{name:"Inter",weights:["Regular","Medium"]},hierarchy:{h1:{font:"Montserrat",size:48},h2:{font:"Montserrat",size:32},body:{font:"Inter",size:16},caption:{font:"Inter",size:12}}},logos:[{name:"main",formats:["svg","png"],url:"https://storage.brandkit/logo_main.svg",usage:"default"},{name:"negative",formats:["svg"],url:"https://storage.brandkit/logo_negative.svg",usage:"darkBackground"}],iconography:{style:"outline",examples:["download","share","arrow"],rules:["usar solo conos de la librera oficial"]},illustrations:{style:"flat",examples:["people_teamwork.png","delivery_box.svg"]},photography:{style:"natural_light",filters:["bright","highContrast"],examples:["office_team.jpg","warehouse.jpg"]},motion:{speed:"fast",transitions:["fade","slide"],rules:["no usar animaciones rebote"]},audio:{jingles:["intro.mp3","outro.mp3"],style:"corporate_but_friendly",rules:["usar en todos los podcasts y reels educativos"]},voiceTone:{style:"Profesional pero cercano",examples:{correct:["Bienvenido a la familia, estamos contigo"],incorrect:["Compra YA o te lo pierdes!!!"]}},messaging:{tagline:"Conectando tu mundo",slogans:["Ms cerca de ti","Rpido y seguro"],differentiators:["Atencin personalizada","Cobertura internacional"]},storytelling:{mission:"Facilitar la conexin entre personas y pases",vision:"Ser la plataforma lder en envos internacionales",values:["Transparencia","Rapidez","Cercana"]},usageGuidelines:{posts:{formats:["1:1","4:5"],rules:["usar logo en esquina superior"]},stories:{formats:["9:16"],rules:["CTA obligatorio"]},videos:{formats:["16:9","9:16"],rules:["subttulos obligatorios"]},podcasts:{coverFormat:"3000x3000px",rules:["logo siempre visible"]}},examples:{do:["Usar tipografa oficial","Mantener contraste alto","Respetar mrgenes del logo"],dont:["Deformar el logo","Usar colores no autorizados","Cambiar tipografa"]},accessibility:{contrastRatio:"AA",minFontSize:14,videoSubtitles:!0,altTextRequired:!0},internationalization:{supportedLanguages:["es","en"],sloganTranslations:{en:"Connecting your world",es:"Conectando tu mundo"},cultureNotes:["Evitar modismos locales en ingls"]},validation:{coherenceReport:{lastScan:"2025-09-28",complianceRate:"92%",issues:["3 assets con colores fuera de paleta"]}}};await new Promise(D=>setTimeout(D,500)),n(O),y("hace unos minutos")}catch(O){const D=O instanceof Error?O.message:"Error cargando BrandKit";console.error("Error loading BrandKit:",O),p(D),n(null)}finally{M&&i(!1)}},v=async()=>{await x(!1)},E=async M=>{try{if(!e)return;const O={...e,...M,metadata:{...e.metadata,updatedAt:new Date}};n(O),y("hace unos momentos"),console.log("BrandKit updated:",O)}catch(O){console.error("Error updating BrandKit:",O),p("Error actualizando BrandKit")}},S=async M=>{const O=Date.now();try{u(!0),p(null),console.log("=== Starting Brand Manual Analysis ==="),console.log(`File: ${M.name} (${M.type}, ${M.size} bytes)`);const D=10*1024*1024;if(M.size>D)throw new Error(`Archivo demasiado grande (${Math.round(M.size/1024/1024)}MB). Mximo permitido: 10MB`);if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png","image/jpeg","image/jpg","image/webp"].includes(M.type))throw new Error(`Tipo de archivo no soportado: ${M.type}. Soportados: PDF, DOCX, PNG, JPG`);const B=new FormData;B.append("file",M),console.log("Calling backend analysis service...");const{functionsUrl:te,FUNCTIONS_TOKEN:se}=await hr(async()=>{const{functionsUrl:me,FUNCTIONS_TOKEN:ye}=await Promise.resolve().then(()=>Lw);return{functionsUrl:me,FUNCTIONS_TOKEN:ye}},void 0),ce=new AbortController,q=setTimeout(()=>ce.abort(),6e4),ee=await fetch(te("/analyze-brand-manual"),{method:"POST",headers:{Authorization:`Bearer ${se}`},body:B,signal:ce.signal});if(clearTimeout(q),console.log(`Backend response status: ${ee.status}`),!ee.ok){let me=`HTTP ${ee.status}: ${ee.statusText}`;try{const ye=await ee.json();me=ye.error||me,console.error("Backend error details:",ye)}catch{console.error("Failed to parse error response")}throw new Error(me)}const ae=await ee.json();if(console.log("Backend response received:",{success:ae.success,processingTime:ae.processingTime,extractedBy:ae.extractedBy}),!ae.success)throw new Error(ae.error||"El anlisis no fue exitoso");const G=ae.analysis,ne=((Date.now()-O)/1e3).toFixed(1);console.log("=== Analysis Completed Successfully ==="),console.log(`Total time: ${ne}s`),console.log(`Brand: ${G.meta.brandName}`),console.log(`Colors: ${G.colors.primary.length} primary, ${G.colors.secondary.length} secondary`),console.log(`Typography: ${G.typography.primary.name}`),console.log(`Logos: ${G.logos.length}`),n(G),y("hace unos momentos"),console.log("Saving to persistent storage..."),await C(G)}catch(D){const P=((Date.now()-O)/1e3).toFixed(1);console.error("=== Analysis Failed ==="),console.error(`Total time: ${P}s`),console.error("Error details:",D);let B="Error analizando el manual de marca";D instanceof Error&&(D.name==="AbortError"?B="El anlisis tard demasiado tiempo (timeout). Intenta con un archivo ms pequeo.":B=D.message),p(B)}finally{u(!1)}},C=async M=>{try{const{functionsUrl:O,FUNCTIONS_TOKEN:D}=await hr(async()=>{const{functionsUrl:te,FUNCTIONS_TOKEN:se}=await Promise.resolve().then(()=>Lw);return{functionsUrl:te,FUNCTIONS_TOKEN:se}},void 0),P=await fetch(O("/save-brandkit"),{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify(M)});if(!P.ok){const te=await P.json();throw new Error(te.error||"Error saving BrandKit")}const B=await P.json();console.log("BrandKit saved successfully:",B)}catch(O){console.error("Error saving BrandKit:",O)}};b.useEffect(()=>{x()},[]);const k=b.useCallback(()=>e?.colors?.primary?e.colors.primary.map((M,O)=>({name:`Color Primario ${O+1}`,hex:M,usage:"Color principal de marca",type:"primary"})):[],[e?.colors]),V=b.useCallback(()=>{if(!e?.colors)return[];const M=[];return e.colors.secondary&&M.push(...e.colors.secondary.map((O,D)=>({name:`Color Secundario ${D+1}`,hex:O,usage:"Color secundario de marca",type:"secondary"}))),e.colors.alternatives&&M.push(...e.colors.alternatives.map((O,D)=>({name:`Color Alternativo ${D+1}`,hex:O,usage:"Color alternativo",type:"alternative"}))),M},[e?.colors]),$=b.useCallback(()=>e?.typography?.primary?{name:e.typography.primary.name,font:e.typography.primary.name,weight:e.typography.primary.weights[0]||"Regular",type:"primary"}:null,[e?.typography]),F=b.useCallback(()=>e?.typography?.secondary?{name:e.typography.secondary.name,font:e.typography.secondary.name,weight:e.typography.secondary.weights[0]||"Regular",type:"secondary"}:null,[e?.typography]),U=b.useCallback(()=>{if(!e?.logos?.length)return null;const M=e.logos.find(O=>O.name==="main")||e.logos[0];return{id:M.name,name:M.name,url:M.url,type:M.usage}},[e?.logos]),L=b.useCallback(()=>{if(!e?.voiceTone)return"";let M=`Estilo: ${e.voiceTone.style}. `;return e.voiceTone.examples?.correct?.length>0&&(M+=`Ejemplos correctos: ${e.voiceTone.examples.correct.join(", ")}. `),e.voiceTone.examples?.incorrect?.length>0&&(M+=`Evitar: ${e.voiceTone.examples.incorrect.join(", ")}. `),M.trim()},[e?.voiceTone]),K=b.useCallback(async(M="post")=>{if(!e)return"";const O=L(),D=k().map(te=>te.hex).join(", "),P=$()?.name||"Fuente por defecto",B=e.usageGuidelines;switch(M){case"post":return`${O} Formatos: ${B?.posts?.formats?.join(", ")||"1:1, 4:5"}. Reglas: ${B?.posts?.rules?.join(", ")||"Usar logo discreto"}. Colores: ${D}. Tipografa: ${P}.`;case"video":return`${O} Formatos: ${B?.videos?.formats?.join(", ")||"16:9, 9:16"}. Reglas: ${B?.videos?.rules?.join(", ")||"Subttulos obligatorios"}. Colores: ${D}. Tipografa: ${P}.`;case"story":return`${O} Formatos: ${B?.stories?.formats?.join(", ")||"9:16"}. Reglas: ${B?.stories?.rules?.join(", ")||"CTA obligatorio"}. Colores: ${D}. Tipografa: ${P}.`;case"podcast":return`${O} Formato de portada: ${B?.podcasts?.coverFormat||"3000x3000px"}. Reglas: ${B?.podcasts?.rules?.join(", ")||"Logo visible"}. Audio: ${e.audio?.style||"Estilo corporativo amigable"}.`;case"chat":return`${O} Mantn el tono de voz consistente en todas las respuestas.`;default:return O}},[L,k,$,e]),I=b.useCallback(M=>{if(!e?.colors)return!0;const D=[...e.colors.primary||[],...e.colors.secondary||[],...e.colors.alternatives||[]].some(B=>B.toUpperCase()===M.toUpperCase()),P=e.colors.rules?.forbiddenColors?.some(B=>B.toUpperCase()===M.toUpperCase());return D&&!P},[e?.colors]),j=b.useCallback(()=>{if(!e)return{score:0,missing:[],recommendations:[]};if(e.validation?.coherenceReport){const B=parseInt(e.validation.coherenceReport.complianceRate.replace("%","")),te=e.validation.coherenceReport.issues||[],se=[];return B<95&&te.length>0&&se.push(`Corrige los siguientes problemas: ${te.join(", ")}`),B<85&&se.push("Revisa la consistencia en todos los assets"),{score:B,missing:te,recommendations:se}}const M=[{key:"colors",weight:15,exists:!!e.colors?.primary?.length},{key:"typography",weight:15,exists:!!e.typography?.primary},{key:"logos",weight:15,exists:!!e.logos?.length},{key:"voiceTone",weight:10,exists:!!e.voiceTone?.style},{key:"messaging",weight:10,exists:!!e.messaging?.tagline},{key:"storytelling",weight:10,exists:!!e.storytelling?.mission},{key:"guidelines",weight:10,exists:!!e.usageGuidelines?.posts},{key:"accessibility",weight:5,exists:!!e.accessibility?.contrastRatio},{key:"internationalization",weight:5,exists:!!e.internationalization?.supportedLanguages?.length},{key:"audio",weight:5,exists:!!e.audio?.style}],O=M.reduce((B,te)=>B+(te.exists?te.weight:0),0),D=M.filter(B=>!B.exists).map(B=>{switch(B.key){case"colors":return"Paleta de colores";case"typography":return"Tipografas";case"logos":return"Logos";case"voiceTone":return"Tono de voz";case"messaging":return"Mensajes clave";case"storytelling":return"Historia de marca";case"guidelines":return"Guas de aplicacin";case"accessibility":return"Reglas de accesibilidad";case"internationalization":return"Internacionalizacin";case"audio":return"Elementos de audio";default:return B.key}}),P=[];return O<60&&P.push("Completa los elementos bsicos: colores, tipografas y logos"),O<80&&P.push("Aade tono de voz y mensajes clave para mayor consistencia"),O<95&&P.push("Completa elementos avanzados: audio, internacionalizacin"),{score:O,missing:D,recommendations:P}},[e]),A=b.useMemo(()=>({brandKit:e,isLoading:r,isAnalyzing:l,error:f,lastUpdated:m,hasBrandKit:!!e,refreshBrandKit:v,updateBrandKit:E,uploadAndAnalyzeManual:S,saveBrandKit:C,getPrimaryColors:k,getSecondaryColors:V,getPrimaryFont:$,getSecondaryFont:F,getPrimaryLogo:U,getVoiceToneInstructions:L,getBrandInstructions:K,validateBrandColor:I,getBrandCompliance:j}),[e,r,l,f,m,v,E,S,C,k,V,$,F,U,L,K,I,j]);return a.jsx(w_.Provider,{value:A,children:t})}function Oc(){const t=b.useContext(w_);if(t===void 0)throw new Error("useBrandKit must be used within a BrandKitProvider");return t}function r$(){const{getPrimaryColors:t,getSecondaryColors:e,brandKit:n}=Oc();return{primaryColors:t(),secondaryColors:e(),allColors:n?.colors||[],hasColors:!!n?.colors?.length}}function s$(){const{getPrimaryFont:t,getSecondaryFont:e,brandKit:n}=Oc();return{primaryFont:t(),secondaryFont:e(),allFonts:n?.typography||[],hasFonts:!!n?.typography?.length}}function o$(){const{getVoiceToneInstructions:t,brandKit:e}=Oc();return{voiceTone:e?.voiceTone,instructions:t(),hasVoiceTone:!!e?.voiceTone?.personality}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Q0=t=>{const e=VI(t);return e.charAt(0).toUpperCase()+e.slice(1)},__=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:u,...f},p)=>b.createElement("svg",{ref:p,...FI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:__("lucide",i),...f},[...u.map(([m,y])=>b.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=b.forwardRef(({className:r,...i},l)=>b.createElement($I,{ref:l,iconNode:e,className:__(`lucide-${LI(Q0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Q0(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],In=he("arrow-left",zI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gn=he("arrow-right",UI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HI=he("badge-check",BI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],zg=he("bot",GI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vc=he("calendar",WI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qI=he("chart-column",KI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ws=he("check",QI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lr=he("chevron-down",YI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JI=he("chevron-right",XI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ta=he("chevron-up",ZI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ss=he("circle-alert",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bt=he("circle-check-big",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lm=he("circle-x",nP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sP=he("circle",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],iP=he("clipboard",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Dh=he("clock",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yc=he("copy",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Y0=he("database",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],dr=he("download",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],hP=he("ellipsis",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pP=he("external-link",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gP=he("eye",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],E_=he("facebook",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],S_=he("file-image",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yd=he("file-text",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],X0=he("file-video",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],J0=he("folder-plus",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],EP=he("folder",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],NP=he("git-branch",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ug=he("globe",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Vm=he("hash",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ia=he("image",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hp=he("info",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],N_=he("instagram",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],AP=he("languages",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Z0=he("layers",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],DP=he("list-checks",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ys=he("loader-circle",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],VP=he("menu",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Lc=he("message-circle",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],zP=he("message-square",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],C_=he("mic",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],xc=he("palette",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],GP=he("paperclip",HP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],j_=he("plus",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],eb=he("redo",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oh=he("refresh-cw",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],YP=he("rocket",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],k_=he("rotate-ccw",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],ZP=he("rotate-cw",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tb=he("save",eA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],nA=he("scissors",tA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vc=he("send",rA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nb=he("settings",sA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ya=he("share-2",oA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],Fm=he("share",iA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],T_=he("shield",aA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],cA=he("smartphone",lA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],I_=he("smile",uA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],sc=he("sparkles",dA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pa=he("square-check-big",hA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pA=he("square-pen",fA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Xd=he("square",mA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],P_=he("sticker",gA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yA=he("target",vA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],A_=he("trash-2",xA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mn=he("triangle-alert",bA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Bg=he("type",wA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],rb=he("undo",_A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],R_=he("upload",EA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],M_=he("user",SA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],CA=he("video",NA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sb=he("wifi-off",jA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Gp=he("wifi",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hi=he("x",TA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$m=he("zap",IA);function PA(){const{hasBrandKit:t,isLoading:e,error:n}=Oc(),[r,i]=b.useState(null),[l,u]=b.useState(!0),[f,p]=b.useState(!1),m=async()=>{try{u(!0),p(!1);const v={hasColors:!0,colorsCount:4,hasTypography:!0,typographyCount:2,hasLogos:!1,logosCount:0,hasVoiceTone:!0,hasUsageRules:!1,completeness:60};await new Promise(E=>setTimeout(E,300)),i(v)}catch{p(!1),i({hasColors:!1,colorsCount:0,hasTypography:!1,typographyCount:0,hasLogos:!1,logosCount:0,hasVoiceTone:!1,hasUsageRules:!1,completeness:0})}finally{u(!1)}};if(b.useEffect(()=>{const v=setTimeout(()=>{t&&!e?m():(u(!1),i(null))},100);return()=>clearTimeout(v)},[t,e]),e||l)return a.jsx(ec,{children:a.jsxs(xd,{children:[a.jsx(bd,{children:a.jsxs(xt,{variant:"outline",className:"gap-2",children:[a.jsx(Oh,{className:"w-3 h-3 animate-spin"}),"Cargando BrandKit..."]})}),a.jsx(wd,{children:a.jsx("p",{children:"Verificando estado del BrandKit"})})]})});if(f&&n&&!n.includes("offline"))return a.jsx(ec,{children:a.jsxs(xd,{children:[a.jsx(bd,{children:a.jsxs(xt,{variant:"outline",className:"gap-2 border-red-200 text-red-700",children:[a.jsx(Lm,{className:"w-3 h-3"}),"BrandKit no disponible"]})}),a.jsx(wd,{children:a.jsx("p",{children:n||"Error conectando con Firestore"})})]})});if(!t&&!e){const v=n&&n.includes("offline");return a.jsx(ec,{children:a.jsxs(xd,{children:[a.jsx(bd,{children:a.jsx(xt,{variant:"outline",className:`gap-2 ${v?"border-yellow-200 text-yellow-700":"border-gray-200 text-gray-700"}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Y0,{className:"w-3 h-3"}),"BrandKit (offline)"]}):a.jsxs(a.Fragment,{children:[a.jsx(xc,{className:"w-3 h-3"}),"Sin BrandKit"]})})}),a.jsx(wd,{children:a.jsx("p",{children:v?"Modo offline - BrandKit disponible desde cach":"No hay BrandKit configurado. Ve al mdulo BrandKit para crear uno."})})]})})}const y=()=>{const v=r?.completeness||0;return v>=80?a.jsxs(xt,{className:"gap-2 bg-green-100 text-green-800 border-green-200",children:[a.jsx(bt,{className:"w-3 h-3"}),"BrandKit Completo (",Math.round(v),"%)"]}):v>=40?a.jsxs(xt,{className:"gap-2 bg-yellow-100 text-yellow-800 border-yellow-200",children:[a.jsx(Ss,{className:"w-3 h-3"}),"BrandKit Parcial (",Math.round(v),"%)"]}):v>0?a.jsxs(xt,{className:"gap-2 bg-blue-100 text-blue-800 border-blue-200",children:[a.jsx(xc,{className:"w-3 h-3"}),"BrandKit Bsico (",Math.round(v),"%)"]}):a.jsxs(xt,{variant:"outline",className:"gap-2 border-gray-300 text-gray-600",children:[a.jsx(Lm,{className:"w-3 h-3"}),"Sin BrandKit"]})},x=()=>!r||r.completeness===0?"No hay BrandKit configurado. Ve al mdulo BrandKit para crear uno.":a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Estado del BrandKit:"}),a.jsxs("p",{children:[" Colores: ",r.hasColors?`${r.colorsCount} definidos`:"No definidos"]}),a.jsxs("p",{children:[" Tipografas: ",r.hasTypography?`${r.typographyCount} definidas`:"No definidas"]}),a.jsxs("p",{children:[" Logos: ",r.hasLogos?`${r.logosCount} disponibles`:"No disponibles"]}),a.jsxs("p",{children:[" Tono de voz: ",r.hasVoiceTone?"Definido":"No definido"]}),a.jsxs("p",{children:[" Reglas de uso: ",r.hasUsageRules?"Definidas":"No definidas"]}),a.jsxs("p",{className:"pt-1 border-t border-gray-200",children:[a.jsx(Y0,{className:"w-3 h-3 inline mr-1"}),"Sincronizado con Firestore"]})]});return a.jsx(ec,{children:a.jsxs(xd,{children:[a.jsx(bd,{children:y()}),a.jsx(wd,{children:x()})]})})}const AA=Eg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ob({className:t,variant:e,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(AA({variant:e}),t),...n})}function ib({className:t,...e}){return a.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const RA=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],f=t[n++],p=((i&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,f=u?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,y=l>>2,x=(l&3)<<4|f>>4;let v=(f&15)<<2|m>>6,E=m&63;p||(E=64,u||(v=64)),r.push(n[y],n[x],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||f==null||m==null||x==null)throw new DA;const v=l<<2|f>>4;if(r.push(v),m!==64){const E=f<<4&240|m>>2;if(r.push(E),x!==64){const S=m<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(t){const e=D_(t);return O_.encodeByteArray(e,!0)},Jd=function(t){return OA(t).replace(/\./g,"")},L_=function(t){try{return O_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>LA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof ab>"u")return;const t=ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$A=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L_(t[1]);return e&&JSON.parse(e)},Lh=()=>{try{return RA()||VA()||FA()||$A()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V_=t=>Lh()?.emulatorHosts?.[t],zA=t=>{const e=V_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F_=()=>Lh()?.config,$_=t=>Lh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jd(JSON.stringify(n)),Jd(JSON.stringify(u)),""].join(".")}const oc={};function HA(){const t={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?t.emulator.push(e):t.prod.push(e);return t}function GA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lb=!1;function U_(t,e){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||oc[t]===e||oc[t]||lb)return;oc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=HA().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{lb=!0,u()},v}function y(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function x(){const v=GA(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),C=n("learnmore"),k=document.getElementById(C)||document.createElement("a"),V=n("preprendIcon"),$=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;f(F),y(k,C);const U=m();p($,V),F.append($,S,k,U),document.body.appendChild(F)}l?(S.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function KA(){const t=Lh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="FirebaseError";class ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tR,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?nR(l,r):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new ks(i,f,r)}}function nR(t,e){return t.replace(rR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rR=/\{\$([^}]+)}/g;function sR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],u=e[i];if(cb(l)&&cb(u)){if(!fi(l,u))return!1}else if(l!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oR(t,e){const n=new iR(t,e);return n.subscribe.bind(n)}class iR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(t){return t===Jo?void 0:t}function uR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const hR={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},fR=$e.INFO,pR={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},mR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const gR=(t,e)=>e.some(n=>t instanceof n);let ub,db;function vR(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,zm=new WeakMap,H_=new WeakMap,Kp=new WeakMap,Gg=new WeakMap;function xR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(fo(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&B_.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function bR(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});zm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wR(t){Um=t(Um)}function _R(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return H_.set(r,e.sort?e.sort():[e]),fo(r)}:yR().includes(t)?function(...e){return t.apply(qp(this),e),fo(B_.get(this))}:function(...e){return fo(t.apply(qp(this),e))}}function ER(t){return typeof t=="function"?_R(t):(t instanceof IDBTransaction&&bR(t),gR(t,vR())?new Proxy(t,Um):t)}function fo(t){if(t instanceof IDBRequest)return xR(t);if(Kp.has(t))return Kp.get(t);const e=ER(t);return e!==t&&(Kp.set(t,e),Gg.set(e,t)),e}const qp=t=>Gg.get(t);function SR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),f=fo(u);return r&&u.addEventListener("upgradeneeded",p=>{r(fo(u.result),p.oldVersion,p.newVersion,fo(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const NR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],Qp=new Map;function hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),i&&p.done]))[0]};return Qp.set(e,l),l}wR(t=>({...t,get:(e,n,r)=>hb(e,n)||t.get(e,n,r),has:(e,n)=>!!hb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kR(t){return t.getComponent()?.type==="VERSION"}const Bm="@firebase/app",fb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Hg("@firebase/app"),TR="@firebase/app-compat",IR="@firebase/analytics-compat",PR="@firebase/analytics",AR="@firebase/app-check-compat",RR="@firebase/app-check",MR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",LR="@firebase/data-connect",VR="@firebase/database-compat",FR="@firebase/functions",$R="@firebase/functions-compat",zR="@firebase/installations",UR="@firebase/installations-compat",BR="@firebase/messaging",HR="@firebase/messaging-compat",GR="@firebase/performance",WR="@firebase/performance-compat",KR="@firebase/remote-config",qR="@firebase/remote-config-compat",QR="@firebase/storage",YR="@firebase/storage-compat",XR="@firebase/firestore",JR="@firebase/ai",ZR="@firebase/firestore-compat",e4="firebase",t4="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",n4={[Bm]:"fire-core",[TR]:"fire-core-compat",[PR]:"fire-analytics",[IR]:"fire-analytics-compat",[RR]:"fire-app-check",[AR]:"fire-app-check-compat",[MR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[LR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[FR]:"fire-fn",[$R]:"fire-fn-compat",[zR]:"fire-iid",[UR]:"fire-iid-compat",[BR]:"fire-fcm",[HR]:"fire-fcm-compat",[GR]:"fire-perf",[WR]:"fire-perf-compat",[KR]:"fire-rc",[qR]:"fire-rc-compat",[QR]:"fire-gcs",[YR]:"fire-gcs-compat",[XR]:"fire-fst",[ZR]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[e4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,r4=new Map,Hm=new Map;function pb(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(Hm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of eh.values())pb(n,t);for(const n of r4.values())pb(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function s4(t,e,n=Zd){Vh(t,e).clearInstance(n)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Fc("app","Firebase",o4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=t4;function Fh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zd,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=F_()),!n)throw po.create("no-options");const l=eh.get(i);if(l){if(fi(n,l.options)&&fi(r,l.config))return l;throw po.create("duplicate-app",{appName:i})}const u=new dR(i);for(const p of Hm.values())u.addComponent(p);const f=new i4(n,r,u);return eh.set(i,f),f}function G_(t=Zd){const e=eh.get(t);if(!e&&t===Zd&&F_())return Fh();if(!e)throw po.create("no-app",{appName:t});return e}function mo(t,e,n){let r=n4[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}Aa(new pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-heartbeat-database",l4=1,bc="firebase-heartbeat-store";let Yp=null;function W_(){return Yp||(Yp=SR(a4,l4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function c4(t){try{const n=(await W_()).transaction(bc),r=await n.objectStore(bc).get(K_(t));return await n.done,r}catch(e){if(e instanceof ks)Ns.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(n.message)}}}async function mb(t,e){try{const r=(await W_()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,K_(t)),await r.done}catch(n){if(n instanceof ks)Ns.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n?.message});Ns.warn(r.message)}}}function K_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=1024,d4=30;class h4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>d4){const i=m4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gb(),{heartbeatsToSend:n,unsentEntries:r}=f4(this._heartbeatsCache.heartbeats),i=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ns.warn(e),""}}}function gb(){return new Date().toISOString().substring(0,10)}function f4(t,e=u4){const n=[];let r=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),vb(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vb(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}function m4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){Aa(new pi("platform-logger",e=>new jR(e),"PRIVATE")),Aa(new pi("heartbeat",e=>new h4(e),"PRIVATE")),mo(Bm,fb,t),mo(Bm,fb,"esm2020"),mo("fire-js","")}g4("");var v4="firebase",y4="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(v4,y4,"app");var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,j){function A(){}A.prototype=j.prototype,I.F=j.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(M,O,D){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return j.prototype[O].apply(M,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,j,A){A||(A=0);const M=Array(16);if(typeof j=="string")for(var O=0;O<16;++O)M[O]=j.charCodeAt(A++)|j.charCodeAt(A++)<<8|j.charCodeAt(A++)<<16|j.charCodeAt(A++)<<24;else for(O=0;O<16;++O)M[O]=j[A++]|j[A++]<<8|j[A++]<<16|j[A++]<<24;j=I.g[0],A=I.g[1],O=I.g[2];let D=I.g[3],P;P=j+(D^A&(O^D))+M[0]+3614090360&4294967295,j=A+(P<<7&4294967295|P>>>25),P=D+(O^j&(A^O))+M[1]+3905402710&4294967295,D=j+(P<<12&4294967295|P>>>20),P=O+(A^D&(j^A))+M[2]+606105819&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(j^O&(D^j))+M[3]+3250441966&4294967295,A=O+(P<<22&4294967295|P>>>10),P=j+(D^A&(O^D))+M[4]+4118548399&4294967295,j=A+(P<<7&4294967295|P>>>25),P=D+(O^j&(A^O))+M[5]+1200080426&4294967295,D=j+(P<<12&4294967295|P>>>20),P=O+(A^D&(j^A))+M[6]+2821735955&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(j^O&(D^j))+M[7]+4249261313&4294967295,A=O+(P<<22&4294967295|P>>>10),P=j+(D^A&(O^D))+M[8]+1770035416&4294967295,j=A+(P<<7&4294967295|P>>>25),P=D+(O^j&(A^O))+M[9]+2336552879&4294967295,D=j+(P<<12&4294967295|P>>>20),P=O+(A^D&(j^A))+M[10]+4294925233&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(j^O&(D^j))+M[11]+2304563134&4294967295,A=O+(P<<22&4294967295|P>>>10),P=j+(D^A&(O^D))+M[12]+1804603682&4294967295,j=A+(P<<7&4294967295|P>>>25),P=D+(O^j&(A^O))+M[13]+4254626195&4294967295,D=j+(P<<12&4294967295|P>>>20),P=O+(A^D&(j^A))+M[14]+2792965006&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(j^O&(D^j))+M[15]+1236535329&4294967295,A=O+(P<<22&4294967295|P>>>10),P=j+(O^D&(A^O))+M[1]+4129170786&4294967295,j=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(j^A))+M[6]+3225465664&4294967295,D=j+(P<<9&4294967295|P>>>23),P=O+(j^A&(D^j))+M[11]+643717713&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^j&(O^D))+M[0]+3921069994&4294967295,A=O+(P<<20&4294967295|P>>>12),P=j+(O^D&(A^O))+M[5]+3593408605&4294967295,j=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(j^A))+M[10]+38016083&4294967295,D=j+(P<<9&4294967295|P>>>23),P=O+(j^A&(D^j))+M[15]+3634488961&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^j&(O^D))+M[4]+3889429448&4294967295,A=O+(P<<20&4294967295|P>>>12),P=j+(O^D&(A^O))+M[9]+568446438&4294967295,j=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(j^A))+M[14]+3275163606&4294967295,D=j+(P<<9&4294967295|P>>>23),P=O+(j^A&(D^j))+M[3]+4107603335&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^j&(O^D))+M[8]+1163531501&4294967295,A=O+(P<<20&4294967295|P>>>12),P=j+(O^D&(A^O))+M[13]+2850285829&4294967295,j=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(j^A))+M[2]+4243563512&4294967295,D=j+(P<<9&4294967295|P>>>23),P=O+(j^A&(D^j))+M[7]+1735328473&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^j&(O^D))+M[12]+2368359562&4294967295,A=O+(P<<20&4294967295|P>>>12),P=j+(A^O^D)+M[5]+4294588738&4294967295,j=A+(P<<4&4294967295|P>>>28),P=D+(j^A^O)+M[8]+2272392833&4294967295,D=j+(P<<11&4294967295|P>>>21),P=O+(D^j^A)+M[11]+1839030562&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^j)+M[14]+4259657740&4294967295,A=O+(P<<23&4294967295|P>>>9),P=j+(A^O^D)+M[1]+2763975236&4294967295,j=A+(P<<4&4294967295|P>>>28),P=D+(j^A^O)+M[4]+1272893353&4294967295,D=j+(P<<11&4294967295|P>>>21),P=O+(D^j^A)+M[7]+4139469664&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^j)+M[10]+3200236656&4294967295,A=O+(P<<23&4294967295|P>>>9),P=j+(A^O^D)+M[13]+681279174&4294967295,j=A+(P<<4&4294967295|P>>>28),P=D+(j^A^O)+M[0]+3936430074&4294967295,D=j+(P<<11&4294967295|P>>>21),P=O+(D^j^A)+M[3]+3572445317&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^j)+M[6]+76029189&4294967295,A=O+(P<<23&4294967295|P>>>9),P=j+(A^O^D)+M[9]+3654602809&4294967295,j=A+(P<<4&4294967295|P>>>28),P=D+(j^A^O)+M[12]+3873151461&4294967295,D=j+(P<<11&4294967295|P>>>21),P=O+(D^j^A)+M[15]+530742520&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^j)+M[2]+3299628645&4294967295,A=O+(P<<23&4294967295|P>>>9),P=j+(O^(A|~D))+M[0]+4096336452&4294967295,j=A+(P<<6&4294967295|P>>>26),P=D+(A^(j|~O))+M[7]+1126891415&4294967295,D=j+(P<<10&4294967295|P>>>22),P=O+(j^(D|~A))+M[14]+2878612391&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~j))+M[5]+4237533241&4294967295,A=O+(P<<21&4294967295|P>>>11),P=j+(O^(A|~D))+M[12]+1700485571&4294967295,j=A+(P<<6&4294967295|P>>>26),P=D+(A^(j|~O))+M[3]+2399980690&4294967295,D=j+(P<<10&4294967295|P>>>22),P=O+(j^(D|~A))+M[10]+4293915773&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~j))+M[1]+2240044497&4294967295,A=O+(P<<21&4294967295|P>>>11),P=j+(O^(A|~D))+M[8]+1873313359&4294967295,j=A+(P<<6&4294967295|P>>>26),P=D+(A^(j|~O))+M[15]+4264355552&4294967295,D=j+(P<<10&4294967295|P>>>22),P=O+(j^(D|~A))+M[6]+2734768916&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~j))+M[13]+1309151649&4294967295,A=O+(P<<21&4294967295|P>>>11),P=j+(O^(A|~D))+M[4]+4149444226&4294967295,j=A+(P<<6&4294967295|P>>>26),P=D+(A^(j|~O))+M[11]+3174756917&4294967295,D=j+(P<<10&4294967295|P>>>22),P=O+(j^(D|~A))+M[2]+718787259&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~j))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+j&4294967295,I.g[1]=I.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,j){j===void 0&&(j=I.length);const A=j-this.blockSize,M=this.C;let O=this.h,D=0;for(;D<j;){if(O==0)for(;D<=A;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<j;)if(M[O++]=I.charCodeAt(D++),O==this.blockSize){i(this,M),O=0;break}}else for(;D<j;)if(M[O++]=I[D++],O==this.blockSize){i(this,M),O=0;break}}this.h=O,this.o+=j},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var j=1;j<I.length-8;++j)I[j]=0;j=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=j&255,j/=256;for(this.v(I),I=Array(16),j=0,A=0;A<4;++A)for(let M=0;M<32;M+=8)I[j++]=this.g[A]>>>M&255;return I};function l(I,j){var A=f;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=j(I)}function u(I,j){this.h=j;const A=[];let M=!0;for(let O=I.length-1;O>=0;O--){const D=I[O]|0;M&&D==j||(A[O]=D,M=!1)}this.g=A}var f={};function p(I){return-128<=I&&I<128?l(I,function(j){return new u([j|0],j<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return k(m(-I));const j=[];let A=1;for(let M=0;I>=A;M++)j[M]=I/A|0,A*=4294967296;return new u(j,0)}function y(I,j){if(I.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(I.charAt(0)=="-")return k(y(I.substring(1),j));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=m(Math.pow(j,8));let M=x;for(let D=0;D<I.length;D+=8){var O=Math.min(8,I.length-D);const P=parseInt(I.substring(D,D+O),j);O<8?(O=m(Math.pow(j,O)),M=M.j(O).add(m(P))):(M=M.j(A),M=M.add(m(P)))}return M}var x=p(0),v=p(1),E=p(16777216);t=u.prototype,t.m=function(){if(C(this))return-k(this).m();let I=0,j=1;for(let A=0;A<this.g.length;A++){const M=this.i(A);I+=(M>=0?M:4294967296+M)*j,j*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(C(this))return"-"+k(this).toString(I);const j=m(Math.pow(I,6));var A=this;let M="";for(;;){const O=U(A,j).g;A=V(A,O.j(j));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=O,S(A))return D+M;for(;D.length<6;)D="0"+D;M=D+M}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let j=0;j<I.g.length;j++)if(I.g[j]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=V(this,I),C(I)?-1:S(I)?0:1};function k(I){const j=I.g.length,A=[];for(let M=0;M<j;M++)A[M]=~I.g[M];return new u(A,~I.h).add(v)}t.abs=function(){return C(this)?k(this):this},t.add=function(I){const j=Math.max(this.g.length,I.g.length),A=[];let M=0;for(let O=0;O<=j;O++){let D=M+(this.i(O)&65535)+(I.i(O)&65535),P=(D>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=P>>>16,D&=65535,P&=65535,A[O]=P<<16|D}return new u(A,A[A.length-1]&-2147483648?-1:0)};function V(I,j){return I.add(k(j))}t.j=function(I){if(S(this)||S(I))return x;if(C(this))return C(I)?k(this).j(k(I)):k(k(this).j(I));if(C(I))return k(this.j(k(I)));if(this.l(E)<0&&I.l(E)<0)return m(this.m()*I.m());const j=this.g.length+I.g.length,A=[];for(var M=0;M<2*j;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const D=this.i(M)>>>16,P=this.i(M)&65535,B=I.i(O)>>>16,te=I.i(O)&65535;A[2*M+2*O]+=P*te,$(A,2*M+2*O),A[2*M+2*O+1]+=D*te,$(A,2*M+2*O+1),A[2*M+2*O+1]+=P*B,$(A,2*M+2*O+1),A[2*M+2*O+2]+=D*B,$(A,2*M+2*O+2)}for(I=0;I<j;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=j;I<2*j;I++)A[I]=0;return new u(A,0)};function $(I,j){for(;(I[j]&65535)!=I[j];)I[j+1]+=I[j]>>>16,I[j]&=65535,j++}function F(I,j){this.g=I,this.h=j}function U(I,j){if(S(j))throw Error("division by zero");if(S(I))return new F(x,x);if(C(I))return j=U(k(I),j),new F(k(j.g),k(j.h));if(C(j))return j=U(I,k(j)),new F(k(j.g),j.h);if(I.g.length>30){if(C(I)||C(j))throw Error("slowDivide_ only works with positive integers.");for(var A=v,M=j;M.l(I)<=0;)A=L(A),M=L(M);var O=K(A,1),D=K(M,1);for(M=K(M,2),A=K(A,2);!S(M);){var P=D.add(M);P.l(I)<=0&&(O=O.add(A),D=P),M=K(M,1),A=K(A,1)}return j=V(I,O.j(j)),new F(O,j)}for(O=x;I.l(j)>=0;){for(A=Math.max(1,Math.floor(I.m()/j.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),D=m(A),P=D.j(j);C(P)||P.l(I)>0;)A-=M,D=m(A),P=D.j(j);S(D)&&(D=v),O=O.add(D),I=V(I,P)}return new F(O,I)}t.B=function(I){return U(this,I).h},t.and=function(I){const j=Math.max(this.g.length,I.g.length),A=[];for(let M=0;M<j;M++)A[M]=this.i(M)&I.i(M);return new u(A,this.h&I.h)},t.or=function(I){const j=Math.max(this.g.length,I.g.length),A=[];for(let M=0;M<j;M++)A[M]=this.i(M)|I.i(M);return new u(A,this.h|I.h)},t.xor=function(I){const j=Math.max(this.g.length,I.g.length),A=[];for(let M=0;M<j;M++)A[M]=this.i(M)^I.i(M);return new u(A,this.h^I.h)};function L(I){const j=I.g.length+1,A=[];for(let M=0;M<j;M++)A[M]=I.i(M)<<1|I.i(M-1)>>>31;return new u(A,I.h)}function K(I,j){const A=j>>5;j%=32;const M=I.g.length-A,O=[];for(let D=0;D<M;D++)O[D]=j>0?I.i(D+A)>>>j|I.i(D+A+1)<<32-j:I.i(D+A);return new u(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Wg=u}).apply(typeof yb<"u"?yb:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q_,tc,Q_,Od,Gm,Y_,X_,J_;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var _=0;_<d.length;++_){var N=d[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var N=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var Y=d[R];if(!(Y in N))break e;N=N[Y]}d=d[d.length-1],R=N[d],_=_(R),_!=R&&_!=null&&e(N,d,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(_){var N=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&N.push([R,_[R]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,N){return d.call.apply(d.bind,arguments)}function m(d,_,N){return m=p,m.apply(null,arguments)}function y(d,_){var N=Array.prototype.slice.call(arguments,1);return function(){var R=N.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function x(d,_){function N(){}N.prototype=_.prototype,d.Z=_.prototype,d.prototype=new N,d.prototype.constructor=d,d.Ob=function(R,Y,Z){for(var de=Array(arguments.length-2),De=2;De<arguments.length;De++)de[De-2]=arguments[De];return _.prototype[Y].apply(R,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const _=d.length;if(_>0){const N=Array(_);for(let R=0;R<_;R++)N[R]=d[R];return N}return[]}function S(d,_){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var N=typeof Y;if(N=N!="object"?N:Y?Array.isArray(Y)?"array":N:"null",N=="array"||N=="object"&&typeof Y.length=="number"){N=d.length||0;const Z=Y.length||0;d.length=N+Z;for(let de=0;de<Z;de++)d[N+de]=Y[de]}else d.push(Y)}}class C{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(d){u.setTimeout(()=>{throw d},0)}function V(){var d=I;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,N){const R=F.get();R.set(_,N),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new C(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let L,K=!1,I=new $,j=()=>{const d=Promise.resolve(void 0);L=()=>{d.then(A)}};function A(){for(var d;d=V();){try{d.h.call(d.g)}catch(N){k(N)}var _=F;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}K=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};u.addEventListener("test",N,_),u.removeEventListener("test",N,_)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function B(d,_){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}x(B,O),B.prototype.init=function(d,_){const N=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(N=="mouseover"?_=d.fromElement:N=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),se=0;function ce(d,_,N,R,Y){this.listener=d,this.proxy=null,this.src=_,this.type=N,this.capture=!!R,this.ha=Y,this.key=++se,this.da=this.fa=!1}function q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ee(d,_,N){for(const R in d)_.call(N,d[R],R,d)}function ae(d,_){for(const N in d)_.call(void 0,d[N],N,d)}function G(d){const _={};for(const N in d)_[N]=d[N];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(d,_){let N,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(N in R)d[N]=R[N];for(let Z=0;Z<ne.length;Z++)N=ne[Z],Object.prototype.hasOwnProperty.call(R,N)&&(d[N]=R[N])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,_,N,R,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const de=Te(d,_,R,Y);return de>-1?(_=d[de],N||(_.fa=!1)):(_=new ce(_,this.src,Z,!!R,Y),_.fa=N,d.push(_)),_};function Re(d,_){const N=_.type;if(N in d.g){var R=d.g[N],Y=Array.prototype.indexOf.call(R,_,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(R,Y,1),Z&&(q(_),d.g[N].length==0&&(delete d.g[N],d.h--))}}function Te(d,_,N,R){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==_&&Z.capture==!!N&&Z.ha==R)return Y}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Oe={};function Be(d,_,N,R,Y){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Be(d,_[Z],N,R,Y);return null}return N=tl(N),d&&d[te]?d.J(_,N,f(R)?!!R.capture:!1,Y):ct(d,_,N,!1,R,Y)}function ct(d,_,N,R,Y,Z){if(!_)throw Error("Invalid event type");const de=f(Y)?!!Y.capture:!!Y;let De=Ni(d);if(De||(d[ve]=De=new ye(d)),N=De.add(_,N,R,de,Z),N.proxy)return N;if(R=Rn(),N.proxy=R,R.src=d,R.listener=N,d.addEventListener)D||(Y=de),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),R,Y);else if(d.attachEvent)d.attachEvent(Si(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Rn(){function d(N){return _.call(d.src,d.listener,N)}const _=Zc;return d}function Mn(d,_,N,R,Y){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Mn(d,_[Z],N,R,Y);else R=f(R)?!!R.capture:!!R,N=tl(N),d&&d[te]?(d=d.i,Z=String(_).toString(),Z in d.g&&(_=d.g[Z],N=Te(_,N,R,Y),N>-1&&(q(_[N]),Array.prototype.splice.call(_,N,1),_.length==0&&(delete d.g[Z],d.h--)))):d&&(d=Ni(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Te(_,N,R,Y)),(N=d>-1?_[d]:null)&&gn(N))}function gn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[te])Re(_.i,d);else{var N=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(N,R,d.capture):_.detachEvent?_.detachEvent(Si(N),R):_.addListener&&_.removeListener&&_.removeListener(R),(N=Ni(_))?(Re(N,d),N.h==0&&(N.src=null,_[ve]=null)):q(d)}}}function Si(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function Zc(d,_){if(d.da)d=!0;else{_=new B(_,this);const N=d.listener,R=d.ha||d.src;d.fa&&gn(d),d=N.call(R,_)}return d}function Ni(d){return d=d[ve],d instanceof ye?d:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(d){return typeof d=="function"?d:(d[So]||(d[So]=function(_){return d.handleEvent(_)}),d[So])}function mt(){M.call(this),this.i=new ye(this),this.M=this,this.G=null}x(mt,M),mt.prototype[te]=!0,mt.prototype.removeEventListener=function(d,_,N,R){Mn(this,d,_,N,R)};function ht(d,_){var N,R=d.G;if(R)for(N=[];R;R=R.G)N.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new O(_,d);else if(_ instanceof O)_.target=_.target||d;else{var Y=_;_=new O(R,d),me(_,Y)}Y=!0;let Z,de;if(N)for(de=N.length-1;de>=0;de--)Z=_.g=N[de],Y=Yn(Z,R,!0,_)&&Y;if(Z=_.g=d,Y=Yn(Z,R,!0,_)&&Y,Y=Yn(Z,R,!1,_)&&Y,N)for(de=0;de<N.length;de++)Z=_.g=N[de],Y=Yn(Z,R,!1,_)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const N=d.g[_];for(let R=0;R<N.length;R++)q(N[R]);delete d.g[_],d.h--}}this.G=null},mt.prototype.J=function(d,_,N,R){return this.i.add(String(d),_,!1,N,R)},mt.prototype.K=function(d,_,N,R){return this.i.add(String(d),_,!0,N,R)};function Yn(d,_,N,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let Z=0;Z<_.length;++Z){const de=_[Z];if(de&&!de.da&&de.capture==N){const De=de.listener,ft=de.ha||de.src;de.fa&&Re(d.i,de),Y=De.call(ft,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function nl(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(d,_||0)}function rl(d){d.g=nl(()=>{d.g=null,d.i&&(d.i=!1,rl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class eu extends M{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(d){M.call(this),this.h=d,this.g={}}x(Ts,M);var sl=[];function Ci(d){ee(d.g,function(_,N){this.g.hasOwnProperty(N)&&gn(_)},d),d.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Ci(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=u.JSON.stringify,tu=u.JSON.parse,No=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ps(){}function nu(){}var As={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ji(){O.call(this,"d")}x(ji,O);function ol(){O.call(this,"c")}x(ol,O);var Xn={},ki=null;function Rs(){return ki=ki||new mt}Xn.Ia="serverreachability";function Ti(d){O.call(this,Xn.Ia,d)}x(Ti,O);function Yr(d){const _=Rs();ht(_,new Ti(_))}Xn.STAT_EVENT="statevent";function Xr(d,_){O.call(this,Xn.STAT_EVENT,d),this.stat=_}x(Xr,O);function ut(d){const _=Rs();ht(_,new Xr(_,d))}Xn.Ja="timingevent";function il(d,_){O.call(this,Xn.Ja,d),this.size=_}x(il,O);function Ms(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Ds(){this.g=!0}Ds.prototype.ua=function(){this.g=!1};function ru(d,_,N,R,Y,Z){d.info(function(){if(d.g)if(Z){var de="",De=Z.split("&");for(let Ye=0;Ye<De.length;Ye++){var ft=De[Ye].split("=");if(ft.length>1){const gt=ft[0];ft=ft[1];const _n=gt.split("_");de=_n.length>=2&&_n[1]=="type"?de+(gt+"="+ft+"&"):de+(gt+"=redacted&")}}}else de=null;else de=Z;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+_+`
`+N+`
`+de})}function su(d,_,N,R,Y,Z,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+_+`
`+N+`
`+Z+" "+de})}function gr(d,_,N,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Co(d,N)+(R?" "+R:"")})}function ou(d,_){d.info(function(){return"TIMEOUT: "+_})}Ds.prototype.info=function(){};function Co(d,_){if(!d.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var N=Z[d];if(!(N.length<2)){var R=N[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return Is(Z)}catch{return _}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},iu;function Jr(){}x(Jr,Ps),Jr.prototype.g=function(){return new XMLHttpRequest},iu=new Jr;function vr(d){return encodeURIComponent(String(d))}function Ii(d){var _=1;d=d.split(":");const N=[];for(;_>0&&d.length;)N.push(d.shift()),_--;return d.length&&N.push(d.join(":")),N}function Dn(d,_,N,R){this.j=d,this.i=_,this.l=N,this.S=R||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var lu={},al={};function Jn(d,_,N){d.M=1,d.A=es(On(_)),d.u=N,d.R=!0,ll(d,null)}function ll(d,_){d.F=Date.now(),jo(d),d.B=On(d.A);var N=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),yl(N.i,"t",R),d.C=0,N=d.j.L,d.h=new au,d.g=yu(d.j,N?_:null,!d.u),d.P>0&&(d.O=new eu(m(d.Y,d,d.g),d.P)),_=d.V,N=d.g,R=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(sl[0]=Y.toString()),Y=sl);for(let Z=0;Z<Y.length;Z++){const de=Be(N,Y[Z],R||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=d.J?G(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Yr(),ru(d.i,d.v,d.B,d.l,d.S,d.u)}Dn.prototype.ba=function(d){d=d.target;const _=this.O;_&&Sr(d)==3?_.j():this.Y(d)},Dn.prototype.Y=function(d){try{if(d==this.g)e:{const De=Sr(this.g),ft=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||gu(this.g)))){this.K||De!=4||ft==7||(ft==8||Ye<=0?Yr(3):Yr(2)),Pi(this);var _=this.g.ca();this.X=_;var N=cu(this);if(this.o=_==200,su(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var Z=R;break t}}Z=null}if(d=Z)gr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,d);else{this.o=!1,this.m=3,ut(12),Zr(this),ko(this);break e}}if(this.R){d=!0;let gt;for(;!this.K&&this.C<N.length;)if(gt=du(this,N),gt==al){De==4&&(this.m=4,ut(14),d=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==lu){this.m=4,ut(15),gr(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else gr(this.i,this.l,gt,null),tt(this,gt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||N.length!=0||this.h.h||(this.m=1,ut(16),d=!1),this.o=this.o&&d,!d)gr(this.i,this.l,N,"[Invalid Chunked Response]"),Zr(this),ko(this);else if(N.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Lo(de),de.P=!0,ut(11))}}else gr(this.i,this.l,N,null),tt(this,N);De==4&&Zr(this),this.o&&!this.K&&(De==4?zi(this.j,this):(this.o=!1,jo(this)))}else bl(this.g),_==400&&N.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Zr(this),ko(this)}}}catch{}finally{}};function cu(d){if(!uu(d))return d.g.la();const _=gu(d.g);if(_==="")return"";let N="";const R=_.length,Y=Sr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Zr(d),ko(d),"";d.h.i=new u.TextDecoder}for(let Z=0;Z<R;Z++)d.h.h=!0,N+=d.h.i.decode(_[Z],{stream:!(Y&&Z==R-1)});return _.length=0,d.h.g+=N,d.C=0,d.h.g}function uu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function du(d,_){var N=d.C,R=_.indexOf(`
`,N);return R==-1?al:(N=Number(_.substring(N,R)),isNaN(N)?lu:(R+=1,R+N>_.length?al:(_=_.slice(R,R+N),d.C=R+N,_)))}Dn.prototype.cancel=function(){this.K=!0,Zr(this)};function jo(d){d.T=Date.now()+d.H,cl(d,d.H)}function cl(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ms(m(d.aa,d),_)}function Pi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Dn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ou(this.i,this.B),this.M!=2&&(Yr(),ut(17)),Zr(this),this.m=2,ko(this)):cl(this,this.T-d)};function ko(d){d.j.I==0||d.K||zi(d.j,d)}function Zr(d){Pi(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Ci(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function tt(d,_){try{var N=d.j;if(N.I!=0&&(N.g==d||dl(N.h,d))){if(!d.L&&dl(N.h,d)&&N.I==3){try{var R=N.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<d.F)$i(N),bn(N);else break e;jr(N),ut(18)}}else N.xa=Y[1],0<N.xa-N.K&&Y[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Ms(m(N.Va,N),6e3));To(N.h)<=1&&N.ta&&(N.ta=void 0)}else wn(N,11)}else if((d.L||N.g==d)&&$i(N),!P(_))for(Y=N.Ba.g.parse(_),_=0;_<Y.length;_++){let Ye=Y[_];const gt=Ye[0];if(!(gt<=N.K))if(N.K=gt,Ye=Ye[1],N.I==2)if(Ye[0]=="c"){N.M=Ye[1],N.ba=Ye[2];const _n=Ye[3];_n!=null&&(N.ka=_n,N.j.info("VER="+N.ka));const os=Ye[4];os!=null&&(N.za=os,N.j.info("SVER="+N.za));const kr=Ye[5];kr!=null&&typeof kr=="number"&&kr>0&&(R=1.5*kr,N.O=R,N.j.info("backChannelRequestTimeoutMs_="+R)),R=N;const Tr=d.g;if(Tr){const Hi=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var Z=R.h;Z.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ri(Z,Z.h),Z.h=null))}if(R.G){const El=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(R.wa=El,Qe(R.J,R.G,El))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-d.F,N.j.info("Handshake RTT: "+N.T+"ms")),R=N;var de=d;if(R.na=_l(R,R.L?R.ba:null,R.W),de.L){Io(R.h,de);var De=de,ft=R.O;ft&&(De.H=ft),De.D&&(Pi(De),jo(De)),R.g=de}else Ht(R);N.i.length>0&&ss(N)}else Ye[0]!="stop"&&Ye[0]!="close"||wn(N,7);else N.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?wn(N,7):Vi(N):Ye[0]!="noop"&&N.l&&N.l.qa(Ye),N.A=0)}}Yr(4)}catch{}}var uf=class{constructor(d,_){this.g=d,this.map=_}};function Ai(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function To(d){return d.h?1:d.g?d.g.size:0}function dl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ri(d,_){d.g?d.g.add(_):d.h=_}function Io(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ai.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function vn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const N of d.g.values())_=_.concat(N.G);return _}return E(d.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yn(d,_){if(d){d=d.split("&");for(let N=0;N<d.length;N++){const R=d[N].indexOf("=");let Y,Z=null;R>=0?(Y=d[N].substring(0,R),Z=d[N].substring(R+1)):Y=d[N],_(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function yr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof yr?(this.l=d.l,Po(this,d.j),this.o=d.o,this.g=d.g,xr(this,d.u),this.h=d.h,Vs(this,xl(d.i)),this.m=d.m):d&&(_=String(d).match(hu))?(this.l=!1,Po(this,_[1]||"",!0),this.o=Ao(_[2]||""),this.g=Ao(_[3]||"",!0),xr(this,_[4]),this.h=Ao(_[5]||"",!0),Vs(this,_[6]||"",!0),this.m=Ao(_[7]||"")):(this.l=!1,this.i=new Ue(null,this.l))}yr.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ro(_,fl,!0),":");var N=this.g;return(N||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ro(_,fl,!0),"@"),d.push(vr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&d.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(Ro(N,N.charAt(0)=="/"?Mo:pl,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",Ro(N,ml)),d.join("")},yr.prototype.resolve=function(d){const _=On(this);let N=!!d.j;N?Po(_,d.j):N=!!d.o,N?_.o=d.o:N=!!d.g,N?_.g=d.g:N=d.u!=null;var R=d.h;if(N)xr(_,d.u);else if(N=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(R=_.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let de=0;de<Y.length;){const De=Y[de++];De=="."?R&&de==Y.length&&Z.push(""):De==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&de==Y.length&&Z.push("")):(Z.push(De),R=!0)}R=Z.join("/")}else R=Y}return N?_.h=R:N=d.i.toString()!=="",N?Vs(_,xl(d.i)):N=!!d.m,N&&(_.m=d.m),_};function On(d){return new yr(d)}function Po(d,_,N){d.j=N?Ao(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function xr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Vs(d,_,N){_ instanceof Ue?(d.i=_,Di(d.i,d.l)):(N||(_=Ro(_,df)),d.i=new Ue(_,d.l))}function Qe(d,_,N){d.i.set(_,N)}function es(d){return Qe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ao(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ro(d,_,N){return typeof d=="string"?(d=encodeURI(d).replace(_,hl),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function hl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fl=/[#\/\?@]/g,pl=/[#\?:]/g,Mo=/[#\?]/g,df=/[#\?@]/g,ml=/#/g;function Ue(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function br(d){d.g||(d.g=new Map,d.h=0,d.i&&yn(d.i,function(_,N){d.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=Ue.prototype,t.add=function(d,_){br(this),this.i=null,d=wr(this,d);let N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(_),this.h+=1,this};function gl(d,_){br(d),_=wr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Mi(d,_){return br(d),_=wr(d,_),d.g.has(_)}t.forEach=function(d,_){br(this),this.g.forEach(function(N,R){N.forEach(function(Y){d.call(_,Y,R,this)},this)},this)};function vl(d,_){br(d);let N=[];if(typeof _=="string")Mi(d,_)&&(N=N.concat(d.g.get(wr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)N=N.concat(d[_]);return N}t.set=function(d,_){return br(this),this.i=null,d=wr(this,d),Mi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=vl(this,d),d.length>0?String(d[0]):_):_};function yl(d,_,N){gl(d,_),N.length>0&&(d.i=null,d.g.set(wr(d,_),E(N)),d.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var N=_[R];const Y=vr(N);N=vl(this,N);for(let Z=0;Z<N.length;Z++){let de=Y;N[Z]!==""&&(de+="="+vr(N[Z])),d.push(de)}}return this.i=d.join("&")};function xl(d){const _=new Ue;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function wr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Di(d,_){_&&!d.j&&(br(d),d.i=null,d.g.forEach(function(N,R){const Y=R.toLowerCase();R!=Y&&(gl(this,R),yl(this,Y,N))},d)),d.j=_}function _r(d,_){const N=new Ds;if(u.Image){const R=new Image;R.onload=y(Mt,N,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Mt,N,"TestLoadImage: error",!1,_,R),R.onabort=y(Mt,N,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Mt,N,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Er(d,_){const N=new Ds,R=new AbortController,Y=setTimeout(()=>{R.abort(),Mt(N,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout(Y),Z.ok?Mt(N,"TestPingServer: ok",!0,_):Mt(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Mt(N,"TestPingServer: error",!1,_)})}function Mt(d,_,N,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(N)}catch{}}function Do(){this.g=new No}function ts(d){this.i=d.Sb||null,this.h=d.ab||!1}x(ts,Ps),ts.prototype.g=function(){return new xn(this.i,this.h)};function xn(d,_){mt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(xn,mt),t=xn.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Zn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function fu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Fs(this):Zn(this),this.readyState==3&&fu(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Fs(this))},t.Na=function(d){this.g&&(this.response=d,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Zn(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=_.next();return d.join(`\r
`)};function Zn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function pu(d){let _="";return ee(d,function(N,R){_+=R,_+=":",_+=N,_+=`\r
`}),_}function Oi(d,_,N){e:{for(R in N){var R=!1;break e}R=!0}R||(N=pu(N),typeof d=="string"?N!=null&&vr(N):Qe(d,_,N))}function Je(d){mt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,mt);var mu=/^https?$/i,hf=["POST","PUT"];t=Je.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,N,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():iu.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){$s(this,Z);return}if(d=N||"",N=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)N.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())N.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(N.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(hf,_,void 0)>=0)||R||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of N)this.g.setRequestHeader(Z,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){$s(this,Z)}};function $s(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,zs(d),rs(d)}function zs(d){d.A||(d.A=!0,ht(d,"complete"),ht(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ht(this,"complete"),ht(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ns(this):this.Xa())},t.Xa=function(){ns(this)};function ns(d){if(d.h&&typeof l<"u"){if(d.v&&Sr(d)==4)setTimeout(d.Ca.bind(d),0);else if(ht(d,"readystatechange"),Sr(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var R;if(R=Z===0){let de=String(d.D).match(hu)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),R=!mu.test(de?de.toLowerCase():"")}N=R}if(N)ht(d,"complete"),ht(d,"success");else{d.o=6;try{var Y=Sr(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",zs(d)}}finally{rs(d)}}}}function rs(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const N=d.g;d.g=null,_||ht(d,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Sr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),tu(_)}};function gu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function bl(d){const _={};d=(d.g&&Sr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(P(d[R]))continue;var N=Ii(d[R]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Z=_[Y]||[];_[Y]=Z,Z.push(N)}ae(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(d,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||_}function Li(d){this.za=0,this.i=[],this.j=new Ds,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nr("baseRetryDelayMs",5e3,d),this.Za=Nr("retryDelaySeedMs",1e4,d),this.Ta=Nr("forwardChannelMaxRetries",2,d),this.va=Nr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ai(d&&d.concurrentRequestLimit),this.Ba=new Do,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Li.prototype,t.ka=8,t.I=1,t.connect=function(d,_,N,R){ut(0),this.W=d,this.H=_||{},N&&R!==void 0&&(this.H.OSID=N,this.H.OAID=R),this.F=this.X,this.J=_l(this,null,this.W),ss(this)};function Vi(d){if(Fi(d),d.I==3){var _=d.V++,N=On(d.J);if(Qe(N,"SID",d.M),Qe(N,"RID",_),Qe(N,"TYPE","terminate"),Cr(d,N),_=new Dn(d,d.j,_),_.M=2,_.A=es(On(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=_.A,N=!0),N||(_.g=yu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),jo(_)}Vo(d)}function bn(d){d.g&&(Lo(d),d.g.cancel(),d.g=null)}function Fi(d){bn(d),d.v&&(u.clearTimeout(d.v),d.v=null),$i(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ss(d){if(!ul(d.h)&&!d.m){d.m=!0;var _=d.Ea;L||j(),K||(L(),K=!0),I.add(_,d),d.D=0}}function vu(d,_){return To(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ms(m(d.Ea,d,_),Ui(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new Dn(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=G(Z),me(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var R=this.i[N];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=wl(this,Y,_),N=On(this.J),Qe(N,"RID",d),Qe(N,"CVER",22),this.G&&Qe(N,"X-HTTP-Session-Id",this.G),Cr(this,N),Z&&(this.R?_="headers="+vr(pu(Z))+"&"+_:this.u&&Oi(N,this.u,Z)),Ri(this.h,Y),this.Ra&&Qe(N,"TYPE","init"),this.S?(Qe(N,"$req",_),Qe(N,"SID","null"),Y.U=!0,Jn(Y,N,null)):Jn(Y,N,_),this.I=2}}else this.I==3&&(d?Oo(this,d):this.i.length==0||ul(this.h)||Oo(this))};function Oo(d,_){var N;_?N=_.l:N=d.V++;const R=On(d.J);Qe(R,"SID",d.M),Qe(R,"RID",N),Qe(R,"AID",d.K),Cr(d,R),d.u&&d.o&&Oi(R,d.u,d.o),N=new Dn(d,d.j,N,d.D+1),d.u===null&&(N.J=d.o),_&&(d.i=_.G.concat(d.i)),_=wl(d,N,1e3),N.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ri(d.h,N),Jn(N,R,_)}function Cr(d,_){d.H&&ee(d.H,function(N,R){Qe(_,R,N)}),d.l&&ee({},function(N,R){Qe(_,R,N)})}function wl(d,_,N){N=Math.min(d.i.length,N);const R=d.l?m(d.l.Ka,d.l,d):null;e:{var Y=d.i;let De=-1;for(;;){const ft=["count="+N];De==-1?N>0?(De=Y[0].g,ft.push("ofs="+De)):De=0:ft.push("ofs="+De);let Ye=!0;for(let gt=0;gt<N;gt++){var Z=Y[gt].g;const _n=Y[gt].map;if(Z-=De,Z<0)De=Math.max(0,Y[gt].g-100),Ye=!1;else try{Z="req"+Z+"_"||"";try{var de=_n instanceof Map?_n:Object.entries(_n);for(const[os,kr]of de){let Tr=kr;f(kr)&&(Tr=Is(kr)),ft.push(Z+os+"="+encodeURIComponent(Tr))}}catch(os){throw ft.push(Z+"type="+encodeURIComponent("_badmap")),os}}catch{R&&R(_n)}}if(Ye){de=ft.join("&");break e}}de=void 0}return d=d.i.splice(0,N),_.G=d,de}function Ht(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;L||j(),K||(L(),K=!0),I.add(_,d),d.A=0}}function jr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ms(m(d.Da,d),Ui(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Us(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ms(m(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),bn(this),Us(this))};function Lo(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Us(d){d.g=new Dn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=On(d.na);Qe(_,"RID","rpc"),Qe(_,"SID",d.M),Qe(_,"AID",d.K),Qe(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Qe(_,"TO",d.ia),Qe(_,"TYPE","xmlhttp"),Cr(d,_),d.u&&d.o&&Oi(_,d.u,d.o),d.O&&(d.g.H=d.O);var N=d.g;d=d.ba,N.M=1,N.A=es(On(_)),N.u=null,N.R=!0,ll(N,d)}t.Va=function(){this.C!=null&&(this.C=null,bn(this),jr(this),ut(19))};function $i(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function zi(d,_){var N=null;if(d.g==_){$i(d),Lo(d),d.g=null;var R=2}else if(dl(d.h,_))N=_.G,Io(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){N=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;R=Rs(),ht(R,new il(R,N)),ss(d)}else Ht(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(R==1&&vu(d,_)||R==2&&jr(d)))switch(N&&N.length>0&&(_=d.h,_.i=_.i.concat(N)),Y){case 1:wn(d,5);break;case 4:wn(d,10);break;case 3:wn(d,6);break;default:wn(d,2)}}}function Ui(d,_){let N=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(N*=2),N*_}function wn(d,_){if(d.j.info("Error code "+_),_==2){var N=m(d.bb,d),R=d.Ua;const Y=!R;R=new yr(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Po(R,"https"),es(R),Y?_r(R.toString(),N):Er(R.toString(),N)}else ut(2);d.I=0,d.l&&d.l.pa(_),Vo(d),Fi(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Vo(d){if(d.I=0,d.ja=[],d.l){const _=vn(d.h);(_.length!=0||d.i.length!=0)&&(S(d.ja,_),S(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function _l(d,_,N){var R=N instanceof yr?On(N):new yr(N);if(R.g!="")_&&(R.g=_+"."+R.g),xr(R,R.u);else{var Y=u.location;R=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new yr(null);R&&Po(Z,R),_&&(Z.g=_),Y&&xr(Z,Y),N&&(Z.h=N),R=Z}return N=d.G,_=d.wa,N&&_&&Qe(R,N,_),Qe(R,"VER",d.ka),Cr(d,R),R}function yu(d,_,N){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new Je(new ts({ab:N})):new Je(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}t=xu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bi(){}Bi.prototype.g=function(d,_){return new Dt(d,_)};function Dt(d,_){mt.call(this),this.g=new Li(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!P(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Bs(this)}x(Dt,mt),Dt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Vi(this.g)},Dt.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.v&&(N={},N.__data__=Is(d),d=N);_.i.push(new uf(_.Ya++,d)),_.I==3&&ss(_)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Vi(this.g),delete this.g,Dt.Z.N.call(this)};function bu(d){ji.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const N in _){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}x(bu,ji);function wu(){ol.call(this),this.status=1}x(wu,ol);function Bs(d){this.g=d}x(Bs,xu),Bs.prototype.ra=function(){ht(this.g,"a")},Bs.prototype.qa=function(d){ht(this.g,new bu(d))},Bs.prototype.pa=function(d){ht(this.g,new wu)},Bs.prototype.oa=function(){ht(this.g,"b")},Bi.prototype.createWebChannel=Bi.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,J_=function(){return new Bi},X_=function(){return Rs()},Y_=Xn,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Od=Os,Ls.COMPLETE="complete",Q_=Ls,nu.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",mt.prototype.listen=mt.prototype.J,tc=nu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,q_=Je}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const xb="@firebase/firestore",bb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Hg("@firebase/firestore");function ga(){return mi.logLevel}function Ne(t,...e){if(mi.logLevel<=$e.DEBUG){const n=e.map(Kg);mi.debug(`Firestore (${Xa}): ${t}`,...n)}}function zc(t,...e){if(mi.logLevel<=$e.ERROR){const n=e.map(Kg);mi.error(`Firestore (${Xa}): ${t}`,...n)}}function $h(t,...e){if(mi.logLevel<=$e.WARN){const n=e.map(Kg);mi.warn(`Firestore (${Xa}): ${t}`,...n)}}function Kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Z_(t,r,n)}function Z_(t,e,n){let r=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zc(r),new Error(r)}function tn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Z_(e,i,r)}function Bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class w4{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wa,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},f=p=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wa)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string",31837,{l:r}),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class _4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tn(this.o===void 0,3512);const r=l=>{l.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=N4(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<n&&(r+=e.charAt(i[l]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Wm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),l=e.charAt(r);if(i!==l)return Xp(i)===Xp(l)?Xe(i,l):Xp(i)?1:-1}return Xe(t.length,e.length)}const C4=55296,j4=57343;function Xp(t){const e=t.charCodeAt(0);return e>=C4&&e<=j4}function Ra(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&We(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const l=Or.compareSegments(e.get(i),n.get(i));if(l!==0)return l}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Or.isNumericId(e),i=Or.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Or.extractNumericId(e).compare(Or.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wg.fromString(e.substring(4,e.length-2))}}class Pt extends Or{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const k4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Or{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return k4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new en([_b])}static fromServerFormat(e){const n=[];let r="",i=0;const l=()=>{if(r.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else f==="`"?(u=!u,i++):f!=="."||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Pt.fromString(e))}static fromName(e){return new ze(Pt.fromString(e).popFirst(5))}static empty(){return new ze(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Pt(e.slice()))}}function T4(t,e,n,r){if(e===!0&&r===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We(12329,{type:typeof t})}function qg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P4(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!I4(t))throw new Ae(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Ae(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,Sb=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Sb);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Eb)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sb}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:wt("string",Nt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new Nt(0,0))}static max(){return new at(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;function A4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new xo(i,ze.empty(),e)}function R4(t){return new xo(t.readTime,t.key,wc)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(at.min(),ze.empty(),wc)}static max(){return new xo(at.max(),ze.empty(),wc)}}function M4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==D4)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let i=0,l=0,u=!1;e.forEach((f=>{++i,f.next((()=>{++l,u&&l===i&&n()}),(p=>r(p)))})),u=!0,l===i&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((i=>i?re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,l)=>{r.push(n.call(this,i,l))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,i)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next((y=>{u[m]=y,++f,f===l&&r(u)}),(y=>i(y)))}}))}static doWhile(e,n){return new re(((r,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):r()};l()}))}}function V4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=-1;function Yg(t){return t==null}function Km(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="";function $4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nb(e)),e=z4(t.get(n),e);return Nb(e)}function z4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const l=t.charAt(i);switch(l){case"\0":n+="";break;case nE:n+="";break;default:n+=l}}return n}function Nb(t){return t+nE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,l){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,l){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,r),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,n,r,i,l){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new ho([])}unionWith(e){let n=new Ut(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ho(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new B4("Invalid base64 string: "+l):l}})(e);return new Wr(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new Wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(tn(!!t,39018),typeof t=="string"){let e=0;const n=H4.exec(t);if(tn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",sE="__type__",oE="__previous_value__",iE="__local_write_time__";function Xg(t){return(t?.mapValue?.fields||{})[sE]?.stringValue===rE}function Jg(t){const e=t.mapValue.fields[oE];return Xg(e)?Jg(e):e}function th(t){const e=gi(t.mapValue.fields[iE].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,i,l,u,f,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const nh="(default)";class rh{constructor(e,n){this.projectId=e,this.database=n||nh}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__type__",K4="__max__",Sd={mapValue:{}},q4="__vector__",kb="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:Y4(t)?9007199254740991:Q4(t)?10:11:We(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return th(t).isEqual(th(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=gi(i.timestampValue),f=gi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return Ma(i.bytesValue).isEqual(Ma(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return $t(i.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return $t(i.integerValue)===$t(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=$t(i.doubleValue),f=$t(l.doubleValue);return u===f?Km(u)===Km(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},f=l.mapValue.fields||{};if(Cb(u)!==Cb(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Kr(u[p],f[p])))return!1;return!0})(t,e);default:return We(52216,{left:t})}}function _c(t,e){return(t.values||[]).find((n=>Kr(n,e)))!==void 0}function Da(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=$t(l.integerValue||l.doubleValue),p=$t(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return Tb(t.timestampValue,e.timestampValue);case 4:return Tb(th(t),th(e));case 5:return Wm(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Ma(l),p=Ma(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=Xe(f[m],p[m]);if(y!==0)return y}return Xe(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Xe($t(l.latitude),$t(u.latitude));return f!==0?f:Xe($t(l.longitude),$t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ib(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},m=f[kb]?.arrayValue,y=p[kb]?.arrayValue,x=Xe(m?.values?.length||0,y?.values?.length||0);return x!==0?x:Ib(m,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Sd.mapValue&&u===Sd.mapValue)return 0;if(l===Sd.mapValue)return 1;if(u===Sd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let x=0;x<p.length&&x<y.length;++x){const v=Wm(p[x],y[x]);if(v!==0)return v;const E=Da(f[p[x]],m[y[x]]);if(E!==0)return E}return Xe(p.length,y.length)})(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function Tb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=gi(t),r=gi(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function Ib(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const l=Da(n[i],r[i]);if(l)return l}return Xe(n.length,r.length)}function Oa(t){return qm(t)}function qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ma(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const l of n.values||[])i?i=!1:r+=",",r+=qm(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const u of r)l?l=!1:i+=",",i+=`${u}:${qm(n.fields[u])}`;return i+"}"})(t.mapValue):We(61005,{value:t})}function Ld(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jg(t);return e?16+Ld(e):16;case 5:return 2*t.stringValue.length;case 6:return Ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+Ld(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Uh(r.fields,((l,u)=>{i+=l.length+Ld(u)})),i})(t.mapValue);default:throw We(13486,{value:t})}}function Qm(t){return!!t&&"integerValue"in t}function Zg(t){return!!t&&"arrayValue"in t}function Jp(t){return!!t&&"mapValue"in t}function Q4(t){return(t?.mapValue?.fields||{})[W4]?.stringValue===q4}function ic(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Uh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return{...t}}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=f.popLast()}u?r[f.lastSegment()]=ic(u):i.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,i)}delete(e){const n=this.field(e.popLast());Jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uh(n,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new gs(ic(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,i,l,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ir(e,0,at.min(),at.min(),at.min(),gs.empty(),0)}static newFoundDocument(e,n,r,i){return new ir(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new ir(e,2,n,at.min(),at.min(),gs.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,at.min(),at.min(),gs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function Pb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const l=e[i],u=t.position[i];if(l.field.isKeyField()?r=ze.comparator(ze.fromName(u.referenceValue),n.key):r=Da(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ab(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function X4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class At extends aE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z4(e,n,r):n==="array-contains"?new nM(e,r):n==="in"?new rM(e,r):n==="not-in"?new sM(e,r):n==="array-contains-any"?new oM(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eM(e,r):new tM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Da(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bo extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bo(e,n)}matches(e){return lE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(t){return t.op==="and"}function cE(t){return J4(t)&&lE(t)}function J4(t){for(const e of t.filters)if(e instanceof bo)return!1;return!0}function Ym(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(cE(t))return t.filters.map((e=>Ym(e))).join(",");{const e=t.filters.map((n=>Ym(n))).join(",");return`${t.op}(${e})`}}function uE(t,e){return t instanceof At?(function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)})(t,e):t instanceof bo?(function(r,i){return i instanceof bo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,u,f)=>l&&uE(u,i.filters[f])),!0):!1})(t,e):void We(19439)}function dE(t){return t instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`})(t):t instanceof bo?(function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"})(t):"Filter"}class Z4 extends At{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class eM extends At{constructor(e,n){super(e,"in",n),this.keys=hE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tM extends At{constructor(e,n){super(e,"not-in",n),this.keys=hE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hE(t,e){return(e.arrayValue?.values||[]).map((n=>ze.fromName(n.referenceValue)))}class nM extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zg(n)&&_c(n.arrayValue,this.value)}}class rM extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class sM extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class oM extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Rb(t,e=null,n=[],r=[],i=null,l=null,u=null){return new iM(t,e,n,r,i,l,u)}function ev(t){const e=Bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ym(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Oa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Oa(r))).join(",")),e.Te=n}return e.Te}function tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ab(t.startAt,e.startAt)&&Ab(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,r=[],i=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aM(t,e,n,r,i,l,u,f){return new Bh(t,e,n,r,i,l,u,f)}function lM(t){return new Bh(t)}function Mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return t.collectionGroup!==null}function ac(t){const e=Bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ut(en.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new oh(l,r))})),n.has(en.keyField().canonicalString())||e.Ie.push(new oh(en.keyField(),r))}return e.Ie}function ri(t){const e=Bt(t);return e.Ee||(e.Ee=uM(e,ac(t))),e.Ee}function uM(t,e){if(t.limitType==="F")return Rb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new oh(i.field,l)}));const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return Rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e,n){return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fE(t,e){return tv(ri(t),ri(e))&&t.limitType===e.limitType}function pE(t){return`${ev(ri(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dE(i))).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Oa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Oa(i))).join(",")),`Target(${r})`})(ri(t))}; limitType=${t.limitType})`}function nv(t,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ze.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,i){for(const l of ac(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(u,f,p){const m=Pb(u,f,p);return u.inclusive?m<=0:m<0})(r.startAt,ac(r),i)||r.endAt&&!(function(u,f,p){const m=Pb(u,f,p);return u.inclusive?m>=0:m>0})(r.endAt,ac(r),i))})(t,e)}function dM(t){return(e,n)=>{let r=!1;for(const i of ac(t)){const l=hM(i,e,n);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function hM(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Da(p,m):We(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uh(this.inner,((n,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return U4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new qn(ze.comparator);function Jm(){return fM}const mE=new qn(ze.comparator);function Nd(...t){let e=mE;for(const n of t)e=e.insert(n.key,n);return e}function pM(t){let e=mE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ti(){return lc()}function gE(){return lc()}function lc(){return new wi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mM=new Ut(ze.comparator);function jn(...t){let e=mM;for(const n of t)e=e.add(n);return e}const gM=new Ut(Xe);function vM(){return gM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function xM(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function bM(t,e,n){return t instanceof Zm?(function(i,l){const u={fields:{[sE]:{stringValue:rE},[iE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Xg(l)&&(l=Jg(l)),l&&(u.fields[oE]=l),{mapValue:u}})(n,e):t instanceof ih?vE(t,e):t instanceof ah?yE(t,e):(function(i,l){const u=_M(i,l),f=Db(u)+Db(i.Ae);return Qm(u)&&Qm(i.Ae)?xM(f):yM(i.serializer,f)})(t,e)}function wM(t,e,n){return t instanceof ih?vE(t,e):t instanceof ah?yE(t,e):n}function _M(t,e){return t instanceof eg?(function(r){return Qm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Zm extends Hh{}class ih extends Hh{constructor(e){super(),this.elements=e}}function vE(t,e){const n=xE(e);for(const r of t.elements)n.some((i=>Kr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ah extends Hh{constructor(e){super(),this.elements=e}}function yE(t,e){let n=xE(e);for(const r of t.elements)n=n.filter((i=>!Kr(i,r)));return{arrayValue:{values:n}}}class eg extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Db(t){return $t(t.integerValue||t.doubleValue)}function xE(t){return Zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ih&&i instanceof ih||r instanceof ah&&i instanceof ah?Ra(r.elements,i.elements,Kr):r instanceof eg&&i instanceof eg?Kr(r.Ae,i.Ae):r instanceof Zm&&i instanceof Zm})(t.transform,e.transform)}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rv{}function bE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NM(t.key,si.none()):new sv(t.key,t.data,si.none());{const n=t.data,r=gs.empty();let i=new Ut(en.comparator);for(let l of e.fields)if(!i.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),i=i.add(l)}return new Gh(t.key,r,new ho(i.toArray()),si.none())}}function SM(t,e,n){t instanceof sv?(function(i,l,u){const f=i.value.clone(),p=Lb(i.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Gh?(function(i,l,u){if(!Vd(i.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Lb(i.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(wE(i)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function cc(t,e,n,r){return t instanceof sv?(function(l,u,f,p){if(!Vd(l.precondition,u))return f;const m=l.value.clone(),y=Vb(l.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gh?(function(l,u,f,p){if(!Vd(l.precondition,u))return f;const m=Vb(l.fieldTransforms,p,u),y=u.data;return y.setAll(wE(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(l,u,f){return Vd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function Ob(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ra(r,i,((l,u)=>EM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sv extends rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gh extends rv{constructor(e,n,r,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Lb(t,e,n){const r=new Map;tn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const l=t[i],u=l.transform,f=e.data.field(l.field);r.set(l.field,wM(u,f,n[i]))}return r}function Vb(t,e,n){const r=new Map;for(const i of t){const l=i.transform,u=n.data.field(i.field);r.set(i.field,bM(l,u,e))}return r}class NM extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&SM(l,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gE();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(i.key)?null:f;const p=bE(u,f);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(at.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),jn())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,((n,r)=>Ob(n,r)))&&Ra(this.baseMutations,e.baseMutations,((n,r)=>Ob(n,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,He;function kM(t){if(t===void 0)return zc("GRPC error has no .code"),fe.UNKNOWN;switch(t){case yt.OK:return fe.OK;case yt.CANCELLED:return fe.CANCELLED;case yt.UNKNOWN:return fe.UNKNOWN;case yt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case yt.INTERNAL:return fe.INTERNAL;case yt.UNAVAILABLE:return fe.UNAVAILABLE;case yt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case yt.NOT_FOUND:return fe.NOT_FOUND;case yt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case yt.ABORTED:return fe.ABORTED;case yt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case yt.DATA_LOSS:return fe.DATA_LOSS;default:return We(39323,{code:t})}}(He=yt||(yt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wg([4294967295,4294967295],0);class TM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fb(t){return tn(!!t,49232),at.fromTimestamp((function(n){const r=gi(n);return new Nt(r.seconds,r.nanos)})(t))}function $b(t,e){const n=(function(i){return new Pt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function IM(t){const e=Pt.fromString(t);return tn(MM(e),10190,{key:e.toString()}),e}function PM(t){const e=IM(t);return e.length===4?Pt.emptyPath():AM(e)}function AM(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RM(t){let e=PM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tn(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(x){const v=_E(x);return v instanceof bo&&cE(v)?v.getFilters():[v]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((v=>(function(S){return new oh(va(S.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let f=null;n.limit&&(f=(function(x){let v;return v=typeof x=="object"?x.value:x,Yg(v)?null:v})(n.limit));let p=null;n.startAt&&(p=(function(x){const v=!!x.before,E=x.values||[];return new sh(E,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const v=!x.before,E=x.values||[];return new sh(E,v)})(n.endAt)),aM(e,i,u,l,f,"F",p,m)}function _E(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=va(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=va(n.unaryFilter.field);return At.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=va(n.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(t):t.fieldFilter!==void 0?(function(n){return At.create(va(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return bo.create(n.compositeFilter.filters.map((r=>_E(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(n.compositeFilter.op))})(t):We(30097,{filter:t})}function va(t){return en.fromServerFormat(t.fieldPath)}function MM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.yt=e}}function OM(t){const e=RM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.Cn=new VM}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(xo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class VM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(Pt.comparator),l=!i.has(r);return this.index[n]=i.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(EE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="LruGarbageCollector",FM=1048576;function Bb([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class $M{constructor(e){this.Ir=e,this.buffer=new Ut(Bb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Bb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(Ub,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zh(n)?Ne(Ub,"Ignoring IndexedDB error during garbage collection: ",n):await L4(n)}await this.Vr(3e5)}))}}class UM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Qg.ce);const r=new $M(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(zb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,l,u,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,f=Date.now(),this.removeTargets(e,r,n)))).next((x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(m=Date.now(),ga()<=$e.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${x} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x}))))}}function BM(t,e){return new UM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.changes=new wi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&cc(r.mutation,i,ho.empty(),Nt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,jn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=jn()){const i=ti();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((l=>{let u=Nd();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,jn())))}populateOverlays(e,n,r){const i=[];return r.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,r,i){let l=Jm();const u=lc(),f=(function(){return lc()})();return n.forEach(((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Gh)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),cc(y.mutation,m,y.mutation.getFieldMask(),Nt.now())):u.set(m.key,ho.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>f.set(m,new GM(y,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const r=lc();let i=new qn(((u,f)=>u-f)),l=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||ho.empty();y=f.applyToLocalView(m,y),r.set(p,y);const x=(i.get(f.batchId)||jn()).add(p);i=i.insert(f.batchId,x)}))})).next((()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,x=gE();y.forEach((v=>{if(!l.has(v)){const E=bE(n.get(v),r.get(v));E!==null&&x.set(v,E),l=l.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(u){return ze.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-l.size):re.resolve(ti());let f=wc,p=l;return u.next((m=>re.forEach(m,((y,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((v=>{p=p.insert(y,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,jn()))).next((y=>({batchId:f,changes:pM(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next((r=>{let i=Nd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const l=n.collectionGroup;let u=Nd();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(p=>{const m=(function(x,v){return new Bh(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((y=>{y.forEach(((x,v)=>{u=u.insert(x,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,i)))).next((u=>{l.forEach(((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,ir.newInvalidDocument(y)))}));let f=Nd();return u.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&cc(y.mutation,m,ho.empty(),Nt.now()),nv(n,m)&&(f=f.insert(p,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fb(i.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:OM(i.bundledQuery),readTime:Fb(i.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.overlays=new qn(ze.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return re.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=ti(),l=n.length+1,u=new ze(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&i.set(p.getKey(),p)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let l=new qn(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=ti(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=ti(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>f.set(m,y))),!(f.size()>=i)););return re.resolve(f)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jM(n,r));let l=this.qr.get(n);l===void 0&&(l=jn(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Qr=new Ut(It.$r),this.Ur=new Ut(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ze(new Pt([])),r=new It(n,e),i=new It(n,e+1),l=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ze(new Pt([])),r=new It(n,e),i=new It(n,e+1);let l=jn();return this.Ur.forEachInRange([r,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ze.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(It.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new CM(l,n,r,i);this.mutationQueue.push(u);for(const f of i)this.Zr=this.Zr.add(new It(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),l=i<0?0:i;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?F4:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,i],(u=>{const f=this.Xr(u.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Xe);return n.forEach((i=>{const l=new It(i,0),u=new It(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{r=r.add(f.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let l=r;ze.isDocumentKey(l)||(l=l.child(""));const u=new It(new ze(l),0);let f=new Ut(Xe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(f=f.add(p.Yr)),!0)}),u),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){tn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(i=>{const l=new It(i.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new It(n,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.ri=e,this.docs=(function(){return new qn(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),l=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=Jm();return n.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():ir.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let l=Jm();const u=n.path,f=new ze(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||M4(R4(y),r)<=0||(i.has(y.key)||nv(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,i){We(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JM(this)}getSize(e){return re.resolve(this.size)}}class JM extends HM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.persistence=e,this.si=new wi((n=>ev(n)),tv),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new ov,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new La(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),re.waitFor(l).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qg(0),this.li=!1,this.li=!0,this.hi=new QM,this.referenceDelegate=e(this),this.Pi=new ZM(this),this.indexManager=new LM,this.remoteDocumentCache=(function(i){return new XM(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DM(n),this.Ii=new KM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new eD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((l=>this.referenceDelegate.di(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class eD extends O4{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ri=new ov,this.Vi=null}static mi(e){return new iv(e)}get fi(){if(this.Vi)return this.Vi;throw We(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=ze.fromPath(r);return this.gi(e,i).next((l=>{l||n.removeEntry(i,at.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.pi=new wi((r=>$4(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=BM(this,n)}static mi(e,n){return new lh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((l=>l?re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((f=>{f||(r++,l.removeEntry(u,at.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ld(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=jn(),i=jn();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new av(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JA()?8:V4(Xt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,i,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new tD;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ga()<=$e.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(ga()<=$e.DEBUG&&Ne("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ga()<=$e.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):re.resolve())}ys(e,n){if(Mb(n))return re.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Xm(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=jn(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(n,f);return this.Cs(n,m,u,p.readTime)?this.ys(e,Xm(n,null,"F")):this.vs(e,m,n,p)}))))})))))}ws(e,n,r,i){return Mb(n)||i.isEqual(at.min())?re.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,i)?re.resolve(null):(ga()<=$e.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(n)),this.vs(e,u,n,A4(i,wc)).next((f=>f)))}))}Ds(e,n){let r=new Ut(dM(e));return n.forEach(((i,l)=>{nv(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ss(e,n,r){return ga()<=$e.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.ps.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="LocalStore";class sD{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new qn(Xe),this.xs=new wi((l=>ev(l)),tv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oD(t,e,n,r){return new sD(t,e,n,r)}async function NE(t,e){const n=Bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],f=[];let p=jn();for(const m of i){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:f})))}))}))}class Hb{constructor(){this.activeTargetIds=vM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.Mo=new Hb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="ConnectivityMonitor";class Wb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(Gb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(Gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function tg(){return Cd===null?Cd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,l){const u=tg(),f=this.zo(e,n.toUriEncodedString());Ne(Zp,`Sending RPC '${e}' ${u}:`,f,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,l);const{host:m}=new URL(f),y=qa(m);return this.Jo(e,f,p,r,y).then((x=>(Ne(Zp,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw $h(Zp,`RPC '${e}' ${u} failed with error: `,x,"url: ",f,"request:",r),x}))}Ho(e,n,r,i,l,u){return this.Go(e,n,r,i,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}zo(e,n){const r=lD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class dD extends cD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,l){const u=tg();return new Promise(((f,p)=>{const m=new q_;m.setWithCredentials(!0),m.listenOnce(Q_.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Od.NO_ERROR:const x=m.getResponseJson();Ne(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),f(x);break;case Od.TIMEOUT:Ne(Qt,`RPC '${e}' ${u} timed out`),p(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const v=m.getStatus();if(Ne(Qt,`RPC '${e}' ${u} failed with status:`,v,"response text:",m.getResponseText()),v>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const C=(function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf($)>=0?$:fe.UNKNOWN})(S.status);p(new Ae(C,S.message))}else p(new Ae(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ne(Qt,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(i);Ne(Qt,`RPC '${e}' ${u} sending request:`,i),m.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=tg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=J_(),f=X_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=l.join("");Ne(Qt,`Creating RPC '${e}' stream ${i}: ${y}`,p);const x=u.createWebChannel(y,p);this.I_(x);let v=!1,E=!1;const S=new uD({Yo:k=>{E?Ne(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(Ne(Qt,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),Ne(Qt,`RPC '${e}' stream ${i} sending:`,k),x.send(k))},Zo:()=>x.close()}),C=(k,V,$)=>{k.listen(V,(F=>{try{$(F)}catch(U){setTimeout((()=>{throw U}),0)}}))};return C(x,tc.EventType.OPEN,(()=>{E||(Ne(Qt,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),C(x,tc.EventType.CLOSE,(()=>{E||(E=!0,Ne(Qt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(x))})),C(x,tc.EventType.ERROR,(k=>{E||(E=!0,$h(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.a_(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))})),C(x,tc.EventType.MESSAGE,(k=>{if(!E){const V=k.data[0];tn(!!V,16349);const $=V,F=$?.error||$[0]?.error;if(F){Ne(Qt,`RPC '${e}' stream ${i} received error:`,F);const U=F.status;let L=(function(j){const A=yt[j];if(A!==void 0)return kM(A)})(U),K=F.message;L===void 0&&(L=fe.INTERNAL,K="Unknown error status: "+U+" with message "+F.message),E=!0,S.a_(new Ae(L,K)),x.close()}else Ne(Qt,`RPC '${e}' stream ${i} received:`,V),S.u_(V)}})),C(f,Y_.STAT_EVENT,(k=>{k.stat===Gm.PROXY?Ne(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Gm.NOPROXY&&Ne(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return new TM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r=1e3,i=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{}class pD extends fD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,$b(n,r),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(fe.UNKNOWN,l.toString())}))}Ho(e,n,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,$b(n,r),i,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(fe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zc(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="RemoteStore";class gD{constructor(e,n,r,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{cv(this)&&(Ne(lv,"Restarting streams for network reachability change."),await(async function(p){const m=Bt(p);m.Ea.add(4),await Bc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Wh(m)})(this))}))})),this.Ra=new mD(r,i)}}async function Wh(t){if(cv(t))for(const e of t.da)await e(!0)}async function Bc(t){for(const e of t.da)await e(!1)}function cv(t){return Bt(t).Ea.size===0}async function Kb(t,e){const n=Bt(t);n.asyncQueue.verifyOperationInProgress(),Ne(lv,"RemoteStore received new credentials");const r=cv(n);n.Ea.add(3),await Bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function vD(t,e){const n=Bt(t);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,l){const u=Date.now()+r,f=new uv(e,n,u,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yD(t,e){if(zc("AsyncQueue",`${e}: ${t}`),zh(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class xD{constructor(){this.queries=qb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Bt(n),l=i.queries;i.queries=qb(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(r)}))})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function qb(){return new wi((t=>pE(t)),fE)}function bD(t){t.Ca.forEach((e=>{e.next()}))}var Qb,Yb;(Yb=Qb||(Qb={})).Ma="default",Yb.Cache="cache";const wD="SyncEngine";class _D{constructor(e,n,r,i,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wi((f=>pE(f)),fE),this.Iu=new Map,this.Eu=new Set,this.du=new qn(ze.comparator),this.Au=new Map,this.Ru=new ov,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function Xb(t,e,n){const r=Bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(u,f){const p=Bt(u);p.onlineState=f;let m=!1;p.queries.forEach(((y,x)=>{for(const v of x.Sa)v.va(f)&&(m=!0)})),m&&bD(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ED(t,e,n){const r=Bt(t),i=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,p)=>{u.push(r.pu(p,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){i.push(m);const y=av.As(p.targetId,m);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(p,m){const y=Bt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>re.forEach(m,(v=>re.forEach(v.Es,(E=>y.persistence.referenceDelegate.addReference(x,v.targetId,E))).next((()=>re.forEach(v.ds,(E=>y.persistence.referenceDelegate.removeReference(x,v.targetId,E)))))))))}catch(x){if(!zh(x))throw x;Ne(rD,"Failed to update sequence numbers: "+x)}for(const x of m){const v=x.targetId;if(!x.fromCache){const E=y.Ms.get(v),S=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(S);y.Ms=y.Ms.insert(v,C)}}})(r.localStore,l))}async function SD(t,e){const n=Bt(t);if(!n.currentUser.isEqual(e)){Ne(wD,"User change. New user:",e.toKey());const r=await NE(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Ae(fe.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ED(n,r.Ls)}}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=CE(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oD(this.persistence,new nD,e.initialUser,this.serializer)}Cu(e){return new SE(iv.mi,this.serializer)}Du(e){return new iD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class ND extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tn(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new SE((r=>lh.mi(r,n)),this.serializer)}}class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xD})()}createDatastore(e){const n=CE(e.databaseInfo.databaseId),r=(function(l){return new dD(l)})(e.databaseInfo);return(function(l,u,f,p){return new pD(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,l,u,f){return new gD(r,i,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xb(this.syncEngine,n,0)),(function(){return Wb.v()?new Wb:new aD})())}createSyncEngine(e,n){return(function(i,l,u,f,p,m,y){const x=new _D(i,l,u,f,p,m);return y&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Bt(n);Ne(lv,"RemoteStore shutting down."),r.Ea.add(5),await Bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class CD{constructor(e,n,r,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=tE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Ne(wo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ne(wo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await NE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Jb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jE(t);Ne(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Kb(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Kb(e.remoteStore,i))),t._onlineComponents=e}async function jE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(wo,"Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$h("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new ch)}}else Ne(wo,"Using default OfflineComponentProvider"),await tm(t,new ND(void 0));return t._offlineComponents}async function jD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(wo,"Using user provided OnlineComponentProvider"),await Jb(t,t._uninitializedComponentsProvider._online)):(Ne(wo,"Using default OnlineComponentProvider"),await Jb(t,new ng))),t._onlineComponents}function kE(t){return jE(t).then((e=>e.persistence))}function TE(t){return jD(t).then((e=>e.remoteStore))}function kD(t){return t.asyncQueue.enqueue((async()=>{const e=await kE(t),n=await TE(t);return e.setNetworkEnabled(!0),(function(i){const l=Bt(i);return l.Ea.delete(0),Wh(l)})(n)}))}function TD(t){return t.asyncQueue.enqueue((async()=>{const e=await kE(t),n=await TE(t);return e.setNetworkEnabled(!1),(async function(i){const l=Bt(i);l.Ea.add(0),await Bc(l),l.Ra.set("Offline")})(n)}))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firestore.googleapis.com",ew=!0;class tw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=ew}else this.host=e.host,this.ssl=e.ssl??ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FM)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class AE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new x4;switch(r.type){case"firstParty":return new E4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Zb.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),Zb.delete(n),r.terminate())})(this),Promise.resolve()}}function ID(t,e,n,r={}){t=qg(t,AE);const i=qa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;i&&(z_(`https://${f}`),U_("Firestore",!0)),l.host!==PE&&l.host!==f&&$h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:i,emulatorOptions:r};if(!fi(p,u)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Yt.MOCK_USER;else{m=BA(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(x)}t._authCredentials=new b4(new eE(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dv(this.firestore,e,this._query)}}class $r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}toJSON(){return{type:$r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uc(n,$r._jsonSchema))return new $r(e,r||null,new ze(Pt.fromString(n.referencePath)))}}$r._jsonSchemaVersion="firestore/documentReference/1.0",$r._jsonSchema={type:wt("string",$r._jsonSchemaVersion),referencePath:wt("string")};class hv extends dv{constructor(e,n,r){super(e,n,lM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new ze(e))}withConverter(e){return new hv(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="AsyncQueue";class rw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hD(this,"async_queue_retry"),this._c=()=>{const r=em();r&&Ne(nw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zh(e))throw e;Ne(nw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zc("INTERNAL UNHANDLED ERROR: ",sw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=uv.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&We(47125,{Pc:sw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fv extends AE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function Kh(t,e){const n=typeof t=="object"?t:G_(),r=typeof t=="string"?t:nh,i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=zA("firestore");l&&ID(i,...l)}return i}function RE(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PD(t),t._firestoreClient}function PD(t){const e=t._freezeSettings(),n=(function(i,l,u,f){return new G4(i,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,IE(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new CD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const l=i?._online.build();return{_offline:i?._offline.build(l),_online:l}})(t._componentsProvider))}function pv(t){return kD(RE(t=qg(t,fv)))}function Ec(t){return TD(RE(t=qg(t,fv)))}function AD(t){return s4(t.app,"firestore",t._databaseId.database),t._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Wr.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:wt("string",vs._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:wt("string",oi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new Ae(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:wt("string",ii._jsonSchemaVersion),vectorValues:wt("object")};const RD=new RegExp("[~\\*/\\[\\]]");function MD(t,e,n){if(e.search(RD)>=0)throw ow(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new ME(...e.split("."))._internalPath}catch{throw ow(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function ow(t,e,n,r,i){let l=`Function ${e}() called with invalid data`;l+=". ";let u="";return new Ae(fe.INVALID_ARGUMENT,l+t+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,i,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DD extends DE{data(){return super.data()}}function OE(t,e){return typeof e=="string"?MD(t,e):e instanceof ME?e._internalPath:e._delegate._internalPath}class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends DE{constructor(e,n,r,i,l,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:wt("string",_a._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Fd extends _a{data(e={}){return super.data(e)}}class uc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((f=>{const p=new Fd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new jd(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Fd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new jd(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:OD(f.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:wt("string",uc._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};(function(e,n=!0){(function(i){Xa=i})(Ya),Aa(new pi("firestore",((r,{instanceIdentifier:i,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new fv(new w4(r.getProvider("auth-internal")),new S4(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(m.options.projectId,y)})(u,i),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),mo(xb,bb,e),mo(xb,bb,"esm2020")})();const LD={apiKey:"demo-api-key",authDomain:"brandkit-ai-studio.firebaseapp.com",projectId:"brandkit-ai-studio",storageBucket:"brandkit-ai-studio.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},VD=Fh(LD),ai=Kh(VD);let Hn=!1;const nm=async()=>{if(typeof window>"u")return;const t=navigator.onLine;if(t&&Hn)try{await pv(ai),Hn=!1}catch{Hn=!0}else if(!t&&!Hn)try{await Ec(ai),Hn=!0}catch{Hn=!0}};typeof window<"u"&&(navigator.onLine?(Hn=!0,Ec(ai).catch(()=>{}),setTimeout(async()=>{try{await pv(ai),Hn=!1}catch{}},2e3)):(Hn=!0,Ec(ai).catch(t=>console.warn("Failed to initially disable network:",t))),window.addEventListener("online",nm),window.addEventListener("offline",nm),setInterval(()=>{nm()},3e4));const ha=()=>({isOffline:Hn,isOnline:typeof window<"u"?navigator.onLine:!0}),FD=async()=>{try{await Ec(ai),Hn=!0,console.log("Forced offline mode enabled")}catch(t){console.error("Failed to force offline mode:",t)}},$D=async()=>{try{await pv(ai),Hn=!1,console.log("Forced online mode enabled")}catch(t){console.error("Failed to force online mode:",t)}};let dc=!1,iw=!1;const zD=console.error,UD=console.warn;function BD(){if(iw)return;iw=!0;const t=[/firebase/i,/firestore/i,/webchannel/i,/transport errored/i,/listen stream/i,/rpc.*stream/i,/client is offline/i,/failed to get document/i,/unavailable.*code/i,/@firebase\/firestore/i,/grpc.*error/i,/network.*error/i,/connection.*failed/i,/timeout/i,/cancelled/i];console.error=(...e)=>{const n=e.join(" ").toLowerCase();t.some(i=>i.test(n))||zD.apply(console,e)},console.warn=(...e)=>{const n=e.join(" ").toLowerCase();t.some(i=>i.test(n))||UD.apply(console,e)}}async function aw(){if(!dc)try{const t=Kh();await Ec(t),await AD(t),dc=!0}catch{dc=!0}}function lw(){return dc}if(typeof window<"u"){BD(),navigator.onLine||aw(),window.addEventListener("offline",()=>{aw()});let t;window.addEventListener("online",()=>{clearTimeout(t),t=setTimeout(()=>{navigator.onLine&&(dc=!1)},5e3)})}function HD({className:t,showControls:e=!1}){const[n,r]=b.useState(ha()),[i,l]=b.useState(!1),[u,f]=b.useState(!1),[p,m]=b.useState(lw());b.useEffect(()=>{const E=setInterval(()=>{r(ha()),m(lw())},5e3),S=()=>r(ha()),C=()=>r(ha());return typeof window<"u"&&(window.addEventListener("online",S),window.addEventListener("offline",C)),()=>{clearInterval(E),typeof window<"u"&&(window.removeEventListener("online",S),window.removeEventListener("offline",C))}},[]);const y=async()=>{l(!0);try{await $D(),r(ha())}catch(E){console.error("Failed to force online mode:",E)}finally{l(!1)}},x=async()=>{l(!0);try{await FD(),r(ha())}catch(E){console.error("Failed to force offline mode:",E)}finally{l(!1)}},v=n.isOnline&&!n.isOffline&&!p;return!e&&v?null:a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xt,{variant:v?"default":"destructive",className:`flex items-center gap-1 ${v?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Gp,{className:"w-3 h-3"}),"Online"]}):a.jsxs(a.Fragment,{children:[a.jsx(sb,{className:"w-3 h-3"}),"Offline"]})}),e&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>f(!u),children:a.jsx(nb,{className:"w-3 h-3"})})]}),!v&&a.jsxs(ob,{className:"border-yellow-200 bg-yellow-50",children:[a.jsx(Ss,{className:"h-4 w-4 text-yellow-600"}),a.jsx(ib,{className:"text-yellow-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Modo offline activo - Funcionalidad limitada"}),a.jsxs(Ce,{variant:"outline",size:"sm",onClick:y,disabled:i,className:"ml-4",children:[i?a.jsx(Oh,{className:"w-3 h-3 animate-spin"}):a.jsx(Gp,{className:"w-3 h-3"}),"Reconectar"]})]})})]}),u&&e&&a.jsxs(ob,{className:"border-blue-200 bg-blue-50",children:[a.jsx(nb,{className:"h-4 w-4 text-blue-600"}),a.jsx(ib,{className:"text-blue-800",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Control de Red"}),a.jsxs("div",{className:"flex items-center gap-1",children:[v?a.jsx(bt,{className:"w-4 h-4 text-green-600"}):a.jsx(Ss,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs",children:v?"Conectado a Firebase":"Desconectado de Firebase"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ce,{variant:"outline",size:"sm",onClick:y,disabled:i||v,children:[a.jsx(Gp,{className:"w-3 h-3 mr-1"}),"Conectar"]}),a.jsxs(Ce,{variant:"outline",size:"sm",onClick:x,disabled:i||n.isOffline,children:[a.jsx(sb,{className:"w-3 h-3 mr-1"}),"Desconectar"]})]}),a.jsxs("div",{className:"text-xs text-blue-600",children:[a.jsx("p",{children:" Online: Todas las funciones disponibles"}),a.jsx("p",{children:" Offline: Usando datos en cach del BrandKit"})]})]})})]})]})}function mv(t){const e=t+"CollectionProvider",[n,r]=nn(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:k,children:V}=C,$=lt.useRef(null),F=lt.useRef(new Map).current;return a.jsx(i,{scope:k,itemMap:F,collectionRef:$,children:V})};u.displayName=e;const f=t+"CollectionSlot",p=ui(f),m=lt.forwardRef((C,k)=>{const{scope:V,children:$}=C,F=l(f,V),U=Ke(k,F.collectionRef);return a.jsx(p,{ref:U,children:$})});m.displayName=f;const y=t+"CollectionItemSlot",x="data-radix-collection-item",v=ui(y),E=lt.forwardRef((C,k)=>{const{scope:V,children:$,...F}=C,U=lt.useRef(null),L=Ke(k,U),K=l(y,V);return lt.useEffect(()=>(K.itemMap.set(U,{ref:U,...F}),()=>void K.itemMap.delete(U))),a.jsx(v,{[x]:"",ref:L,children:$})});E.displayName=y;function S(C){const k=l(t+"CollectionConsumer",C);return lt.useCallback(()=>{const $=k.collectionRef.current;if(!$)return[];const F=Array.from($.querySelectorAll(`[${x}]`));return Array.from(k.itemMap.values()).sort((K,I)=>F.indexOf(K.ref.current)-F.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:m,ItemSlot:E},S,r]}var GD=b.createContext(void 0);function Hc(t){const e=b.useContext(GD);return t||e||"ltr"}var rm=0;function gv(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cw()),document.body.insertAdjacentElement("beforeend",t[1]??cw()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rm--}},[])}function cw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sm="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",uw={bubbles:!1,cancelable:!0},WD="FocusScope",qh=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,p]=b.useState(null),m=zt(i),y=zt(l),x=b.useRef(null),v=Ke(e,C=>p(C)),E=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(F){if(E.paused||!f)return;const U=F.target;f.contains(U)?x.current=U:io(x.current,{select:!0})},k=function(F){if(E.paused||!f)return;const U=F.relatedTarget;U!==null&&(f.contains(U)||io(x.current,{select:!0}))},V=function(F){if(document.activeElement===document.body)for(const L of F)L.removedNodes.length>0&&io(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",k);const $=new MutationObserver(V);return f&&$.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",k),$.disconnect()}}},[r,f,E.paused]),b.useEffect(()=>{if(f){hw.add(E);const C=document.activeElement;if(!f.contains(C)){const V=new CustomEvent(sm,uw);f.addEventListener(sm,m),f.dispatchEvent(V),V.defaultPrevented||(KD(JD(LE(f)),{select:!0}),document.activeElement===C&&io(f))}return()=>{f.removeEventListener(sm,m),setTimeout(()=>{const V=new CustomEvent(om,uw);f.addEventListener(om,y),f.dispatchEvent(V),V.defaultPrevented||io(C??document.body,{select:!0}),f.removeEventListener(om,y),hw.remove(E)},0)}}},[f,m,y,E]);const S=b.useCallback(C=>{if(!n&&!r||E.paused)return;const k=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,V=document.activeElement;if(k&&V){const $=C.currentTarget,[F,U]=qD($);F&&U?!C.shiftKey&&V===U?(C.preventDefault(),n&&io(F,{select:!0})):C.shiftKey&&V===F&&(C.preventDefault(),n&&io(U,{select:!0})):V===$&&C.preventDefault()}},[n,r,E.paused]);return a.jsx(Me.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});qh.displayName=WD;function KD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(io(r,{select:e}),document.activeElement!==n)return}function qD(t){const e=LE(t),n=dw(e,t),r=dw(e.reverse(),t);return[n,r]}function LE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dw(t,e){for(const n of t)if(!QD(n,{upTo:e}))return n}function QD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YD(t){return t instanceof HTMLInputElement&&"select"in t}function io(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YD(t)&&e&&t.select()}}var hw=XD();function XD(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=fw(t,e),t.unshift(e)},remove(e){t=fw(t,e),t[0]?.resume()}}}function fw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function JD(t){return t.filter(e=>e.tagName!=="A")}var im="rovingFocusGroup.onEntryFocus",ZD={bubbles:!1,cancelable:!0},Gc="RovingFocusGroup",[rg,VE,eO]=mv(Gc),[tO,Ja]=nn(Gc,[eO]),[nO,rO]=tO(Gc),FE=b.forwardRef((t,e)=>a.jsx(rg.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(rg.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(sO,{...t,ref:e})})}));FE.displayName=Gc;var sO=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...x}=t,v=b.useRef(null),E=Ke(e,v),S=Hc(l),[C,k]=_o({prop:u,defaultProp:f??null,onChange:p,caller:Gc}),[V,$]=b.useState(!1),F=zt(m),U=VE(n),L=b.useRef(!1),[K,I]=b.useState(0);return b.useEffect(()=>{const j=v.current;if(j)return j.addEventListener(im,F),()=>j.removeEventListener(im,F)},[F]),a.jsx(nO,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:C,onItemFocus:b.useCallback(j=>k(j),[k]),onItemShiftTab:b.useCallback(()=>$(!0),[]),onFocusableItemAdd:b.useCallback(()=>I(j=>j+1),[]),onFocusableItemRemove:b.useCallback(()=>I(j=>j-1),[]),children:a.jsx(Me.div,{tabIndex:V||K===0?-1:0,"data-orientation":r,...x,ref:E,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{L.current=!0}),onFocus:pe(t.onFocus,j=>{const A=!L.current;if(j.target===j.currentTarget&&A&&!V){const M=new CustomEvent(im,ZD);if(j.currentTarget.dispatchEvent(M),!M.defaultPrevented){const O=U().filter(se=>se.focusable),D=O.find(se=>se.active),P=O.find(se=>se.id===C),te=[D,P,...O].filter(Boolean).map(se=>se.ref.current);UE(te,y)}}L.current=!1}),onBlur:pe(t.onBlur,()=>$(!1))})})}),$E="RovingFocusGroupItem",zE=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:u,...f}=t,p=ur(),m=l||p,y=rO($E,n),x=y.currentTabStopId===m,v=VE(n),{onFocusableItemAdd:E,onFocusableItemRemove:S,currentTabStopId:C}=y;return b.useEffect(()=>{if(r)return E(),()=>S()},[r,E,S]),a.jsx(rg.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:a.jsx(Me.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...f,ref:e,onMouseDown:pe(t.onMouseDown,k=>{r?y.onItemFocus(m):k.preventDefault()}),onFocus:pe(t.onFocus,()=>y.onItemFocus(m)),onKeyDown:pe(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){y.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const V=aO(k,y.orientation,y.dir);if(V!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let F=v().filter(U=>U.focusable).map(U=>U.ref.current);if(V==="last")F.reverse();else if(V==="prev"||V==="next"){V==="prev"&&F.reverse();const U=F.indexOf(k.currentTarget);F=y.loop?lO(F,U+1):F.slice(U+1)}setTimeout(()=>UE(F))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:C!=null}):u})})});zE.displayName=$E;var oO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aO(t,e,n){const r=iO(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oO[r]}function UE(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lO(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vv=FE,yv=zE,cO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fa=new WeakMap,kd=new WeakMap,Td={},am=0,BE=function(t){return t&&(t.host||BE(t.parentNode))},uO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=BE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dO=function(t,e,n,r){var i=uO(e,Array.isArray(t)?t:[t]);Td[n]||(Td[n]=new WeakMap);var l=Td[n],u=[],f=new Set,p=new Set(i),m=function(x){!x||f.has(x)||(f.add(x),m(x.parentNode))};i.forEach(m);var y=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(v){if(f.has(v))y(v);else try{var E=v.getAttribute(r),S=E!==null&&E!=="false",C=(fa.get(v)||0)+1,k=(l.get(v)||0)+1;fa.set(v,C),l.set(v,k),u.push(v),C===1&&S&&kd.set(v,!0),k===1&&v.setAttribute(n,"true"),S||v.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",v,V)}})};return y(e),f.clear(),am++,function(){u.forEach(function(x){var v=fa.get(x)-1,E=l.get(x)-1;fa.set(x,v),l.set(x,E),v||(kd.has(x)||x.removeAttribute(r),kd.delete(x)),E||x.removeAttribute(n)}),am--,am||(fa=new WeakMap,fa=new WeakMap,kd=new WeakMap,Td={})}},xv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=cO(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),dO(r,i,n,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Vr.apply(this,arguments)};function HE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hO(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var $d="right-scroll-bar-position",zd="width-before-scroll-bar",fO="with-scroll-bars-hidden",pO="--removed-body-scroll-bar-size";function lm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mO(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var gO=typeof window<"u"?b.useLayoutEffect:b.useEffect,pw=new WeakMap;function vO(t,e){var n=mO(null,function(r){return t.forEach(function(i){return lm(i,r)})});return gO(function(){var r=pw.get(n);if(r){var i=new Set(r),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||lm(f,null)}),l.forEach(function(f){i.has(f)||lm(f,u)})}pw.set(n,t)},[t]),n}function yO(t){return t}function xO(t,e){e===void 0&&(e=yO);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,r);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(r=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){r=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var p=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return i}function bO(t){t===void 0&&(t={});var e=xO(null);return e.options=Vr({async:!0,ssr:!1},t),e}var GE=function(t){var e=t.sideCar,n=HE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Vr({},n))};GE.isSideCarExport=!0;function wO(t,e){return t.useMedium(e),GE}var WE=bO(),cm=function(){},Qh=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:cm,onWheelCapture:cm,onTouchMoveCapture:cm}),i=r[0],l=r[1],u=t.forwardProps,f=t.children,p=t.className,m=t.removeScrollBar,y=t.enabled,x=t.shards,v=t.sideCar,E=t.noRelative,S=t.noIsolation,C=t.inert,k=t.allowPinchZoom,V=t.as,$=V===void 0?"div":V,F=t.gapMode,U=HE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,K=vO([n,e]),I=Vr(Vr({},U),i);return b.createElement(b.Fragment,null,y&&b.createElement(L,{sideCar:WE,removeScrollBar:m,shards:x,noRelative:E,noIsolation:S,inert:C,setCallbacks:l,allowPinchZoom:!!k,lockRef:n,gapMode:F}),u?b.cloneElement(b.Children.only(f),Vr(Vr({},I),{ref:K})):b.createElement($,Vr({},I,{className:p,ref:K}),f))});Qh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qh.classNames={fullWidth:zd,zeroRight:$d};var _O=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_O();return e&&t.setAttribute("nonce",e),t}function SO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function NO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=EO())&&(SO(e,n),NO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jO=function(){var t=CO();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},KE=function(){var t=jO(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},kO={left:0,top:0,right:0,gap:0},um=function(t){return parseInt(t||"",10)||0},TO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[um(n),um(r),um(i)]},IO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kO;var e=TO(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},PO=KE(),Ea="data-scroll-locked",AO=function(t,e,n,r){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ea,`] {
    `).concat(pO,": ").concat(f,`px;
  }
`)},mw=function(){var t=parseInt(document.body.getAttribute(Ea)||"0",10);return isFinite(t)?t:0},RO=function(){b.useEffect(function(){return document.body.setAttribute(Ea,(mw()+1).toString()),function(){var t=mw()-1;t<=0?document.body.removeAttribute(Ea):document.body.setAttribute(Ea,t.toString())}},[])},MO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;RO();var l=b.useMemo(function(){return IO(i)},[i]);return b.createElement(PO,{styles:AO(l,!e,i,n?"":"!important")})},sg=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return sg=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{sg=!1}var pa=sg?{passive:!1}:!1,DO=function(t){return t.tagName==="TEXTAREA"},qE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DO(t)&&n[e]==="visible")},OO=function(t){return qE(t,"overflowY")},LO=function(t){return qE(t,"overflowX")},gw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=QE(t,r);if(i){var l=YE(t,r),u=l[1],f=l[2];if(u>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},VO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},FO=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QE=function(t,e){return t==="v"?OO(e):LO(e)},YE=function(t,e){return t==="v"?VO(e):FO(e)},$O=function(t,e){return t==="h"&&e==="rtl"?-1:1},zO=function(t,e,n,r,i){var l=$O(t,window.getComputedStyle(e).direction),u=l*r,f=n.target,p=e.contains(f),m=!1,y=u>0,x=0,v=0;do{if(!f)break;var E=YE(t,f),S=E[0],C=E[1],k=E[2],V=C-k-l*S;(S||V)&&QE(t,f)&&(x+=V,v+=S);var $=f.parentNode;f=$&&$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$.host:$}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(y&&Math.abs(x)<1||!y&&Math.abs(v)<1)&&(m=!0),m},Pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vw=function(t){return[t.deltaX,t.deltaY]},yw=function(t){return t&&"current"in t?t.current:t},UO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},BO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},HO=0,ma=[];function GO(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(HO++)[0],l=b.useState(KE)[0],u=b.useRef(t);b.useEffect(function(){u.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=hO([t.lockRef.current],(t.shards||[]).map(yw),!0).filter(Boolean);return C.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=b.useCallback(function(C,k){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var V=Pd(C),$=n.current,F="deltaX"in C?C.deltaX:$[0]-V[0],U="deltaY"in C?C.deltaY:$[1]-V[1],L,K=C.target,I=Math.abs(F)>Math.abs(U)?"h":"v";if("touches"in C&&I==="h"&&K.type==="range")return!1;var j=gw(I,K);if(!j)return!0;if(j?L=I:(L=I==="v"?"h":"v",j=gw(I,K)),!j)return!1;if(!r.current&&"changedTouches"in C&&(F||U)&&(r.current=L),!L)return!0;var A=r.current||L;return zO(A,k,C,A==="h"?F:U)},[]),p=b.useCallback(function(C){var k=C;if(!(!ma.length||ma[ma.length-1]!==l)){var V="deltaY"in k?vw(k):Pd(k),$=e.current.filter(function(L){return L.name===k.type&&(L.target===k.target||k.target===L.shadowParent)&&UO(L.delta,V)})[0];if($&&$.should){k.cancelable&&k.preventDefault();return}if(!$){var F=(u.current.shards||[]).map(yw).filter(Boolean).filter(function(L){return L.contains(k.target)}),U=F.length>0?f(k,F[0]):!u.current.noIsolation;U&&k.cancelable&&k.preventDefault()}}},[]),m=b.useCallback(function(C,k,V,$){var F={name:C,delta:k,target:V,should:$,shadowParent:WO(V)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(U){return U!==F})},1)},[]),y=b.useCallback(function(C){n.current=Pd(C),r.current=void 0},[]),x=b.useCallback(function(C){m(C.type,vw(C),C.target,f(C,t.lockRef.current))},[]),v=b.useCallback(function(C){m(C.type,Pd(C),C.target,f(C,t.lockRef.current))},[]);b.useEffect(function(){return ma.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",p,pa),document.addEventListener("touchmove",p,pa),document.addEventListener("touchstart",y,pa),function(){ma=ma.filter(function(C){return C!==l}),document.removeEventListener("wheel",p,pa),document.removeEventListener("touchmove",p,pa),document.removeEventListener("touchstart",y,pa)}},[]);var E=t.removeScrollBar,S=t.inert;return b.createElement(b.Fragment,null,S?b.createElement(l,{styles:BO(i)}):null,E?b.createElement(MO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function WO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KO=wO(WE,GO);var Yh=b.forwardRef(function(t,e){return b.createElement(Qh,Vr({},t,{ref:e,sideCar:KO}))});Yh.classNames=Qh.classNames;var og=["Enter"," "],qO=["ArrowDown","PageUp","Home"],XE=["ArrowUp","PageDown","End"],QO=[...qO,...XE],YO={ltr:[...og,"ArrowRight"],rtl:[...og,"ArrowLeft"]},XO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wc="Menu",[Sc,JO,ZO]=mv(Wc),[_i,bv]=nn(Wc,[ZO,Ka,Ja]),Xh=Ka(),JE=Ja(),[e3,Ei]=_i(Wc),[t3,Kc]=_i(Wc),ZE=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:l,modal:u=!0}=t,f=Xh(e),[p,m]=b.useState(null),y=b.useRef(!1),x=zt(l),v=Hc(i);return b.useEffect(()=>{const E=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx(Og,{...f,children:a.jsx(e3,{scope:e,open:n,onOpenChange:x,content:p,onContentChange:m,children:a.jsx(t3,{scope:e,onClose:b.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:y,dir:v,modal:u,children:r})})})};ZE.displayName=Wc;var n3="MenuAnchor",wv=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Xh(n);return a.jsx(Ah,{...i,...r,ref:e})});wv.displayName=n3;var _v="MenuPortal",[r3,eS]=_i(_v,{forceMount:void 0}),tS=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,l=Ei(_v,e);return a.jsx(r3,{scope:e,forceMount:n,children:a.jsx(Rt,{present:n||l.open,children:a.jsx(Mc,{asChild:!0,container:i,children:r})})})};tS.displayName=_v;var Wn="MenuContent",[s3,Ev]=_i(Wn),nS=b.forwardRef((t,e)=>{const n=eS(Wn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=Ei(Wn,t.__scopeMenu),u=Kc(Wn,t.__scopeMenu);return a.jsx(Sc.Provider,{scope:t.__scopeMenu,children:a.jsx(Rt,{present:r||l.open,children:a.jsx(Sc.Slot,{scope:t.__scopeMenu,children:u.modal?a.jsx(o3,{...i,ref:e}):a.jsx(i3,{...i,ref:e})})})})}),o3=b.forwardRef((t,e)=>{const n=Ei(Wn,t.__scopeMenu),r=b.useRef(null),i=Ke(e,r);return b.useEffect(()=>{const l=r.current;if(l)return xv(l)},[]),a.jsx(Sv,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),i3=b.forwardRef((t,e)=>{const n=Ei(Wn,t.__scopeMenu);return a.jsx(Sv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a3=ui("MenuContent.ScrollLock"),Sv=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:v,onDismiss:E,disableOutsideScroll:S,...C}=t,k=Ei(Wn,n),V=Kc(Wn,n),$=Xh(n),F=JE(n),U=JO(n),[L,K]=b.useState(null),I=b.useRef(null),j=Ke(e,I,k.onContentChange),A=b.useRef(0),M=b.useRef(""),O=b.useRef(0),D=b.useRef(null),P=b.useRef("right"),B=b.useRef(0),te=S?Yh:b.Fragment,se=S?{as:a3,allowPinchZoom:!0}:void 0,ce=ee=>{const ae=M.current+ee,G=U().filter(ve=>!ve.disabled),ne=document.activeElement,me=G.find(ve=>ve.ref.current===ne)?.textValue,ye=G.map(ve=>ve.textValue),Re=x3(ye,ae,me),Te=G.find(ve=>ve.textValue===Re)?.ref.current;(function ve(Oe){M.current=Oe,window.clearTimeout(A.current),Oe!==""&&(A.current=window.setTimeout(()=>ve(""),1e3))})(ae),Te&&setTimeout(()=>Te.focus())};b.useEffect(()=>()=>window.clearTimeout(A.current),[]),gv();const q=b.useCallback(ee=>P.current===D.current?.side&&w3(ee,D.current?.area),[]);return a.jsx(s3,{scope:n,searchRef:M,onItemEnter:b.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),onItemLeave:b.useCallback(ee=>{q(ee)||(I.current?.focus(),K(null))},[q]),onTriggerLeave:b.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),pointerGraceTimerRef:O,onPointerGraceIntentChange:b.useCallback(ee=>{D.current=ee},[]),children:a.jsx(te,{...se,children:a.jsx(qh,{asChild:!0,trapped:i,onMountAutoFocus:pe(l,ee=>{ee.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:a.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:v,onDismiss:E,children:a.jsx(vv,{asChild:!0,...F,dir:V.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:K,onEntryFocus:pe(p,ee=>{V.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Lg,{role:"menu","aria-orientation":"vertical","data-state":yS(k.open),"data-radix-menu-content":"",dir:V.dir,...$,...C,ref:j,style:{outline:"none",...C.style},onKeyDown:pe(C.onKeyDown,ee=>{const G=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,ne=ee.ctrlKey||ee.altKey||ee.metaKey,me=ee.key.length===1;G&&(ee.key==="Tab"&&ee.preventDefault(),!ne&&me&&ce(ee.key));const ye=I.current;if(ee.target!==ye||!QO.includes(ee.key))return;ee.preventDefault();const Te=U().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);XE.includes(ee.key)&&Te.reverse(),v3(Te)}),onBlur:pe(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(A.current),M.current="")}),onPointerMove:pe(t.onPointerMove,Nc(ee=>{const ae=ee.target,G=B.current!==ee.clientX;if(ee.currentTarget.contains(ae)&&G){const ne=ee.clientX>B.current?"right":"left";P.current=ne,B.current=ee.clientX}}))})})})})})})});nS.displayName=Wn;var l3="MenuGroup",Nv=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Me.div,{role:"group",...r,ref:e})});Nv.displayName=l3;var c3="MenuLabel",rS=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Me.div,{...r,ref:e})});rS.displayName=c3;var uh="MenuItem",xw="menu.itemSelect",Jh=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,l=b.useRef(null),u=Kc(uh,t.__scopeMenu),f=Ev(uh,t.__scopeMenu),p=Ke(e,l),m=b.useRef(!1),y=()=>{const x=l.current;if(!n&&x){const v=new CustomEvent(xw,{bubbles:!0,cancelable:!0});x.addEventListener(xw,E=>r?.(E),{once:!0}),O1(x,v),v.defaultPrevented?m.current=!1:u.onClose()}};return a.jsx(sS,{...i,ref:p,disabled:n,onClick:pe(t.onClick,y),onPointerDown:x=>{t.onPointerDown?.(x),m.current=!0},onPointerUp:pe(t.onPointerUp,x=>{m.current||x.currentTarget?.click()}),onKeyDown:pe(t.onKeyDown,x=>{const v=f.searchRef.current!=="";n||v&&x.key===" "||og.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Jh.displayName=uh;var sS=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=t,u=Ev(uh,n),f=JE(n),p=b.useRef(null),m=Ke(e,p),[y,x]=b.useState(!1),[v,E]=b.useState("");return b.useEffect(()=>{const S=p.current;S&&E((S.textContent??"").trim())},[l.children]),a.jsx(Sc.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:a.jsx(yv,{asChild:!0,...f,focusable:!r,children:a.jsx(Me.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:m,onPointerMove:pe(t.onPointerMove,Nc(S=>{r?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Nc(S=>u.onItemLeave(S))),onFocus:pe(t.onFocus,()=>x(!0)),onBlur:pe(t.onBlur,()=>x(!1))})})})}),u3="MenuCheckboxItem",oS=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return a.jsx(uS,{scope:t.__scopeMenu,checked:n,children:a.jsx(Jh,{role:"menuitemcheckbox","aria-checked":dh(n)?"mixed":n,...i,ref:e,"data-state":jv(n),onSelect:pe(i.onSelect,()=>r?.(dh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});oS.displayName=u3;var iS="MenuRadioGroup",[d3,h3]=_i(iS,{value:void 0,onValueChange:()=>{}}),aS=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,l=zt(r);return a.jsx(d3,{scope:t.__scopeMenu,value:n,onValueChange:l,children:a.jsx(Nv,{...i,ref:e})})});aS.displayName=iS;var lS="MenuRadioItem",cS=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=h3(lS,t.__scopeMenu),l=n===i.value;return a.jsx(uS,{scope:t.__scopeMenu,checked:l,children:a.jsx(Jh,{role:"menuitemradio","aria-checked":l,...r,ref:e,"data-state":jv(l),onSelect:pe(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});cS.displayName=lS;var Cv="MenuItemIndicator",[uS,f3]=_i(Cv,{checked:!1}),dS=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,l=f3(Cv,n);return a.jsx(Rt,{present:r||dh(l.checked)||l.checked===!0,children:a.jsx(Me.span,{...i,ref:e,"data-state":jv(l.checked)})})});dS.displayName=Cv;var p3="MenuSeparator",hS=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});hS.displayName=p3;var m3="MenuArrow",fS=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Xh(n);return a.jsx(Vg,{...i,...r,ref:e})});fS.displayName=m3;var g3="MenuSub",[l$,pS]=_i(g3),nc="MenuSubTrigger",mS=b.forwardRef((t,e)=>{const n=Ei(nc,t.__scopeMenu),r=Kc(nc,t.__scopeMenu),i=pS(nc,t.__scopeMenu),l=Ev(nc,t.__scopeMenu),u=b.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:p}=l,m={__scopeMenu:t.__scopeMenu},y=b.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return b.useEffect(()=>y,[y]),b.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),p(null)}},[f,p]),a.jsx(wv,{asChild:!0,...m,children:a.jsx(sS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":yS(n.open),...t,ref:jh(e,i.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Nc(x=>{l.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:pe(t.onPointerLeave,Nc(x=>{y();const v=n.content?.getBoundingClientRect();if(v){const E=n.content?.dataset.side,S=E==="right",C=S?-5:5,k=v[S?"left":"right"],V=v[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+C,y:x.clientY},{x:k,y:v.top},{x:V,y:v.top},{x:V,y:v.bottom},{x:k,y:v.bottom}],side:E}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,x=>{const v=l.searchRef.current!=="";t.disabled||v&&x.key===" "||YO[r.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});mS.displayName=nc;var gS="MenuSubContent",vS=b.forwardRef((t,e)=>{const n=eS(Wn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=Ei(Wn,t.__scopeMenu),u=Kc(Wn,t.__scopeMenu),f=pS(gS,t.__scopeMenu),p=b.useRef(null),m=Ke(e,p);return a.jsx(Sc.Provider,{scope:t.__scopeMenu,children:a.jsx(Rt,{present:r||l.open,children:a.jsx(Sc.Slot,{scope:t.__scopeMenu,children:a.jsx(Sv,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{u.isUsingKeyboardRef.current&&p.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:pe(t.onFocusOutside,y=>{y.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:pe(t.onKeyDown,y=>{const x=y.currentTarget.contains(y.target),v=XO[u.dir].includes(y.key);x&&v&&(l.onOpenChange(!1),f.trigger?.focus(),y.preventDefault())})})})})})});vS.displayName=gS;function yS(t){return t?"open":"closed"}function dh(t){return t==="indeterminate"}function jv(t){return dh(t)?"indeterminate":t?"checked":"unchecked"}function v3(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function y3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function x3(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=y3(t,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function b3(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],p=e[u],m=f.x,y=f.y,x=p.x,v=p.y;y>r!=v>r&&n<(x-m)*(r-y)/(v-y)+m&&(i=!i)}return i}function w3(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return b3(n,e)}function Nc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xS=ZE,bS=wv,wS=tS,_S=nS,ES=Nv,SS=rS,NS=Jh,CS=oS,jS=aS,kS=cS,TS=dS,IS=hS,PS=fS,AS=mS,RS=vS,Zh="DropdownMenu",[_3]=nn(Zh,[bv]),rn=bv(),[E3,MS]=_3(Zh),DS=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,p=rn(e),m=b.useRef(null),[y,x]=_o({prop:i,defaultProp:l??!1,onChange:u,caller:Zh});return a.jsx(E3,{scope:e,triggerId:ur(),triggerRef:m,contentId:ur(),open:y,onOpenChange:x,onOpenToggle:b.useCallback(()=>x(v=>!v),[x]),modal:f,children:a.jsx(xS,{...p,open:y,onOpenChange:x,dir:r,modal:f,children:n})})};DS.displayName=Zh;var OS="DropdownMenuTrigger",LS=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,l=MS(OS,n),u=rn(n);return a.jsx(bS,{asChild:!0,...u,children:a.jsx(Me.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:jh(e,l.triggerRef),onPointerDown:pe(t.onPointerDown,f=>{!r&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:pe(t.onKeyDown,f=>{r||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});LS.displayName=OS;var S3="DropdownMenuPortal",VS=t=>{const{__scopeDropdownMenu:e,...n}=t,r=rn(e);return a.jsx(wS,{...r,...n})};VS.displayName=S3;var FS="DropdownMenuContent",$S=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=MS(FS,n),l=rn(n),u=b.useRef(!1);return a.jsx(_S,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,f=>{const p=f.detail.originalEvent,m=p.button===0&&p.ctrlKey===!0,y=p.button===2||m;(!i.modal||y)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$S.displayName=FS;var N3="DropdownMenuGroup",C3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(ES,{...i,...r,ref:e})});C3.displayName=N3;var j3="DropdownMenuLabel",zS=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(SS,{...i,...r,ref:e})});zS.displayName=j3;var k3="DropdownMenuItem",US=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(NS,{...i,...r,ref:e})});US.displayName=k3;var T3="DropdownMenuCheckboxItem",I3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(CS,{...i,...r,ref:e})});I3.displayName=T3;var P3="DropdownMenuRadioGroup",A3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(jS,{...i,...r,ref:e})});A3.displayName=P3;var R3="DropdownMenuRadioItem",M3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(kS,{...i,...r,ref:e})});M3.displayName=R3;var D3="DropdownMenuItemIndicator",O3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(TS,{...i,...r,ref:e})});O3.displayName=D3;var L3="DropdownMenuSeparator",BS=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(IS,{...i,...r,ref:e})});BS.displayName=L3;var V3="DropdownMenuArrow",F3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(PS,{...i,...r,ref:e})});F3.displayName=V3;var $3="DropdownMenuSubTrigger",z3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(AS,{...i,...r,ref:e})});z3.displayName=$3;var U3="DropdownMenuSubContent",B3=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rn(n);return a.jsx(RS,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B3.displayName=U3;var H3=DS,G3=LS,W3=VS,K3=$S,q3=zS,Q3=US,Y3=BS;function ig({...t}){return a.jsx(H3,{"data-slot":"dropdown-menu",...t})}function ag({...t}){return a.jsx(G3,{"data-slot":"dropdown-menu-trigger",...t})}function lg({className:t,sideOffset:e=4,...n}){return a.jsx(W3,{children:a.jsx(K3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function pn({className:t,inset:e,variant:n="default",...r}){return a.jsx(Q3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function dm({className:t,inset:e,...n}){return a.jsx(q3,{"data-slot":"dropdown-menu-label","data-inset":e,className:Fe("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function hh({className:t,...e}){return a.jsx(Y3,{"data-slot":"dropdown-menu-separator",className:Fe("bg-border -mx-1 my-1 h-px",t),...e})}var ef="Dialog",[HS,c$]=nn(ef),[X3,mr]=HS(ef),GS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=b.useRef(null),p=b.useRef(null),[m,y]=_o({prop:r,defaultProp:i??!1,onChange:l,caller:ef});return a.jsx(X3,{scope:e,triggerRef:f,contentRef:p,contentId:ur(),titleId:ur(),descriptionId:ur(),open:m,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(x=>!x),[y]),modal:u,children:n})};GS.displayName=ef;var WS="DialogTrigger",KS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mr(WS,n),l=Ke(e,i.triggerRef);return a.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Iv(i.open),...r,ref:l,onClick:pe(t.onClick,i.onOpenToggle)})});KS.displayName=WS;var kv="DialogPortal",[J3,qS]=HS(kv,{forceMount:void 0}),QS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,l=mr(kv,e);return a.jsx(J3,{scope:e,forceMount:n,children:b.Children.map(r,u=>a.jsx(Rt,{present:n||l.open,children:a.jsx(Mc,{asChild:!0,container:i,children:u})}))})};QS.displayName=kv;var fh="DialogOverlay",YS=b.forwardRef((t,e)=>{const n=qS(fh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=mr(fh,t.__scopeDialog);return l.modal?a.jsx(Rt,{present:r||l.open,children:a.jsx(e5,{...i,ref:e})}):null});YS.displayName=fh;var Z3=ui("DialogOverlay.RemoveScroll"),e5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mr(fh,n);return a.jsx(Yh,{as:Z3,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Me.div,{"data-state":Iv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),yi="DialogContent",XS=b.forwardRef((t,e)=>{const n=qS(yi,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=mr(yi,t.__scopeDialog);return a.jsx(Rt,{present:r||l.open,children:l.modal?a.jsx(t5,{...i,ref:e}):a.jsx(n5,{...i,ref:e})})});XS.displayName=yi;var t5=b.forwardRef((t,e)=>{const n=mr(yi,t.__scopeDialog),r=b.useRef(null),i=Ke(e,n.contentRef,r);return b.useEffect(()=>{const l=r.current;if(l)return xv(l)},[]),a.jsx(JS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,l=>l.preventDefault())})}),n5=b.forwardRef((t,e)=>{const n=mr(yi,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return a.jsx(JS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),JS=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=mr(yi,n),p=b.useRef(null),m=Ke(e,p);return gv(),a.jsxs(a.Fragment,{children:[a.jsx(qh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Ac,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Iv(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(r5,{titleId:f.titleId}),a.jsx(o5,{contentRef:p,descriptionId:f.descriptionId})]})]})}),Tv="DialogTitle",ZS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mr(Tv,n);return a.jsx(Me.h2,{id:i.titleId,...r,ref:e})});ZS.displayName=Tv;var eN="DialogDescription",tN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mr(eN,n);return a.jsx(Me.p,{id:i.descriptionId,...r,ref:e})});tN.displayName=eN;var nN="DialogClose",rN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mr(nN,n);return a.jsx(Me.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});rN.displayName=nN;function Iv(t){return t?"open":"closed"}var sN="DialogTitleWarning",[u$,oN]=fk(sN,{contentName:yi,titleName:Tv,docsSlug:"dialog"}),r5=({titleId:t})=>{const e=oN(sN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},s5="DialogDescriptionWarning",o5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oN(s5).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},i5=GS,iN=KS,a5=QS,aN=YS,lN=XS,cN=ZS,uN=tN,Pv=rN;function ph({...t}){return a.jsx(i5,{"data-slot":"dialog",...t})}const cg=b.forwardRef(({...t},e)=>a.jsx(iN,{ref:e,"data-slot":"dialog-trigger",...t}));cg.displayName=iN.displayName;function l5({...t}){return a.jsx(a5,{"data-slot":"dialog-portal",...t})}const c5=b.forwardRef(({...t},e)=>a.jsx(Pv,{ref:e,"data-slot":"dialog-close",...t}));c5.displayName=Pv.displayName;const dN=b.forwardRef(({className:t,...e},n)=>a.jsx(aN,{ref:n,"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));dN.displayName=aN.displayName;const Cc=b.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(l5,{"data-slot":"dialog-portal",children:[a.jsx(dN,{}),a.jsxs(lN,{ref:r,"data-slot":"dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,a.jsxs(Pv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(hi,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cc.displayName=lN.displayName;const jc=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-slot":"dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",t),...e}));jc.displayName="DialogHeader";const Av=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-slot":"dialog-footer",className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e}));Av.displayName="DialogFooter";const kc=b.forwardRef(({className:t,...e},n)=>a.jsx(cN,{ref:n,"data-slot":"dialog-title",className:Fe("text-lg leading-none font-semibold",t),...e}));kc.displayName=cN.displayName;const Rv=b.forwardRef(({className:t,...e},n)=>a.jsx(uN,{ref:n,"data-slot":"dialog-description",className:Fe("text-muted-foreground text-sm",t),...e}));Rv.displayName=uN.displayName;var u5="Label",hN=b.forwardRef((t,e)=>a.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hN.displayName=u5;var d5=hN;function Ze({className:t,...e}){return a.jsx(d5,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function fN(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Mv="Radio",[h5,pN]=nn(Mv),[f5,p5]=h5(Mv),mN=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:u,value:f="on",onCheck:p,form:m,...y}=t,[x,v]=b.useState(null),E=Ke(e,k=>v(k)),S=b.useRef(!1),C=x?m||!!x.closest("form"):!0;return a.jsxs(f5,{scope:n,checked:i,disabled:u,children:[a.jsx(Me.button,{type:"button",role:"radio","aria-checked":i,"data-state":xN(i),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:E,onClick:pe(t.onClick,k=>{i||p?.(),C&&(S.current=k.isPropagationStopped(),S.current||k.stopPropagation())})}),C&&a.jsx(yN,{control:x,bubbles:!S.current,name:r,value:f,checked:i,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});mN.displayName=Mv;var gN="RadioIndicator",vN=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,l=p5(gN,n);return a.jsx(Rt,{present:r||l.checked,children:a.jsx(Me.span,{"data-state":xN(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e})})});vN.displayName=gN;var m5="RadioBubbleInput",yN=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},l)=>{const u=b.useRef(null),f=Ke(u,l),p=fN(n),m=Rg(e);return b.useEffect(()=>{const y=u.current;if(!y)return;const x=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==n&&E){const S=new Event("click",{bubbles:r});E.call(y,n),y.dispatchEvent(S)}},[p,n,r]),a.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:f,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yN.displayName=m5;function xN(t){return t?"checked":"unchecked"}var g5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tf="RadioGroup",[v5]=nn(tf,[Ja,pN]),bN=Ja(),wN=pN(),[y5,x5]=v5(tf),_N=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:u=!1,disabled:f=!1,orientation:p,dir:m,loop:y=!0,onValueChange:x,...v}=t,E=bN(n),S=Hc(m),[C,k]=_o({prop:l,defaultProp:i??null,onChange:x,caller:tf});return a.jsx(y5,{scope:n,name:r,required:u,disabled:f,value:C,onValueChange:k,children:a.jsx(vv,{asChild:!0,...E,orientation:p,dir:S,loop:y,children:a.jsx(Me.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":f?"":void 0,dir:S,...v,ref:e})})})});_N.displayName=tf;var EN="RadioGroupItem",SN=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,l=x5(EN,n),u=l.disabled||r,f=bN(n),p=wN(n),m=b.useRef(null),y=Ke(e,m),x=l.value===i.value,v=b.useRef(!1);return b.useEffect(()=>{const E=C=>{g5.includes(C.key)&&(v.current=!0)},S=()=>v.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",S)}},[]),a.jsx(yv,{asChild:!0,...f,focusable:!u,active:x,children:a.jsx(mN,{disabled:u,required:l.required,checked:x,...p,...i,name:l.name,ref:y,onCheck:()=>l.onValueChange(i.value),onKeyDown:pe(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:pe(i.onFocus,()=>{v.current&&m.current?.click()})})})});SN.displayName=EN;var b5="RadioGroupIndicator",NN=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=wN(n);return a.jsx(vN,{...i,...r,ref:e})});NN.displayName=b5;var w5=_N,_5=SN,E5=NN;function li({className:t,...e}){return a.jsx(w5,{"data-slot":"radio-group",className:Fe("grid gap-3",t),...e})}function kn({className:t,...e}){return a.jsx(_5,{"data-slot":"radio-group-item",className:Fe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(E5,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:a.jsx(sP,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var nf="Checkbox",[S5]=nn(nf),[N5,Dv]=S5(nf);function C5(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:l,form:u,name:f,onCheckedChange:p,required:m,value:y="on",internal_do_not_use_render:x}=t,[v,E]=_o({prop:n,defaultProp:i??!1,onChange:p,caller:nf}),[S,C]=b.useState(null),[k,V]=b.useState(null),$=b.useRef(!1),F=S?!!u||!!S.closest("form"):!0,U={checked:v,disabled:l,setChecked:E,control:S,setControl:C,name:f,form:u,value:y,hasConsumerStoppedPropagationRef:$,required:m,defaultChecked:go(i)?!1:i,isFormControl:F,bubbleInput:k,setBubbleInput:V};return a.jsx(N5,{scope:e,...U,children:j5(x)?x(U):r})}var CN="CheckboxTrigger",jN=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:l,value:u,disabled:f,checked:p,required:m,setControl:y,setChecked:x,hasConsumerStoppedPropagationRef:v,isFormControl:E,bubbleInput:S}=Dv(CN,t),C=Ke(i,y),k=b.useRef(p);return b.useEffect(()=>{const V=l?.form;if(V){const $=()=>x(k.current);return V.addEventListener("reset",$),()=>V.removeEventListener("reset",$)}},[l,x]),a.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":go(p)?"mixed":p,"aria-required":m,"data-state":RN(p),"data-disabled":f?"":void 0,disabled:f,value:u,...r,ref:C,onKeyDown:pe(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:pe(n,V=>{x($=>go($)?!0:!$),S&&E&&(v.current=V.isPropagationStopped(),v.current||V.stopPropagation())})})});jN.displayName=CN;var kN=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:l,required:u,disabled:f,value:p,onCheckedChange:m,form:y,...x}=t;return a.jsx(C5,{__scopeCheckbox:n,checked:i,defaultChecked:l,disabled:f,required:u,onCheckedChange:m,name:r,form:y,value:p,internal_do_not_use_render:({isFormControl:v})=>a.jsxs(a.Fragment,{children:[a.jsx(jN,{...x,ref:e,__scopeCheckbox:n}),v&&a.jsx(AN,{__scopeCheckbox:n})]})})});kN.displayName=nf;var TN="CheckboxIndicator",IN=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,l=Dv(TN,n);return a.jsx(Rt,{present:r||go(l.checked)||l.checked===!0,children:a.jsx(Me.span,{"data-state":RN(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});IN.displayName=TN;var PN="CheckboxBubbleInput",AN=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:u,required:f,disabled:p,name:m,value:y,form:x,bubbleInput:v,setBubbleInput:E}=Dv(PN,t),S=Ke(n,E),C=fN(l),k=Rg(r);b.useEffect(()=>{const $=v;if(!$)return;const F=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(F,"checked").set,K=!i.current;if(C!==l&&L){const I=new Event("click",{bubbles:K});$.indeterminate=go(l),L.call($,go(l)?!1:l),$.dispatchEvent(I)}},[v,C,l,i]);const V=b.useRef(go(l)?!1:l);return a.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??V.current,required:f,disabled:p,name:m,value:y,form:x,...e,tabIndex:-1,ref:S,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});AN.displayName=PN;function j5(t){return typeof t=="function"}function go(t){return t==="indeterminate"}function RN(t){return go(t)?"indeterminate":t?"checked":"unchecked"}function ni({className:t,...e}){return a.jsx(kN,{"data-slot":"checkbox",className:Fe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(IN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(ws,{className:"size-3.5"})})})}function MN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k5=MN,DN=new Fc("auth","Firebase",MN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Hg("@firebase/auth");function T5(t,...e){mh.logLevel<=$e.WARN&&mh.warn(`Auth (${Ya}): ${t}`,...e)}function Ud(t,...e){mh.logLevel<=$e.ERROR&&mh.error(`Auth (${Ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,...e){throw Ov(t,...e)}function Ur(t,...e){return Ov(t,...e)}function ON(t,e,n){const r={...k5(),[e]:n};return new Fc("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return ON(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ov(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DN.create(t,...e)}function Pe(t,e,...n){if(!t)throw Ov(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function js(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof self<"u"&&self.location?.href||""}function I5(){return bw()==="http:"||bw()==="https:"}function bw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||QA()||"connection"in navigator)?navigator.onLine:!0}function A5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=WA()||YA()}get(){return P5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D5=new qc(3e4,6e4);function Vv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Za(t,e,n,r,i={}){return VN(t,i,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=$c({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...l};return qA()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&qa(t.emulatorConfig.host)&&(m.credentials="include"),LN.fetch()(await FN(t,t.config.apiHost,n,f),m)})}async function VN(t,e,n){t._canInitEmulator=!1;const r={...R5,...e};try{const i=new L5(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ad(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Ad(t,"user-disabled",u);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ON(t,y,m);Cs(t,y)}}catch(i){if(i instanceof ks)throw i;Cs(t,"network-request-failed",{message:String(i)})}}async function O5(t,e,n,r,i={}){const l=await Za(t,e,n,r,i);return"mfaPendingCredential"in l&&Cs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FN(t,e,n,r){const i=`${e}${n}?${r}`,l=t,u=l.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`;return M5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class L5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),D5.get())})}}function Ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function gh(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F5(t,e=!1){const n=Qa(t),r=await n.getIdToken(e),i=Fv(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l?.sign_in_provider;return{claims:i,token:r,authTime:hc(hm(i.auth_time)),issuedAtTime:hc(hm(i.iat)),expirationTime:hc(hm(i.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hm(t){return Number(t)*1e3}function Fv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=L_(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ww(t){const e=Fv(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ks&&$5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){const e=t.auth,n=await t.getIdToken(),r=await Tc(t,gh(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const l=i.providerUserInfo?.length?$N(i.providerUserInfo):[],u=B5(t.providerData,l),f=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!u?.length,m=f?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new dg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function U5(t){const e=Qa(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $N(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const n=await VN(t,{},async()=>{const r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=await FN(t,i,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return t.emulatorConfig&&qa(t.emulatorConfig.host)&&(p.credentials="include"),LN.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G5(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Vv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:l}=await H5(e,n);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:l}=n,u=new Sa;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F5(this,e)}reload(){return U5(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Tc(this,V5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:x,emailVerified:v,isAnonymous:E,providerData:S,stsTokenManager:C}=n;Pe(x&&C,e,"internal-error");const k=Sa.fromJSON(this.name,C);Pe(typeof x=="string",e,"internal-error"),oo(r,e.name),oo(i,e.name),Pe(typeof v=="boolean",e,"internal-error"),Pe(typeof E=="boolean",e,"internal-error"),oo(l,e.name),oo(u,e.name),oo(f,e.name),oo(p,e.name),oo(m,e.name),oo(y,e.name);const V=new cr({uid:x,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&(V.providerData=S.map($=>({...$}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sa;i.updateFromServerResponse(n);const l=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vh(l),l}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?$N(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!l?.length,f=new Sa;f.updateFromIdToken(r);const p=new cr({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new dg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function bs(t){js(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zN.type="NONE";const Ew=zN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,l),this.fullPersistenceKey=Bd("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(bs(Ew),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||bs(Ew);const u=Bd(r,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(u);if(y){let x;if(typeof y=="string"){const v=await gh(e,{idToken:y}).catch(()=>{});if(!v)break;x=await cr._fromGetAccountInfoResponse(e,v,y)}else x=cr._fromJSON(e,y);m!==l&&(f=x),l=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Na(l,e,r):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Na(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KN(e))return"Blackberry";if(qN(e))return"Webos";if(BN(e))return"Safari";if((e.includes("chrome/")||HN(e))&&!e.includes("edge/"))return"Chrome";if(WN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UN(t=Xt()){return/firefox\//i.test(t)}function BN(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HN(t=Xt()){return/crios\//i.test(t)}function GN(t=Xt()){return/iemobile/i.test(t)}function WN(t=Xt()){return/android/i.test(t)}function KN(t=Xt()){return/blackberry/i.test(t)}function qN(t=Xt()){return/webos/i.test(t)}function $v(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W5(t=Xt()){return $v(t)&&!!window.navigator?.standalone}function K5(){return XA()&&document.documentMode===10}function QN(t=Xt()){return $v(t)||WN(t)||qN(t)||KN(t)||/windows phone/i.test(t)||GN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e=[]){let n;switch(t){case"Browser":n=Sw(Xt());break;case"Worker":n=`${Sw(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Vv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=6;class X5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nw(this),this.idTokenSubscription=new Nw(this),this.beforeStateQueue=new q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Lr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(ci(this));const n=e?Qa(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q5(this),n=new X5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&T5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zv(t){return Qa(t)}class Nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z5(t){Uv=t}function e6(t){return Uv.loadJS(t)}function t6(){return Uv.gapiScript}function n6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(fi(l,e??{}))return i;Cs(i,"already-initialized")}return n.initialize({options:e})}function s6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function o6(t,e,n){const r=zv(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,l=XN(e),{host:u,port:f}=i6(e),p=f===null?"":`:${f}`,m={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(fi(m,r.config.emulator)&&fi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,qa(u)?(z_(`${l}//${u}${p}`),U_("Auth",!0)):a6()}function XN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i6(t){const e=XN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:Cw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Cw(u)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return O5(t,"POST","/v1/accounts:signInWithIdp",Vv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="http://localhost";class xi extends JN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=n;if(!r||!i)return null;const u=new xi(r,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:l6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends ZN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Qc{constructor(){super("facebook.com")}static credential(e){return xi._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xi._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.GOOGLE_SIGN_IN_METHOD="google.com";lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Qc{constructor(){super("github.com")}static credential(e){return xi._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Qc{constructor(){super("twitter.com")}static credential(e,n){return xi._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const l=await cr._fromIdTokenResponse(e,r,i),u=jw(r);return new Va({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jw(r);return new Va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yh(e,n,r,i)}}function eC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,l,e,r):l})}async function c6(t,e,n=!1){const r=await Tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const l=await Tc(t,eC(r,i,e,t),n);Pe(l.idToken,r,"internal-error");const u=Fv(l.idToken);Pe(u,r,"internal-error");const{sub:f}=u;return Pe(t.uid===f,r,"user-mismatch"),Va._forOperation(t,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Cs(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e,n=!1){if(Lr(t.app))return Promise.reject(ci(t));const r="signIn",i=await eC(t,r,e),l=await Va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(l.user),l}function h6(t,e,n,r){return Qa(t).onIdTokenChanged(e,n,r)}function f6(t,e,n){return Qa(t).beforeAuthStateChanged(e,n)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=1e3,m6=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);K5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const g6=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const sC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(u).map(async m=>m(n.origin,l)),p=await v6(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=Bv("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(x){const v=x;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function x6(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function b6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w6(){return navigator?.serviceWorker?.controller||null}function _6(){return oC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",E6=1,bh="firebaseLocalStorage",aC="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function S6(){const t=indexedDB.deleteDatabase(iC);return new Yc(t).toPromise()}function hg(){const t=indexedDB.open(iC,E6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bh,{keyPath:aC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await S6(),e(await hg()))})})}async function kw(t,e,n){const r=sf(t,!0).put({[aC]:e,value:n});return new Yc(r).toPromise()}async function N6(t,e){const n=sf(t,!1).get(e),r=await new Yc(n).toPromise();return r===void 0?null:r.value}function Tw(t,e){const n=sf(t,!0).delete(e);return new Yc(n).toPromise()}const C6=800,j6=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(_6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b6(),!this.activeServiceWorker)return;this.sender=new y6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await kw(e,xh,"1"),await Tw(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=sf(i,!1).getAll();return new Yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const k6=lC;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e){return e?bs(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends JN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I6(t){return d6(t.auth,new Hv(t),t.bypassAuthState)}function P6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),u6(n,new Hv(t),t.bypassAuthState)}async function A6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),c6(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I6;case"linkViaPopup":case"linkViaRedirect":return A6;case"reauthViaPopup":case"reauthViaRedirect":return P6;default:Cs(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new qc(2e3,1e4);class xa extends cC{constructor(e,n,r,i,l){super(e,n,i,l),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R6.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="pendingRedirect",Hd=new Map;class D6 extends cC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const r=await O6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O6(t,e){const n=F6(e),r=V6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L6(t,e){Hd.set(t._key(),e)}function V6(t){return bs(t._redirectPersistence)}function F6(t){return Bd(M6,t.config.apiKey,t.name)}async function $6(t,e,n=!1){if(Lr(t.app))return Promise.reject(ci(t));const r=zv(t),i=T6(r,e),u=await new D6(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=600*1e3;class U6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iw(e))}saveEventToCache(e){this.cachedEventUids.add(Iw(e)),this.lastProcessedEventTime=Date.now()}}function Iw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W6=/^https?/;async function K6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H6(t);for(const n of e)try{if(q6(n))return}catch{}Cs(t,"unauthorized-domain")}function q6(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!W6.test(n))return!1;if(G6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new qc(3e4,6e4);function Pw(){const t=Br().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y6(t){return new Promise((e,n)=>{function r(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(Ur(t,"network-request-failed"))},timeout:Q6.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)r();else{const i=n6("iframefcb");return Br()[i]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},e6(`${t6()}?onload=${i}`).catch(l=>n(l))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function X6(t){return Gd=Gd||Y6(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new qc(5e3,15e3),Z6="__/auth/iframe",eL="emulator/auth/iframe",tL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rL(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,eL):`https://${t.config.authDomain}/${Z6}`,r={apiKey:e.apiKey,appName:t.name,v:Ya},i=nL.get(t.config.apiHost);i&&(r.eid=i);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${$c(r).slice(1)}`}async function sL(t){const e=await X6(t),n=Br().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:rL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tL,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const u=Ur(t,"network-request-failed"),f=Br().setTimeout(()=>{l(u)},J6.get());function p(){Br().clearTimeout(f),i(r)}r.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iL=500,aL=600,lL="_blank",cL="http://localhost";class Aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uL(t,e,n,r=iL,i=aL){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p={...oL,width:r.toString(),height:i.toString(),top:l,left:u},m=Xt().toLowerCase();n&&(f=HN(m)?lL:n),UN(m)&&(e=e||cL,p.scrollbars="yes");const y=Object.entries(p).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(W5(m)&&f!=="_self")return dL(e||"",f),new Aw(null);const x=window.open(e||"",f,y);Pe(x,t,"popup-blocked");try{x.focus()}catch{}return new Aw(x)}function dL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="__/auth/handler",fL="emulator/auth/handler",pL=encodeURIComponent("fac");async function Rw(t,e,n,r,i,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ya,eventId:i};if(e instanceof ZN){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",sR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))u[y]=x}if(e instanceof Qc){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${pL}=${encodeURIComponent(p)}`:"";return`${mL(t)}?${$c(f).slice(1)}${m}`}function mL({config:t}){return t.emulator?Lv(t,fL):`https://${t.authDomain}/${hL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class gL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sC,this._completeRedirectFn=$6,this._overrideRedirectResult=L6}async _openPopup(e,n,r,i){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Rw(e,n,r,ug(),i);return uL(e,l,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const l=await Rw(e,n,r,ug(),i);return x6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(js(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sL(e),r=new U6(e);return n.register("authEvent",i=>(Pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},i=>{const l=i?.[0]?.[fm];l!==void 0&&n(!!l),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QN()||BN()||$v()}}const vL=gL;var Mw="@firebase/auth",Dw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bL(t){Aa(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},m=new J5(r,i,l,p);return s6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Aa(new pi("auth-internal",e=>{const n=zv(e.getProvider("auth").getImmediate());return(r=>new yL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(Mw,Dw,xL(t)),mo(Mw,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=300,_L=$_("authIdTokenMaxAge")||wL;let Ow=null;const EL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_L)return;const i=n?.token;Ow!==i&&(Ow=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dC(t=G_()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r6(t,{popupRedirectResolver:vL,persistence:[k6,g6,sC]}),r=$_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=EL(l.toString());f6(n,u,()=>u(n.currentUser)),h6(n,f=>u(f))}}const i=V_("auth");return i&&o6(n,`http://${i}`),n}function SL(){return document.getElementsByTagName("head")?.[0]??document}Z5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const l=Ur("internal-error");l.customData=i,n(l)},r.type="text/javascript",r.charset="UTF-8",SL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bL("Browser");const of=import.meta?.env?.VITE_FUNCTIONS_BASE_URL||"https://em-estudio.web.app/make-server-ecf7df64",hC=import.meta?.env?.VITE_FUNCTIONS_TOKEN||"firebase-public";function hn(t){const e=of.replace(/\/$/,""),n=t.startsWith("/")?t:`/${t}`;return`${e}${n}`}const Lw=Object.freeze(Object.defineProperty({__proto__:null,FUNCTIONS_BASE_URL:of,FUNCTIONS_TOKEN:hC,functionsUrl:hn},Symbol.toStringTag,{value:"Module"})),NL={apiKey:"AIzaSyBQb8sz5oZVmmk9tOf49CbtAzaHLxwzIJw",authDomain:"em-estudio.firebaseapp.com",databaseURL:"https://em-estudio-default-rtdb.firebaseio.com",projectId:"em-estudio",storageBucket:"em-estudio.firebasestorage.app",messagingSenderId:"642931774003",appId:"1:642931774003:web:b1970320faf53bd7874946"},fC=Fh(NL);dC(fC);Kh(fC);class CL{baseUrl;authToken;constructor(e){this.baseUrl=of,this.authToken=e}setAuthToken(e){this.authToken=e}async exportToMarkdown(e){return this.export({...e,format:"md"})}async exportToHTML(e){return this.export({...e,format:"html"})}async exportToPDF(e){return this.export({...e,format:"pdf"})}async export(e){const n=await fetch(`${this.baseUrl.replace(/\/$/,"")}/api/export/${e.format}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken||"firebase-public"}`},body:JSON.stringify({req:e})});if(!n.ok){const r=await n.json().catch(()=>({error:"Export failed"}));throw new Error(r.error||`Export failed with status ${n.status}`)}return n.json()}async createShareLink(e){const n=await fetch(`${this.baseUrl.replace(/\/$/,"")}/api/share/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken||"firebase-public"}`},body:JSON.stringify({req:e})});if(!n.ok){const r=await n.json().catch(()=>({error:"Share creation failed"}));throw new Error(r.error||`Share creation failed with status ${n.status}`)}return n.json()}async revokeShareLink(e){const n=await fetch(`${this.baseUrl.replace(/\/$/,"")}/api/share/revoke`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken||"firebase-public"}`},body:JSON.stringify({id:e})});if(!n.ok){const r=await n.json().catch(()=>({error:"Revoke failed"}));throw new Error(r.error||`Revoke failed with status ${n.status}`)}return n.json()}async getSharedContent(e){const n=await fetch(`${this.baseUrl.replace(/\/$/,"")}/api/share/get?token=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json().catch(()=>({error:"Failed to load shared content"}));throw new Error(r.error||`Failed to load shared content with status ${n.status}`)}return n.json()}async downloadExport(e){if(e.url)window.open(e.url,"_blank");else if(e.content){const n=new Blob([e.content],{type:e.filename.endsWith(".html")?"text/html":"text/markdown"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}}async copyToClipboard(e){if(navigator.clipboard)await navigator.clipboard.writeText(e);else{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}}async copyShareLink(e){await this.copyToClipboard(e.link)}}const Dr=new CL,{exportToMarkdown:d$,exportToHTML:h$,exportToPDF:f$,createShareLink:p$,revokeShareLink:m$,getSharedContent:g$,downloadExport:v$,copyToClipboard:y$,copyShareLink:x$}=Dr;function jL(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let fg=1;class kL{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,l=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:fg++,u=this.toasts.find(p=>p.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:r}),{...p,...e,id:l,dismissible:f,title:r}):p):this.addToast({title:r,...i,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=r!==void 0,u;const f=i.then(async m=>{if(u=["resolve",m],lt.isValidElement(m))l=!1,this.create({id:r,type:"default",message:m});else if(IL(m)&&!m.ok){l=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,S=typeof x=="object"&&!lt.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:v,...S})}else if(m instanceof Error){l=!1;const x=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,S=typeof x=="object"&&!lt.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:v,...S})}else if(n.success!==void 0){l=!1;const x=typeof n.success=="function"?await n.success(m):n.success,v=typeof n.description=="function"?await n.description(m):n.description,S=typeof x=="object"&&!lt.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:v,...S})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,x=typeof n.description=="function"?await n.description(m):n.description,E=typeof y=="object"&&!lt.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...E})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((m,y)=>f.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,n)=>{const r=n?.id||fg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bn=new kL,TL=(t,e)=>{const n=e?.id||fg++;return Bn.addToast({title:t,...e,id:n}),n},IL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",PL=TL,AL=()=>Bn.toasts,RL=()=>Bn.getActiveToasts(),Tt=Object.assign(PL,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:AL,getToasts:RL});jL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Gv=t=>{const[e,n]=b.useState({isExporting:!1,isSharing:!1,exportError:null,shareError:null,lastExport:null,lastShare:null});t&&Dr.setAuthToken(t);const r=b.useCallback(async E=>{n(S=>({...S,isExporting:!0,exportError:null}));try{let S;switch(E.format){case"md":S=await Dr.exportToMarkdown(E);break;case"html":S=await Dr.exportToHTML(E);break;case"pdf":S=await Dr.exportToPDF(E);break;default:throw new Error(`Formato no soportado: ${E.format}`)}n(k=>({...k,isExporting:!1,lastExport:S}));const C={md:"Markdown",html:"HTML",pdf:"PDF"};return Tt.success(`Chat exportado a ${C[E.format]} exitosamente`),S}catch(S){const C=S instanceof Error?S.message:"Error desconocido";throw n(k=>({...k,isExporting:!1,exportError:C})),Tt.error(`Error al exportar: ${C}`),S}},[]),i=b.useCallback(async()=>{if(!e.lastExport){Tt.error("No hay exportacin disponible para descargar");return}try{await Dr.downloadExport(e.lastExport),Tt.success("Descarga iniciada")}catch(E){const S=E instanceof Error?E.message:"Error en la descarga";Tt.error(`Error al descargar: ${S}`)}},[e.lastExport]),l=b.useCallback(async()=>{if(!e.lastExport?.content){Tt.error("No hay contenido disponible para copiar");return}try{await Dr.copyToClipboard(e.lastExport.content),Tt.success("Contenido copiado al portapapeles")}catch{Tt.error("Error al copiar al portapapeles")}},[e.lastExport]),u=b.useCallback(async E=>{n(S=>({...S,isSharing:!0,shareError:null}));try{const S=await Dr.createShareLink(E);return n(C=>({...C,isSharing:!1,lastShare:S})),Tt.success("Enlace de compartir creado exitosamente"),S}catch(S){const C=S instanceof Error?S.message:"Error desconocido";throw n(k=>({...k,isSharing:!1,shareError:C})),Tt.error(`Error al crear enlace: ${C}`),S}},[]),f=b.useCallback(async()=>{if(!e.lastShare){Tt.error("No hay enlace disponible para copiar");return}try{await Dr.copyShareLink(e.lastShare),Tt.success("Enlace copiado al portapapeles")}catch{Tt.error("Error al copiar enlace")}},[e.lastShare]),p=b.useCallback(async E=>{try{await Dr.revokeShareLink(E),Tt.success("Enlace revocado exitosamente"),n(S=>({...S,lastShare:null}))}catch(S){const C=S instanceof Error?S.message:"Error desconocido";throw Tt.error(`Error al revocar enlace: ${C}`),S}},[]),m=b.useCallback(async(E,S,C="md")=>r({threadId:E,messageId:S,range:"current",format:C,cleanup:{hideMeta:!1,hideChips:!1,maskPII:!1}}),[r]),y=b.useCallback(async(E,S={})=>u({threadId:E,mode:S.mode||"readonly",scope:"thread",expiresDays:S.expiresDays||7,hideUsernames:S.hideUsernames??!0,cleanup:{hideMeta:!0,hideChips:!0,maskPII:!0}}),[u]),x=b.useCallback(()=>{n(E=>({...E,exportError:null,shareError:null}))},[]),v=b.useCallback(()=>{n({isExporting:!1,isSharing:!1,exportError:null,shareError:null,lastExport:null,lastShare:null})},[]);return{...e,exportConversation:r,exportCurrentMessage:m,downloadLastExport:i,copyExportToClipboard:l,createShareLink:u,shareConversation:y,copyShareLink:f,revokeShareLink:p,clearErrors:x,reset:v,hasExport:!!e.lastExport,hasShare:!!e.lastShare,isLoading:e.isExporting||e.isSharing,hasErrors:!!(e.exportError||e.shareError)}};var ML="Separator",Vw="horizontal",DL=["horizontal","vertical"],pC=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=Vw,...i}=t,l=OL(r)?r:Vw,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(Me.div,{"data-orientation":l,...f,...i,ref:e})});pC.displayName=ML;function OL(t){return DL.includes(t)}var LL=pC;function fc({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return a.jsx(LL,{"data-slot":"separator-root",decorative:n,orientation:e,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const pm=({open:t,onOpenChange:e,threadId:n,threadTitle:r,messageCount:i,currentMessageId:l,selectedMessageIds:u=[],authToken:f})=>{const{exportConversation:p,downloadLastExport:m,copyExportToClipboard:y,isExporting:x,lastExport:v,exportError:E,clearErrors:S}=Gv(f),[C,k]=b.useState({format:"md",range:u.length>0?"selection":"thread",hideMeta:!1,hideChips:!1,maskPII:!1}),V={md:Yd,html:Ug,pdf:S_},$={md:"Markdown",html:"HTML",pdf:"PDF"},F=async()=>{S();const K={threadId:n,range:C.range,format:C.format,cleanup:{hideMeta:C.hideMeta,hideChips:C.hideChips,maskPII:C.maskPII},...C.range==="current"&&l?{messageId:l}:{},...C.range==="selection"?{selectionIds:u}:{}};try{await p(K)}catch(I){console.error("Export failed:",I)}},U=()=>{switch(C.range){case"thread":return`${i} mensajes completos`;case"selection":return`${u.length} mensajes seleccionados`;case"current":return"1 mensaje actual";default:return""}},L=K=>K==="selection"&&u.length===0||K==="current"&&!l;return a.jsx(ph,{open:t,onOpenChange:e,children:a.jsxs(Cc,{className:"max-w-md",children:[a.jsxs(jc,{children:[a.jsxs(kc,{className:"flex items-center gap-2",children:[a.jsx(dr,{className:"h-5 w-5"}),"Exportar Conversacin"]}),a.jsxs(Rv,{children:["Exporta ",a.jsx("strong",{children:r})," en el formato que prefieras."]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Formato"}),a.jsx(li,{value:C.format,onValueChange:K=>k(I=>({...I,format:K})),className:"grid grid-cols-3 gap-3",children:Object.entries($).map(([K,I])=>{const j=V[K];return a.jsxs("div",{className:"relative",children:[a.jsx(kn,{value:K,id:K,className:"peer sr-only"}),a.jsxs(Ze,{htmlFor:K,className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[a.jsx(j,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium",children:I})]})]},K)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Contenido"}),a.jsxs(li,{value:C.range,onValueChange:K=>k(I=>({...I,range:K})),className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"thread",id:"thread"}),a.jsxs(Ze,{htmlFor:"thread",className:"text-sm",children:["Conversacin completa",a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",i," mensajes)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"selection",id:"selection",disabled:L("selection")}),a.jsxs(Ze,{htmlFor:"selection",className:`text-sm ${L("selection")?"text-muted-foreground":""}`,children:["Mensajes seleccionados",a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",u.length," seleccionados)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"current",id:"current",disabled:L("current")}),a.jsx(Ze,{htmlFor:"current",className:`text-sm ${L("current")?"text-muted-foreground":""}`,children:"Mensaje actual"})]})]})]}),a.jsx(fc,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Opciones de limpieza"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"hideMeta",checked:C.hideMeta,onCheckedChange:K=>k(I=>({...I,hideMeta:!!K}))}),a.jsx(Ze,{htmlFor:"hideMeta",className:"text-sm",children:"Ocultar metadatos (fechas, IDs)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"hideChips",checked:C.hideChips,onCheckedChange:K=>k(I=>({...I,hideChips:!!K}))}),a.jsx(Ze,{htmlFor:"hideChips",className:"text-sm",children:"Ocultar chips de Brand Guard"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"maskPII",checked:C.maskPII,onCheckedChange:K=>k(I=>({...I,maskPII:!!K}))}),a.jsx(Ze,{htmlFor:"maskPII",className:"text-sm",children:"Enmascarar informacin personal (PII)"})]})]})]}),a.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(xt,{variant:"outline",children:$[C.format]}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"text-muted-foreground",children:U()})]})}),E&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[a.jsx(Ss,{className:"h-4 w-4"}),a.jsx("span",{children:E})]})}),v&&!x&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 mb-2",children:[a.jsx(bt,{className:"h-4 w-4"}),a.jsxs("span",{children:["Exportacin completada: ",v.filename]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ce,{size:"sm",variant:"outline",onClick:m,className:"h-8",children:[a.jsx(dr,{className:"h-3 w-3 mr-1"}),"Descargar"]}),v.content&&a.jsxs(Ce,{size:"sm",variant:"outline",onClick:y,className:"h-8",children:[a.jsx(yc,{className:"h-3 w-3 mr-1"}),"Copiar"]})]})]})]}),a.jsxs(Av,{children:[a.jsx(Ce,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),a.jsx(Ce,{onClick:F,disabled:x||L(C.range),children:x?a.jsxs(a.Fragment,{children:[a.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}),"Exportando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Exportar"]})})]})]})})},mm=({open:t,onOpenChange:e,threadId:n,threadTitle:r,messageCount:i,selectedMessageIds:l=[],authToken:u})=>{const{createShareLink:f,copyShareLink:p,revokeShareLink:m,isSharing:y,lastShare:x,shareError:v,clearErrors:E}=Gv(u),[S,C]=b.useState({mode:"readonly",scope:l.length>0?"selection":"thread",expiresDays:7,hideUsernames:!0,hideMeta:!0,hideChips:!0,maskPII:!0}),[k,V]=b.useState("7"),$=async()=>{E();const j={threadId:n,mode:S.mode,scope:S.scope,expiresDays:S.expiresDays||void 0,hideUsernames:S.hideUsernames,cleanup:{hideMeta:S.hideMeta,hideChips:S.hideChips,maskPII:S.maskPII},...S.scope==="selection"?{selectionIds:l}:{}};try{await f(j)}catch(A){console.error("Share failed:",A)}},F=async()=>{if(x)try{await m(x.token)}catch(j){console.error("Revoke failed:",j)}},U=()=>{switch(S.scope){case"thread":return`${i} mensajes completos`;case"selection":return`${l.length} mensajes seleccionados`;default:return""}},L=()=>S.expiresDays?S.expiresDays===1?"1 da":`${S.expiresDays} das`:"Sin expiracin",K=()=>x?.expires_at?new Date(x.expires_at).toLocaleString():null,I=[{value:1,label:"1 da"},{value:7,label:"1 semana"},{value:30,label:"1 mes"},{value:0,label:"Sin expiracin"}];return a.jsx(ph,{open:t,onOpenChange:e,children:a.jsxs(Cc,{className:"max-w-md",children:[a.jsxs(jc,{children:[a.jsxs(kc,{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-5 w-5"}),"Compartir Conversacin"]}),a.jsxs(Rv,{children:["Crea un enlace seguro para compartir ",a.jsx("strong",{children:r}),"."]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Modo de acceso"}),a.jsxs(li,{value:S.mode,onValueChange:j=>C(A=>({...A,mode:j})),className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(kn,{value:"readonly",id:"readonly",className:"peer sr-only"}),a.jsxs(Ze,{htmlFor:"readonly",className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[a.jsx(gP,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Solo lectura"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(kn,{value:"comments",id:"comments",className:"peer sr-only"}),a.jsxs(Ze,{htmlFor:"comments",className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[a.jsx(Lc,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Con comentarios"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Contenido"}),a.jsxs(li,{value:S.scope,onValueChange:j=>C(A=>({...A,scope:j})),className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"thread",id:"thread-share"}),a.jsxs(Ze,{htmlFor:"thread-share",className:"text-sm",children:["Conversacin completa",a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",i," mensajes)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"selection",id:"selection-share",disabled:l.length===0}),a.jsxs(Ze,{htmlFor:"selection-share",className:`text-sm ${l.length===0?"text-muted-foreground":""}`,children:["Mensajes seleccionados",a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",l.length," seleccionados)"]})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:"Expiracin"}),a.jsx(li,{value:S.expiresDays.toString(),onValueChange:j=>{const A=parseInt(j);C(M=>({...M,expiresDays:A})),V(j)},className:"grid grid-cols-2 gap-2",children:I.map(j=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:j.value.toString(),id:`expire-${j.value}`}),a.jsx(Ze,{htmlFor:`expire-${j.value}`,className:"text-sm",children:j.label})]},j.value))})]}),a.jsx(fc,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Ze,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(T_,{className:"h-4 w-4"}),"Opciones de privacidad"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"hideUsernames",checked:S.hideUsernames,onCheckedChange:j=>C(A=>({...A,hideUsernames:!!j}))}),a.jsx(Ze,{htmlFor:"hideUsernames",className:"text-sm",children:"Ocultar nombres de usuario"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"hideMeta-share",checked:S.hideMeta,onCheckedChange:j=>C(A=>({...A,hideMeta:!!j}))}),a.jsx(Ze,{htmlFor:"hideMeta-share",className:"text-sm",children:"Ocultar metadatos internos"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"hideChips-share",checked:S.hideChips,onCheckedChange:j=>C(A=>({...A,hideChips:!!j}))}),a.jsx(Ze,{htmlFor:"hideChips-share",className:"text-sm",children:"Ocultar alertas de Brand Guard"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{id:"maskPII-share",checked:S.maskPII,onCheckedChange:j=>C(A=>({...A,maskPII:!!j}))}),a.jsx(Ze,{htmlFor:"maskPII-share",className:"text-sm",children:"Enmascarar informacin personal"})]})]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[a.jsx(xt,{variant:"outline",children:S.mode==="readonly"?"Solo lectura":"Con comentarios"}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"text-muted-foreground",children:U()})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Dh,{className:"h-3 w-3"}),a.jsxs("span",{children:["Expira en ",L()]})]})]}),v&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[a.jsx(Ss,{className:"h-4 w-4"}),a.jsx("span",{children:v})]})}),x&&!y&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 mb-3",children:[a.jsx(bt,{className:"h-4 w-4"}),a.jsx("span",{children:"Enlace creado exitosamente"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white border rounded p-2",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Enlace compartible:"}),a.jsx("div",{className:"text-sm font-mono break-all",children:x.link})]}),K()&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expira el ",K()]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ce,{size:"sm",variant:"outline",onClick:p,className:"h-8",children:[a.jsx(yc,{className:"h-3 w-3 mr-1"}),"Copiar enlace"]}),a.jsxs(Ce,{size:"sm",variant:"outline",onClick:()=>window.open(x.link,"_blank"),className:"h-8",children:[a.jsx(pP,{className:"h-3 w-3 mr-1"}),"Abrir"]}),a.jsx(Ce,{size:"sm",variant:"destructive",onClick:F,className:"h-8",children:"Revocar"})]})]})]})]}),a.jsxs(Av,{children:[a.jsx(Ce,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),a.jsx(Ce,{onClick:$,disabled:y||S.scope==="selection"&&l.length===0,children:y?a.jsxs(a.Fragment,{children:[a.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Crear enlace"]})})]})]})})},VL=({threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:i=[],authToken:l,variant:u="buttons",className:f=""})=>{const[p,m]=b.useState(!1),[y,x]=b.useState(!1),{exportCurrentMessage:v,shareConversation:E,isLoading:S}=Gv(l),C=async()=>{if(!r){Tt.error("No hay mensaje actual para exportar");return}try{const V=await v(t,r,"md");V.content&&(await navigator.clipboard.writeText(V.content),Tt.success("Mensaje copiado como Markdown"))}catch{}},k=async()=>{try{const V=await E(t,{mode:"readonly",expiresDays:7,hideUsernames:!0});V&&(await navigator.clipboard.writeText(V.link),Tt.success("Enlace de compartir copiado al portapapeles"))}catch{}};return u==="compact"?a.jsxs("div",{className:`flex items-center ${f}`,children:[a.jsxs(ig,{children:[a.jsx(ag,{asChild:!0,children:a.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(hP,{className:"h-4 w-4"})})}),a.jsxs(lg,{align:"end",className:"w-48",children:[a.jsxs(pn,{onClick:C,disabled:!r||S,children:[S?a.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(yc,{className:"mr-2 h-4 w-4"}),"Copiar mensaje"]}),a.jsxs(pn,{onClick:()=>m(!0),children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Exportar..."]}),a.jsx(hh,{}),a.jsxs(pn,{onClick:k,disabled:S,children:[S?a.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Compartir rpido"]}),a.jsxs(pn,{onClick:()=>x(!0),children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Compartir..."]})]})]}),a.jsx(pm,{open:p,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:i,authToken:l}),a.jsx(mm,{open:y,onOpenChange:x,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:i,authToken:l})]}):u==="dropdown"?a.jsxs("div",{className:`flex items-center ${f}`,children:[a.jsxs(ig,{children:[a.jsx(ag,{asChild:!0,children:a.jsxs(Ce,{variant:"outline",size:"sm",children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Exportar"]})}),a.jsxs(lg,{align:"end",className:"w-48",children:[a.jsxs(pn,{onClick:C,disabled:!r||S,children:[S?a.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Yd,{className:"mr-2 h-4 w-4"}),"Copiar como MD"]}),a.jsx(hh,{}),a.jsxs(pn,{onClick:()=>m(!0),children:[a.jsx(Yd,{className:"mr-2 h-4 w-4"}),"Markdown"]}),a.jsxs(pn,{onClick:()=>m(!0),children:[a.jsx(Ug,{className:"mr-2 h-4 w-4"}),"HTML"]}),a.jsxs(pn,{onClick:()=>m(!0),children:[a.jsx(S_,{className:"mr-2 h-4 w-4"}),"PDF"]})]})]}),a.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"ml-2",children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Compartir"]}),a.jsx(pm,{open:p,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:i,authToken:l}),a.jsx(mm,{open:y,onOpenChange:x,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:i,authToken:l})]}):a.jsxs("div",{className:`flex items-center gap-2 ${f}`,children:[a.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Exportar"]}),a.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>x(!0),children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Compartir"]}),r&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:C,disabled:S,title:"Copiar mensaje actual como Markdown",children:S?a.jsx(ys,{className:"h-4 w-4 animate-spin"}):a.jsx(yc,{className:"h-4 w-4"})}),a.jsx(pm,{open:p,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:i,authToken:l}),a.jsx(mm,{open:y,onOpenChange:x,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:i,authToken:l})]})};var Xc="Menubar",[pg,FL,$L]=mv(Xc),[mC]=nn(Xc,[$L,Ja]),sn=bv(),gC=Ja(),[zL,Wv]=mC(Xc),vC=b.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:l,loop:u=!0,dir:f,...p}=t,m=Hc(f),y=gC(n),[x,v]=_o({prop:r,onChange:i,defaultProp:l??"",caller:Xc}),[E,S]=b.useState(null);return a.jsx(zL,{scope:n,value:x,onMenuOpen:b.useCallback(C=>{v(C),S(C)},[v]),onMenuClose:b.useCallback(()=>v(""),[v]),onMenuToggle:b.useCallback(C=>{v(k=>k?"":C),S(C)},[v]),dir:m,loop:u,children:a.jsx(pg.Provider,{scope:n,children:a.jsx(pg.Slot,{scope:n,children:a.jsx(vv,{asChild:!0,...y,orientation:"horizontal",loop:u,dir:m,currentTabStopId:E,onCurrentTabStopIdChange:S,children:a.jsx(Me.div,{role:"menubar",...p,ref:e})})})})})});vC.displayName=Xc;var Kv="MenubarMenu",[UL,yC]=mC(Kv),xC=t=>{const{__scopeMenubar:e,value:n,...r}=t,i=ur(),l=n||i||"LEGACY_REACT_AUTO_VALUE",u=Wv(Kv,e),f=sn(e),p=b.useRef(null),m=b.useRef(!1),y=u.value===l;return b.useEffect(()=>{y||(m.current=!1)},[y]),a.jsx(UL,{scope:e,value:l,triggerId:ur(),triggerRef:p,contentId:ur(),wasKeyboardTriggerOpenRef:m,children:a.jsx(xS,{...f,open:y,onOpenChange:x=>{x||u.onMenuClose()},modal:!1,dir:u.dir,...r})})};xC.displayName=Kv;var mg="MenubarTrigger",bC=b.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=t,l=gC(n),u=sn(n),f=Wv(mg,n),p=yC(mg,n),m=b.useRef(null),y=Ke(e,m,p.triggerRef),[x,v]=b.useState(!1),E=f.value===p.value;return a.jsx(pg.ItemSlot,{scope:n,value:p.value,disabled:r,children:a.jsx(yv,{asChild:!0,...l,focusable:!r,tabStopId:p.value,children:a.jsx(bS,{asChild:!0,...u,children:a.jsx(Me.button,{type:"button",role:"menuitem",id:p.triggerId,"aria-haspopup":"menu","aria-expanded":E,"aria-controls":E?p.contentId:void 0,"data-highlighted":x?"":void 0,"data-state":E?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:y,onPointerDown:pe(t.onPointerDown,S=>{!r&&S.button===0&&S.ctrlKey===!1&&(f.onMenuOpen(p.value),E||S.preventDefault())}),onPointerEnter:pe(t.onPointerEnter,()=>{!!f.value&&!E&&(f.onMenuOpen(p.value),m.current?.focus())}),onKeyDown:pe(t.onKeyDown,S=>{r||(["Enter"," "].includes(S.key)&&f.onMenuToggle(p.value),S.key==="ArrowDown"&&f.onMenuOpen(p.value),["Enter"," ","ArrowDown"].includes(S.key)&&(p.wasKeyboardTriggerOpenRef.current=!0,S.preventDefault()))}),onFocus:pe(t.onFocus,()=>v(!0)),onBlur:pe(t.onBlur,()=>v(!1))})})})})});bC.displayName=mg;var BL="MenubarPortal",wC=t=>{const{__scopeMenubar:e,...n}=t,r=sn(e);return a.jsx(wS,{...r,...n})};wC.displayName=BL;var gg="MenubarContent",_C=b.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...i}=t,l=sn(n),u=Wv(gg,n),f=yC(gg,n),p=FL(n),m=b.useRef(!1);return a.jsx(_S,{id:f.contentId,"aria-labelledby":f.triggerId,"data-radix-menubar-content":"",...l,...i,ref:e,align:r,onCloseAutoFocus:pe(t.onCloseAutoFocus,y=>{!!!u.value&&!m.current&&f.triggerRef.current?.focus(),m.current=!1,y.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,y=>{const x=y.target;p().some(E=>E.ref.current?.contains(x))&&y.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,()=>{m.current=!0}),onEntryFocus:y=>{f.wasKeyboardTriggerOpenRef.current||y.preventDefault()},onKeyDown:pe(t.onKeyDown,y=>{if(["ArrowRight","ArrowLeft"].includes(y.key)){const x=y.target,v=x.hasAttribute("data-radix-menubar-subtrigger"),E=x.closest("[data-radix-menubar-content]")!==y.currentTarget,C=(u.dir==="rtl"?"ArrowRight":"ArrowLeft")===y.key;if(!C&&v||E&&C)return;let $=p().filter(L=>!L.disabled).map(L=>L.value);C&&$.reverse();const F=$.indexOf(f.value);$=u.loop?uV($,F+1):$.slice(F+1);const[U]=$;U&&u.onMenuOpen(U)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});_C.displayName=gg;var HL="MenubarGroup",GL=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(ES,{...i,...r,ref:e})});GL.displayName=HL;var WL="MenubarLabel",KL=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(SS,{...i,...r,ref:e})});KL.displayName=WL;var qL="MenubarItem",EC=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(NS,{...i,...r,ref:e})});EC.displayName=qL;var QL="MenubarCheckboxItem",YL=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(CS,{...i,...r,ref:e})});YL.displayName=QL;var XL="MenubarRadioGroup",JL=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(jS,{...i,...r,ref:e})});JL.displayName=XL;var ZL="MenubarRadioItem",eV=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(kS,{...i,...r,ref:e})});eV.displayName=ZL;var tV="MenubarItemIndicator",nV=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(TS,{...i,...r,ref:e})});nV.displayName=tV;var rV="MenubarSeparator",SC=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(IS,{...i,...r,ref:e})});SC.displayName=rV;var sV="MenubarArrow",oV=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(PS,{...i,...r,ref:e})});oV.displayName=sV;var iV="MenubarSubTrigger",aV=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(AS,{"data-radix-menubar-subtrigger":"",...i,...r,ref:e})});aV.displayName=iV;var lV="MenubarSubContent",cV=b.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=sn(n);return a.jsx(RS,{...i,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});cV.displayName=lV;function uV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dV=vC,hV=xC,fV=bC,pV=wC,mV=_C,gV=EC,vV=SC;function yV({className:t,...e}){return a.jsx(dV,{"data-slot":"menubar",className:Fe("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",t),...e})}function Xl({...t}){return a.jsx(hV,{"data-slot":"menubar-menu",...t})}function xV({...t}){return a.jsx(pV,{"data-slot":"menubar-portal",...t})}function Jl({className:t,...e}){return a.jsx(fV,{"data-slot":"menubar-trigger",className:Fe("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",t),...e})}function Zl({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...i}){return a.jsx(xV,{children:a.jsx(mV,{"data-slot":"menubar-content",align:e,alignOffset:n,sideOffset:r,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",t),...i})})}function Vt({className:t,inset:e,variant:n="default",...r}){return a.jsx(gV,{"data-slot":"menubar-item","data-inset":e,"data-variant":n,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function gm({className:t,...e}){return a.jsx(vV,{"data-slot":"menubar-separator",className:Fe("bg-border -mx-1 my-1 h-px",t),...e})}function bV(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1);return b.useEffect(()=>{const f=()=>{const p=window.innerWidth<=768;r(p),!p&&n?e(!0):p&&!n?e(!1):n===!1&&!p&&e(!0)};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[n]),{isOpen:t,isMobile:n,toggle:()=>e(!t),close:()=>e(!1),open:()=>e(!0)}}const NC=b.createContext(void 0);function wV({children:t}){const e=bV();return a.jsx(NC.Provider,{value:e,children:t})}function CC(){const t=b.useContext(NC);if(t===void 0)throw new Error("useSidebarContext must be used within a SidebarProvider");return t}function _V({activeModule:t,threadId:e,threadTitle:n="Chat sin ttulo",messageCount:r=0,authToken:i,showMasterMenu:l=!1}={}){const{toggle:u,isMobile:f}=CC(),p=t==="chat"&&e&&r>0;return a.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[f&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:u,className:"md:hidden p-2",children:a.jsx(VP,{className:"w-5 h-5"})}),l&&f&&a.jsxs(ig,{children:[a.jsx(ag,{asChild:!0,children:a.jsx(Ce,{variant:"ghost",size:"sm",className:"lg:hidden p-2",children:a.jsx(pA,{className:"w-5 h-5"})})}),a.jsxs(lg,{align:"start",className:"w-48",children:[a.jsx(dm,{children:"Archivo"}),a.jsxs(pn,{children:[a.jsx(J0,{className:"mr-2 h-4 w-4"}),"Nuevo proyecto"]}),a.jsxs(pn,{children:[a.jsx(tb,{className:"mr-2 h-4 w-4"}),"Guardar"]}),a.jsx(hh,{}),a.jsx(dm,{children:"Edicin"}),a.jsxs(pn,{children:[a.jsx(rb,{className:"mr-2 h-4 w-4"}),"Deshacer"]}),a.jsxs(pn,{children:[a.jsx(eb,{className:"mr-2 h-4 w-4"}),"Rehacer"]}),a.jsx(hh,{}),a.jsx(dm,{children:"Exportar"}),a.jsxs(pn,{children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Preflight QA"]}),a.jsxs(pn,{children:[a.jsx(X0,{className:"mr-2 h-4 w-4"}),"Exportar MP4"]})]})]}),a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:a.jsx(Xd,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-foreground font-semibold",children:"AI Content Studio"}),a.jsx("div",{className:"flex items-center gap-2 -mt-1",children:a.jsx(xt,{variant:"outline",className:"text-xs bg-green-100 text-green-700 border-green-300",children:"Sistema Completo"})})]})]}),a.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4",children:[l&&a.jsx("div",{className:"hidden lg:block",children:a.jsxs(yV,{className:"bg-white border border-gray-200 shadow-sm",children:[a.jsxs(Xl,{children:[a.jsx(Jl,{className:"text-sm",children:"Archivo"}),a.jsxs(Zl,{children:[a.jsxs(Vt,{children:[a.jsx(J0,{className:"mr-2 h-4 w-4"}),"Nuevo proyecto"]}),a.jsxs(Vt,{children:[a.jsx(tb,{className:"mr-2 h-4 w-4"}),"Guardar"]}),a.jsx(gm,{}),a.jsxs(Vt,{children:[a.jsx(Fm,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]}),a.jsxs(Xl,{children:[a.jsx(Jl,{className:"text-sm",children:"Edicin"}),a.jsxs(Zl,{children:[a.jsxs(Vt,{children:[a.jsx(rb,{className:"mr-2 h-4 w-4"}),"Deshacer"]}),a.jsxs(Vt,{children:[a.jsx(eb,{className:"mr-2 h-4 w-4"}),"Rehacer"]}),a.jsx(gm,{}),a.jsxs(Vt,{children:[a.jsx(nA,{className:"mr-2 h-4 w-4"}),"Cortar"]}),a.jsxs(Vt,{children:[a.jsx(yc,{className:"mr-2 h-4 w-4"}),"Copiar"]}),a.jsxs(Vt,{children:[a.jsx(iP,{className:"mr-2 h-4 w-4"}),"Pegar"]})]})]}),a.jsxs(Xl,{children:[a.jsx(Jl,{className:"text-sm",children:"Capas"}),a.jsxs(Zl,{children:[a.jsxs(Vt,{children:[a.jsx(Z0,{className:"mr-2 h-4 w-4"}),"Ordenar capas"]}),a.jsxs(Vt,{children:[a.jsx(Z0,{className:"mr-2 h-4 w-4"}),"Agrupar"]}),a.jsxs(Vt,{children:[a.jsx(Xd,{className:"mr-2 h-4 w-4"}),"Bloquear"]})]})]}),a.jsxs(Xl,{children:[a.jsx(Jl,{className:"text-sm",children:"Subttulos"}),a.jsxs(Zl,{children:[a.jsxs(Vt,{children:[a.jsx(zP,{className:"mr-2 h-4 w-4"}),"Generar IA"]}),a.jsxs(Vt,{children:[a.jsx(Bg,{className:"mr-2 h-4 w-4"}),"Sincronizar"]}),a.jsxs(Vt,{children:[a.jsx(AP,{className:"mr-2 h-4 w-4"}),"Traducir"]})]})]}),a.jsxs(Xl,{children:[a.jsx(Jl,{className:"text-sm",children:"Exportar"}),a.jsxs(Zl,{children:[a.jsxs(Vt,{children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Preflight QA"]}),a.jsx(gm,{}),a.jsxs(Vt,{children:[a.jsx(X0,{className:"mr-2 h-4 w-4"}),"Exportar MP4"]}),a.jsxs(Vt,{children:[a.jsx(Fm,{className:"mr-2 h-4 w-4"}),"Exportar multiformato"]})]})]})]})}),a.jsx(PA,{}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-gray-50 px-2 py-1 rounded border",children:[a.jsx("span",{className:"hidden sm:inline",children:"K"}),a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{children:"Paleta de comandos"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(HD,{showControls:!1}),p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-6 w-px bg-border"}),a.jsx(VL,{threadId:e,threadTitle:n,messageCount:r,authToken:i,variant:"compact"})]}),a.jsx("div",{className:"h-6 w-px bg-border"}),a.jsxs(Ce,{variant:"default",className:"flex items-center gap-2",children:[a.jsx(j_,{className:"w-4 h-4"}),"Nuevo Proyecto"]}),a.jsx(kk,{className:"w-9 h-9",children:a.jsx(Tk,{className:"bg-muted text-muted-foreground",children:"US"})})]})]})}const EV=[{id:"chat",label:"Chat Maestro",icon:zg,highlight:!0},{id:"posts",label:"Posts/Carrousels",icon:Ia},{id:"videos",label:"Videos",icon:CA},{id:"podcasts",label:"Podcasts",icon:C_},{id:"stories",label:"Historias",icon:cA},{id:"calendar",label:"Calendar",icon:vc},{id:"library",label:"Biblioteca",icon:EP},{id:"brandkit",label:"BrandKit",icon:xc},{id:"analytics",label:"Analytics",icon:qI},{id:"automation",label:"Automatizacin",icon:$m},{id:"competition",label:"Competencia",icon:yA}],SV=b.memo(function({activeModule:e,onModuleChange:n}){const{isOpen:r,isMobile:i,close:l}=CC(),u=f=>{n(f),i&&l()};return!r&&!i?null:a.jsxs(a.Fragment,{children:[i&&r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:l}),a.jsxs("aside",{className:`
          ${i?`fixed left-0 top-0 h-full w-80 z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"}`:"relative w-1/5 min-w-64"}
          bg-sidebar border-r border-sidebar-border flex flex-col
        `,children:[i&&a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[a.jsx("h2",{className:"text-sidebar-foreground",children:"AI Content Studio"}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:l,className:"p-2 text-sidebar-foreground hover:bg-sidebar-accent",children:a.jsx(hi,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:EV.map(f=>{const p=f.icon,m=e===f.id,y=f.highlight;return a.jsxs(Ce,{variant:m?"secondary":"ghost",className:`w-full justify-start gap-3 h-12 text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground ${m?"bg-sidebar-primary text-sidebar-primary-foreground hover:bg-sidebar-primary hover:text-sidebar-primary-foreground":""} ${y&&!m?"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 hover:from-purple-100 hover:to-blue-100 dark:from-purple-900/20 dark:to-blue-900/20 dark:border-purple-700":""}`,onClick:()=>u(f.id),children:[a.jsx(p,{className:`w-5 h-5 ${y&&!m?"text-purple-600 dark:text-purple-400":""}`}),a.jsx("span",{className:`${y&&!m?"text-purple-700 font-medium dark:text-purple-300":""}`,children:f.label}),y&&!m&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-purple-400 rounded-full animate-pulse"})]},f.id)})}),a.jsx("div",{className:"p-4 border-t border-sidebar-border/50",children:a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-3 border border-green-200 dark:border-green-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Sistema Activo"})]}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Todos los mdulos disponibles y funcionando correctamente."})]})})]})]})}),jC=b.createContext(void 0);function NV({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState("briefing"),l=F=>{if(!e)return;const U={...e,...F,updatedAt:new Date};n(U)},u=F=>{e&&l({briefing:{...e.briefing,...F},status:"briefing"})},f=F=>{e&&l({scenes:[...e.scenes,F],status:"generating"})},p=(F,U)=>{if(!e)return;const L=e.scenes.map(K=>K.id===F?{...K,...U}:K);l({scenes:L})},m=F=>{if(!e)return;const U=e.scenes.map(L=>({...L,isSelected:F.includes(L.id)}));l({scenes:U,selectedSceneIds:F,status:"editing"})},y=F=>{e&&l({timeline:{...e.timeline,...F}})},x=F=>{e&&l({copywriting:{...e.copywriting,...F},status:"finalizing"})},v=["briefing","configuration","storyboard","generation","editing","copywriting","publishing"],$={currentProject:e,setCurrentProject:n,updateProject:l,updateBriefing:u,addScene:f,updateScene:p,selectScenes:m,updateTimeline:y,updateCopywriting:x,currentStep:r,setCurrentStep:i,goToNextStep:()=>{const F=v.indexOf(r);F<v.length-1&&i(v[F+1])},goToPreviousStep:()=>{const F=v.indexOf(r);F>0&&i(v[F-1])},saveProject:async()=>{if(e)try{const F={...e,updatedAt:new Date};console.log("Saving video project:",F)}catch(F){throw console.error("Error saving video project:",F),F}},loadProject:async F=>{try{console.log("Loading video project:",F)}catch(U){throw console.error("Error loading video project:",U),U}},createNewProject:F=>{const U={id:`video_project_${Date.now()}`,title:`Nuevo ${F==="short"?"Short/Reel":F==="video_long"?"Video Largo":F}`,type:F,status:"briefing",briefing:{description:"",videoType:F,duration:{target:30,min:15,max:60,label:"30s"},platform:F==="short"?"multiple":"youtube",style:F==="short"?"trendy":"dynamic",chatHistory:[],objectives:F==="short"?["viral"]:[]},scenes:[],selectedSceneIds:[],timeline:{totalDuration:0,scenes:[],globalLayers:[],audioTracks:[],markers:[]},copywriting:{caption:"",hashtags:[],tone:"",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(U),i("briefing")}};return a.jsx(jC.Provider,{value:$,children:t})}function b$(){const t=b.useContext(jC);if(t===void 0)throw new Error("useVideoProject must be used within a VideoProjectProvider");return t}const kC=b.createContext(void 0);function CV({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState("briefing"),l=F=>{if(!e)return;const U={...e,...F,updatedAt:new Date};n(U)},u=F=>{e&&l({briefing:{...e.briefing,...F},status:"briefing"})},f=F=>{e&&l({configuration:{...e.configuration,...F},status:"configuring"})},p=F=>{e&&l({designs:[...e.designs,F],status:"generating"})},m=F=>{if(!e)return;const U=e.designs.map(L=>({...L,isSelected:L.id===F}));l({designs:U,selectedDesignId:F,status:"editing"})},y=F=>{if(!e||!e.selectedDesignId)return;const U=e.designs.map(L=>L.id===e.selectedDesignId?{...L,...F}:L);l({designs:U})},x=F=>{e&&l({copywriting:{...e.copywriting,...F},status:"finalizing"})},v=["briefing","configuration","generation","editing","copywriting","caption","publishing"],$={currentProject:e,setCurrentProject:n,updateProject:l,updateBriefing:u,updateConfiguration:f,addDesign:p,selectDesign:m,updateSelectedDesign:y,updateCopywriting:x,currentStep:r,setCurrentStep:i,goToNextStep:()=>{const F=v.indexOf(r);F<v.length-1&&i(v[F+1])},goToPreviousStep:()=>{const F=v.indexOf(r);F>0&&i(v[F-1])},saveProject:async()=>{if(e)try{const F={...e,updatedAt:new Date};console.log("Saving project:",F)}catch(F){throw console.error("Error saving project:",F),F}},loadProject:async F=>{try{console.log("Loading project:",F)}catch(U){throw console.error("Error loading project:",U),U}},createNewProject:F=>{const U={id:`project_${Date.now()}`,title:`Nuevo ${F==="post"?"Post":"Carrusel"}`,type:F,status:"briefing",briefing:{description:"",chatHistory:[],referenceImages:[],objectives:[]},configuration:{socialPlatforms:["instagram"],primaryPlatform:"instagram",generationCount:3,format:{ratio:"1:1",name:"Cuadrado",width:1080,height:1080},dimensions:{width:1080,height:1080}},designs:[],copywriting:{caption:"",hashtags:[],tone:"",length:"medium",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(U),i("briefing")}};return a.jsx(kC.Provider,{value:$,children:t})}function w$(){const t=b.useContext(kC);if(t===void 0)throw new Error("usePostProject must be used within a PostProjectProvider");return t}const TC=b.createContext(void 0);function jV({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState("briefing"),l=L=>{if(!e)return;const K={...e,...L,updatedAt:new Date};n(K)},u=L=>{e&&l({briefing:{...e.briefing,...L},status:"briefing"})},f=L=>{e&&l({concepts:[...e.concepts,L],status:"generating"})},p=L=>{if(!e)return;const K=e.concepts.find(A=>A.id===L);if(!K)return;const I=m(K),j=e.concepts.map(A=>({...A,isSelected:A.id===L}));l({concepts:j,selectedConceptId:L,layers:I,status:"editing"})},m=L=>{const K=[];let I=0;K.push({id:`bg_${L.id}`,type:"background",name:"Fondo",content:{type:L.layout.background.type,primaryColor:L.layout.background.primaryColor,secondaryColor:L.layout.background.secondaryColor,direction:L.layout.background.direction},position:{x:0,y:0,width:100,height:100},style:{backgroundColor:L.layout.background.primaryColor},visible:!0,locked:!1,zIndex:I++});const j=L.layout.textPlacement.area,A=j==="top"?15:j==="center"?45:75;if(K.push({id:`text_${L.id}`,type:"text",name:"Texto Principal",content:{text:L.title,fontSize:36,fontFamily:L.brandElements.fonts[0]?.family||"Inter",fontWeight:"700"},position:{x:10,y:A,width:80,height:15},style:{fontSize:36,fontFamily:L.brandElements.fonts[0]?.family||"Inter",fontWeight:"700",color:"#FFFFFF",textAlign:L.layout.textPlacement.alignment},visible:!0,locked:!1,zIndex:I++,animation:{type:"fade_in",duration:.5}}),L.layout.logoPosition!=="hidden"){const M=y(L.layout.logoPosition);K.push({id:`logo_${L.id}`,type:"logo",name:"Logo",content:{type:"placeholder",text:"LOGO"},position:M,style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:8,color:"#FFFFFF"},visible:!0,locked:!1,zIndex:I++})}return L.layout.overlays.forEach((M,O)=>{K.push({id:`overlay_${L.id}_${O}`,type:"shape",name:`Overlay ${O+1}`,content:{type:M.type},position:M.position,style:M.style,visible:!0,locked:!1,zIndex:I++})}),K},y=L=>{switch(L){case"top-left":return{x:5,y:5,width:15,height:8};case"top-right":return{x:80,y:5,width:15,height:8};case"bottom-left":return{x:5,y:87,width:15,height:8};case"bottom-right":return{x:80,y:87,width:15,height:8};case"center":return{x:42.5,y:46,width:15,height:8};default:return{x:80,y:87,width:15,height:8}}},x=L=>{e&&l({layers:L})},v=(L,K)=>{if(!e)return;const I=e.layers.map(j=>j.id===L?{...j,...K}:j);l({layers:I})},E=L=>{e&&l({copywriting:{...e.copywriting,...L},status:"finalizing"})},S=["briefing","configuration","generation","advanced-editing","captions","publishing"],U={currentProject:e,setCurrentProject:n,updateProject:l,updateBriefing:u,addConcept:f,selectConcept:p,updateLayers:x,updateLayer:v,updateCopywriting:E,currentStep:r,setCurrentStep:i,goToNextStep:()=>{const L=S.indexOf(r);L<S.length-1&&i(S[L+1])},goToPreviousStep:()=>{const L=S.indexOf(r);L>0&&i(S[L-1])},saveProject:async()=>{if(e)try{const L={...e,updatedAt:new Date};console.log("Saving story project:",L)}catch(L){throw console.error("Error saving story project:",L),L}},loadProject:async L=>{try{console.log("Loading story project:",L)}catch(K){throw console.error("Error loading story project:",K),K}},createNewProject:L=>{const K={id:`story_project_${Date.now()}`,title:"Nueva Historia",type:"story",objective:L,status:"briefing",briefing:{description:"",objective:L,platform:"instagram",duration:{seconds:10,label:"10s (Estndar)",autoAdvance:!0},chatHistory:[]},concepts:[],layers:[],copywriting:{mainText:"",hashtags:[],tone:"",length:"short",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(K),i("briefing")}};return a.jsx(TC.Provider,{value:U,children:t})}function qv(){const t=b.useContext(TC);if(t===void 0)throw new Error("useStoryProject must be used within a StoryProjectProvider");return t}const IC=b.createContext(void 0);function kV({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState("briefing"),l=D=>{if(!e)return;const P={...e,...D,updatedAt:new Date};n(P)},u=D=>{e&&l({briefing:{...e.briefing,...D},status:"briefing"})},f=D=>{e&&l({recording:{...e.recording,...D},status:D.status==="completed"?"transcribing":"recording"})},p=D=>{e&&l({transcription:{...e.transcription,...D},status:D.status==="completed"?"highlighting":"transcribing"})},m=(D,P)=>{if(!e)return;const B=e.transcription.segments.map(te=>te.id===D?{...te,...P,isEdited:!0}:te);p({segments:B,editHistory:[...e.transcription.editHistory,{id:`edit_${Date.now()}`,segmentId:D,originalText:e.transcription.segments.find(te=>te.id===D)?.text||"",editedText:P.text||"",timestamp:new Date,reason:"accuracy"}]})},y=D=>{if(!e||D.length<2)return;const P=e.transcription.segments,B=P.filter(ce=>D.includes(ce.id)).sort((ce,q)=>ce.startTime-q.startTime);if(B.length<2)return;const te={id:`merged_${Date.now()}`,startTime:B[0].startTime,endTime:B[B.length-1].endTime,text:B.map(ce=>ce.text).join(" "),confidence:B.reduce((ce,q)=>ce+q.confidence,0)/B.length,isEdited:!0,brandFlags:[],emotions:B[0].emotions,speaker:B[0].speaker},se=[...P.filter(ce=>!D.includes(ce.id)),te].sort((ce,q)=>ce.startTime-q.startTime);p({segments:se})},x=(D,P)=>{if(!e)return;const B=e.transcription.segments.find(G=>G.id===D);if(!B||P<=B.startTime||P>=B.endTime)return;const te=B.text.split(" "),se=(P-B.startTime)/(B.endTime-B.startTime),ce=Math.floor(te.length*se),q={...B,id:`${D}_part1`,endTime:P,text:te.slice(0,ce).join(" "),isEdited:!0},ee={...B,id:`${D}_part2`,startTime:P,text:te.slice(ce).join(" "),isEdited:!0},ae=[...e.transcription.segments.filter(G=>G.id!==D),q,ee].sort((G,ne)=>G.startTime-ne.startTime);p({segments:ae})},v=D=>{e&&l({highlights:[...e.highlights,D]})},E=(D,P)=>{if(!e)return;const B=e.highlights.map(te=>te.id===D?{...te,...P}:te);l({highlights:B})},S=D=>{e&&l({clips:[...e.clips,D]})},C=(D,P)=>{if(!e)return;const B=e.clips.map(te=>te.id===D?{...te,...P}:te);l({clips:B})},k=["briefing","recording","transcription","highlights","publishing"],V=()=>{const D=k.indexOf(r);D<k.length-1&&i(k[D+1])},$=()=>{const D=k.indexOf(r);D>0&&i(k[D-1])},F=D=>{const P={id:`podcast_project_${Date.now()}`,title:`Nuevo ${D.includes("podcast")?"Podcast":"Contenido Educativo"}`,type:D.includes("podcast")?"podcast":"educational",status:"briefing",briefing:{description:"",contentType:D,targetDuration:{minutes:30,label:"30 min",segments:5},contentStyle:"professional",targetAudience:"",chatHistory:[],outline:{segments:[],totalEstimatedDuration:0,introduction:"",conclusion:"",transitionPhrases:[]},objectives:[],keyMessages:[],callToActions:[]},recording:{status:"not_started",recordingMethod:"browser_audio",quality:{audioSampleRate:44100,audioBitrate:128,format:"webm"},metadata:{},liveGuidance:{currentSegment:0,suggestions:[],brandReminders:[],paceGuidance:"good_pace",energyLevel:"medium"}},transcription:{status:"not_started",segments:[],confidence:0,language:"es",wordCount:0,editHistory:[],brandAlignment:{overallScore:0,toneConsistency:0,vocabularyAlignment:0,messageClarity:0,recommendations:[]}},highlights:[],clips:[],publishing:{podcastPlatforms:[],clipsPlatforms:[],status:"draft",metadata:{category:"Technology",tags:[],language:"es",isExplicit:!1},distribution:{rss:!0,embedCode:!0,downloadLink:!0,socialSharing:!0,analytics:!0}},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(P),i("briefing")},U=async()=>{if(e)try{const D={...e,updatedAt:new Date};console.log("Saving podcast project:",D)}catch(D){throw console.error("Error saving podcast project:",D),D}},L=async D=>{try{console.log("Loading podcast project:",D)}catch(P){throw console.error("Error loading podcast project:",P),P}},K=async D=>{if(!e)return"";try{switch(D){case"json":return JSON.stringify(e,null,2);case"srt":return I(e.transcription.segments);case"vtt":return j(e.transcription.segments);default:return""}}catch(P){return console.error("Error exporting project:",P),""}},I=D=>D.map((P,B)=>{const te=A(P.startTime),se=A(P.endTime);return`${B+1}
${te} --> ${se}
${P.text}
`}).join(`
`),j=D=>{const P=`WEBVTT

`,B=D.map(te=>{const se=M(te.startTime),ce=M(te.endTime);return`${se} --> ${ce}
${te.text}
`}).join(`
`);return P+B},A=D=>{const P=Math.floor(D/3600),B=Math.floor(D%3600/60),te=Math.floor(D%60),se=Math.floor(D%1*1e3);return`${P.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")},${se.toString().padStart(3,"0")}`},M=D=>{const P=Math.floor(D/3600),B=Math.floor(D%3600/60),te=Math.floor(D%60),se=Math.floor(D%1*1e3);return`${P.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}.${se.toString().padStart(3,"0")}`},O={currentProject:e,setCurrentProject:n,updateProject:l,updateBriefing:u,updateRecording:f,updateTranscription:p,addHighlight:v,updateHighlight:E,addClip:S,updateClip:C,updateTranscriptSegment:m,mergeTranscriptSegments:y,splitTranscriptSegment:x,currentStep:r,setCurrentStep:i,goToNextStep:V,goToPreviousStep:$,saveProject:U,loadProject:L,createNewProject:F,exportProject:K};return a.jsx(IC.Provider,{value:O,children:t})}function _$(){const t=b.useContext(IC);if(t===void 0)throw new Error("usePodcastProject must be used within a PodcastProjectProvider");return t}class TV{jwt;constructor(e){this.jwt=e}setJWT(e){this.jwt=e}processSlashCommands(e){const n={content:e,tools:[],settings:{}},r=/\/(\w+)(?:\s+([^\s\/]+))?/g;let i;for(;(i=r.exec(e))!==null;){const[l,u,f]=i;switch(u.toLowerCase()){case"model":f&&(n.settings.model=f);break;case"temp":case"temperature":f&&(n.settings.temperature=parseFloat(f));break;case"creative":n.settings.temperature=.8;break;case"precise":n.settings.temperature=.1;break;case"web":n.tools.push("web_search");break;case"docs":n.tools.push("document_search");break;case"brand":n.settings.brandGuard=!0;break}n.content=n.content.replace(l,"").trim()}return n}}async function IV(t,e,n){const r=`run_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const i=await fetch(hn("/api/chat/stream"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""},body:JSON.stringify({...t,runId:r})});if(!i.ok)throw new Error(`Streaming failed: ${i.status}`);if(i.body&&n){const l=i.body.getReader(),u=new TextDecoder;try{for(;;){const{done:f,value:p}=await l.read();if(f)break;const y=u.decode(p).split(`
`);for(const x of y)if(x.startsWith("data: "))try{const v=JSON.parse(x.slice(6));n(v)}catch{console.warn("Failed to parse SSE event:",x)}}}finally{l.releaseLock()}}return{runId:r}}catch(i){throw console.error("Stream error:",i),i}}async function PV(t,e,n,r){try{const i=await fetch(hn("/api/chat/regenerate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify({threadId:t,messageId:e,nudge:n})});if(!i.ok)throw new Error(`Regenerate failed: ${i.status}`)}catch(i){throw console.error("Regenerate error:",i),i}}const AV={},Fw=t=>{let e;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const x=e;e=m??typeof y!="object"?y:Object.assign({},e,y),n.forEach(v=>v(e,x))}},i=()=>e,f={setState:r,getState:i,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(AV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,f),f},RV=t=>t?Fw(t):Fw;var vm={exports:{}},ym={},xm={exports:{}},bm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function MV(){if($w)return bm;$w=1;var t=Ua();function e(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function f(x,v){var E=v(),S=r({inst:{value:E,getSnapshot:v}}),C=S[0].inst,k=S[1];return l(function(){C.value=E,C.getSnapshot=v,p(C)&&k({inst:C})},[x,E,v]),i(function(){return p(C)&&k({inst:C}),x(function(){p(C)&&k({inst:C})})},[x]),u(E),E}function p(x){var v=x.getSnapshot;x=x.value;try{var E=v();return!n(x,E)}catch{return!0}}function m(x,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return bm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,bm}var zw;function DV(){return zw||(zw=1,xm.exports=MV()),xm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function OV(){if(Uw)return ym;Uw=1;var t=Ua(),e=DV();function n(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,l=t.useRef,u=t.useEffect,f=t.useMemo,p=t.useDebugValue;return ym.useSyncExternalStoreWithSelector=function(m,y,x,v,E){var S=l(null);if(S.current===null){var C={hasValue:!1,value:null};S.current=C}else C=S.current;S=f(function(){function V(K){if(!$){if($=!0,F=K,K=v(K),E!==void 0&&C.hasValue){var I=C.value;if(E(I,K))return U=I}return U=K}if(I=U,r(F,K))return I;var j=v(K);return E!==void 0&&E(I,j)?I:(F=K,U=j)}var $=!1,F,U,L=x===void 0?null:x;return[function(){return V(y())},L===null?void 0:function(){return V(L())}]},[y,x,v,E]);var k=i(m,S[0],S[1]);return u(function(){C.hasValue=!0,C.value=k},[k]),p(k),k},ym}var Bw;function LV(){return Bw||(Bw=1,vm.exports=OV()),vm.exports}var VV=LV();const FV=_g(VV),PC={},{useSyncExternalStoreWithSelector:$V}=FV;let Hw=!1;function zV(t,e=t.getState,n){(PC?"production":void 0)!=="production"&&n&&!Hw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Hw=!0);const r=$V(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return b.useDebugValue(r),r}const UV=t=>{(PC?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?RV(t):t,n=(r,i)=>zV(e,r,i);return Object.assign(n,e),n},BV=t=>UV;function ar(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fa(t){return!!t&&!!t[Pn]}function bi(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===XV})(t)||Array.isArray(t)||!!t[Jw]||!!(!((e=t.constructor)===null||e===void 0)&&e[Jw])||Qv(t)||Yv(t))}function Ic(t,e,n){n===void 0&&(n=!1),el(t)===0?(n?Object.keys:ty)(t).forEach((function(r){n&&typeof r=="symbol"||e(r,t[r],t)})):t.forEach((function(r,i){return e(i,r,t)}))}function el(t){var e=t[Pn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Qv(t)?2:Yv(t)?3:0}function vg(t,e){return el(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function HV(t,e){return el(t)===2?t.get(e):t[e]}function AC(t,e,n){var r=el(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function GV(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Qv(t){return QV&&t instanceof Map}function Yv(t){return YV&&t instanceof Set}function Zo(t){return t.o||t.t}function Xv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=JV(t);delete e[Pn];for(var n=ty(e),r=0;r<n.length;r++){var i=n[r],l=e[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(e[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Jv(t,e){return e===void 0&&(e=!1),Zv(t)||Fa(t)||!bi(t)||(el(t)>1&&(t.set=t.add=t.clear=t.delete=WV),Object.freeze(t),e&&Ic(t,(function(n,r){return Jv(r,!0)}),!0)),t}function WV(){ar(2)}function Zv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Hr(t){var e=ZV[t];return e||ar(18,t),e}function Gw(){return Pc}function wm(t,e){e&&(Hr("Patches"),t.u=[],t.s=[],t.v=e)}function wh(t){yg(t),t.p.forEach(KV),t.p=null}function yg(t){t===Pc&&(Pc=t.l)}function Ww(t){return Pc={p:[],l:Pc,h:t,m:!0,_:0}}function KV(t){var e=t[Pn];e.i===0||e.i===1?e.j():e.g=!0}function _m(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Hr("ES5").S(e,t,r),r?(n[Pn].P&&(wh(e),ar(4)),bi(t)&&(t=_h(e,t),e.l||Eh(e,t)),e.u&&Hr("Patches").M(n[Pn].t,t,e.u,e.s)):t=_h(e,n,[]),wh(e),e.u&&e.v(e.u,e.s),t!==RC?t:void 0}function _h(t,e,n){if(Zv(e))return e;var r=e[Pn];if(!r)return Ic(e,(function(f,p){return Kw(t,r,e,f,p,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Eh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Xv(r.k):r.o,l=i,u=!1;r.i===3&&(l=new Set(i),i.clear(),u=!0),Ic(l,(function(f,p){return Kw(t,r,i,f,p,n,u)})),Eh(t,i,!1),n&&t.u&&Hr("Patches").N(r,n,t.u,t.s)}return r.o}function Kw(t,e,n,r,i,l,u){if(Fa(i)){var f=_h(t,i,l&&e&&e.i!==3&&!vg(e.R,r)?l.concat(r):void 0);if(AC(n,r,f),!Fa(f))return;t.m=!1}else u&&n.add(i);if(bi(i)&&!Zv(i)){if(!t.h.D&&t._<1)return;_h(t,i),e&&e.A.l||Eh(t,i)}}function Eh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Jv(e,n)}function Em(t,e){var n=t[Pn];return(n?Zo(n):t)[e]}function qw(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function xg(t){t.P||(t.P=!0,t.l&&xg(t.l))}function Sm(t){t.o||(t.o=Xv(t.t))}function bg(t,e,n){var r=Qv(e)?Hr("MapSet").F(e,n):Yv(e)?Hr("MapSet").T(e,n):t.O?(function(i,l){var u=Array.isArray(i),f={i:u?1:0,A:l?l.A:Gw(),P:!1,I:!1,R:{},l,t:i,k:null,o:null,j:null,C:!1},p=f,m=wg;u&&(p=[f],m=rc);var y=Proxy.revocable(p,m),x=y.revoke,v=y.proxy;return f.k=v,f.j=x,v})(e,n):Hr("ES5").J(e,n);return(n?n.A:Gw()).p.push(r),r}function qV(t){return Fa(t)||ar(22,t),(function e(n){if(!bi(n))return n;var r,i=n[Pn],l=el(n);if(i){if(!i.P&&(i.i<4||!Hr("ES5").K(i)))return i.t;i.I=!0,r=Qw(n,l),i.I=!1}else r=Qw(n,l);return Ic(r,(function(u,f){i&&HV(i.t,u)===f||AC(r,u,e(f))})),l===3?new Set(r):r})(t)}function Qw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Xv(t)}var Yw,Pc,ey=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",QV=typeof Map<"u",YV=typeof Set<"u",Xw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",RC=ey?Symbol.for("immer-nothing"):((Yw={})["immer-nothing"]=!0,Yw),Jw=ey?Symbol.for("immer-draftable"):"__$immer_draftable",Pn=ey?Symbol.for("immer-state"):"__$immer_state",XV=""+Object.prototype.constructor,ty=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,JV=Object.getOwnPropertyDescriptors||function(t){var e={};return ty(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},ZV={},wg={get:function(t,e){if(e===Pn)return t;var n=Zo(t);if(!vg(n,e))return(function(i,l,u){var f,p=qw(l,u);return p?"value"in p?p.value:(f=p.get)===null||f===void 0?void 0:f.call(i.k):void 0})(t,n,e);var r=n[e];return t.I||!bi(r)?r:r===Em(t.t,e)?(Sm(t),t.o[e]=bg(t.A.h,r,t)):r},has:function(t,e){return e in Zo(t)},ownKeys:function(t){return Reflect.ownKeys(Zo(t))},set:function(t,e,n){var r=qw(Zo(t),e);if(r?.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Em(Zo(t),e),l=i?.[Pn];if(l&&l.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(GV(n,i)&&(n!==void 0||vg(t.t,e)))return!0;Sm(t),xg(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Em(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Sm(t),xg(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Zo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ar(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ar(12)}},rc={};Ic(wg,(function(t,e){rc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),rc.deleteProperty=function(t,e){return rc.set.call(this,t,e,void 0)},rc.set=function(t,e,n){return wg.set.call(this,t[0],e,n,t[0])};var eF=(function(){function t(n){var r=this;this.O=Xw,this.D=!0,this.produce=function(i,l,u){if(typeof i=="function"&&typeof l!="function"){var f=l;l=i;var p=r;return function(C){var k=this;C===void 0&&(C=f);for(var V=arguments.length,$=Array(V>1?V-1:0),F=1;F<V;F++)$[F-1]=arguments[F];return p.produce(C,(function(U){var L;return(L=l).call.apply(L,[k,U].concat($))}))}}var m;if(typeof l!="function"&&ar(6),u!==void 0&&typeof u!="function"&&ar(7),bi(i)){var y=Ww(r),x=bg(r,i,void 0),v=!0;try{m=l(x),v=!1}finally{v?wh(y):yg(y)}return typeof Promise<"u"&&m instanceof Promise?m.then((function(C){return wm(y,u),_m(C,y)}),(function(C){throw wh(y),C})):(wm(y,u),_m(m,y))}if(!i||typeof i!="object"){if((m=l(i))===void 0&&(m=i),m===RC&&(m=void 0),r.D&&Jv(m,!0),u){var E=[],S=[];Hr("Patches").M(i,m,E,S),u(E,S)}return m}ar(21,i)},this.produceWithPatches=function(i,l){if(typeof i=="function")return function(m){for(var y=arguments.length,x=Array(y>1?y-1:0),v=1;v<y;v++)x[v-1]=arguments[v];return r.produceWithPatches(m,(function(E){return i.apply(void 0,[E].concat(x))}))};var u,f,p=r.produce(i,l,(function(m,y){u=m,f=y}));return typeof Promise<"u"&&p instanceof Promise?p.then((function(m){return[m,u,f]})):[p,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){bi(n)||ar(8),Fa(n)&&(n=qV(n));var r=Ww(this),i=bg(this,n,void 0);return i[Pn].C=!0,yg(r),i},e.finishDraft=function(n,r){var i=n&&n[Pn],l=i.A;return wm(l,r),_m(void 0,l)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Xw&&ar(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var l=r[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(r=r.slice(i+1));var u=Hr("Patches").$;return Fa(n)?u(n,r):this.produce(n,(function(f){return u(f,r)}))},t})(),An=new eF,tF=An.produce;An.produceWithPatches.bind(An);An.setAutoFreeze.bind(An);An.setUseProxies.bind(An);An.applyPatches.bind(An);An.createDraft.bind(An);An.finishDraft.bind(An);const nF=t=>(e,n,r)=>(r.setState=(i,l,...u)=>{const f=typeof i=="function"?tF(i):i;return e(f,l,...u)},t(r.setState,n,r)),rF=nF;class sF{async listThreads(){const e=await fetch(hn("/api/threads/list"));if(!e.ok)throw new Error("Failed to list threads");return(await e.json()).threads||[]}async createThread(e){const n=await fetch(hn("/api/thread/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to create thread");return n.json()}async renameThread(e,n){if(!(await fetch(hn("/api/thread/rename"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:e,title:n})})).ok)throw new Error("Failed to rename thread")}async deleteThread(e){if(!(await fetch(hn("/api/thread/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:e})})).ok)throw new Error("Failed to delete thread")}async createBranch(e,n){const r=await fetch(hn("/api/branch/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:e,name:n})});if(!r.ok)throw new Error("Failed to create branch");return r.json()}async renameBranch(e,n){if(!(await fetch(hn("/api/branch/rename"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branchId:e,name:n})})).ok)throw new Error("Failed to rename branch")}async deleteBranch(e){if(!(await fetch(hn("/api/branch/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branchId:e})})).ok)throw new Error("Failed to delete branch")}async switchBranch(e,n){if(!(await fetch(hn("/api/branch/switch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:e,branchId:n})})).ok)throw new Error("Failed to switch branch")}async branchFromMessage(e,n,r){const i=await fetch(hn("/api/message/branch-from"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:e,messageId:n,name:r})});if(!i.ok)throw new Error("Failed to branch from message");return i.json()}getDefaultBranch(e){return e.branches.find(n=>n.isDefault)||e.branches[0]}}const Mr=new sF,oF={model:"gpt-5",temperature:.3,persona:"mentor",brandGuard:!0};function Zw(){return`id_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function e1(){return`thread_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const ei=BV()(rF((t,e)=>({threadId:e1(),branchId:void 0,system:"You are a helpful AI assistant specialized in content creation.",settings:{...oF},messages:[],rightPanelOpen:!1,composerText:"",mobileKeyboardOpen:!1,showVirtualKeyboard:!1,isMobileView:!1,streaming:{status:"idle"},history:[],branches:[],setSystem:n=>t(r=>{r.system=n}),setSettings:n=>t(r=>{r.settings={...r.settings,...n}}),setRightPanelOpen:n=>t(r=>{r.rightPanelOpen=n}),setComposerText:n=>t(r=>{r.composerText=n}),setMobileKeyboardOpen:n=>t(r=>{r.mobileKeyboardOpen=n}),setShowVirtualKeyboard:n=>t(r=>{r.showVirtualKeyboard=n}),setIsMobileView:n=>t(r=>{r.isMobileView=n}),pushUserMessage:(n,r)=>t(i=>{const l={id:Zw(),role:"user",parts:[{type:"text",value:n}],createdAt:new Date().toISOString(),meta:{attachments:r}};i.messages.push(l),i.composerText=""}),upsertAssistantMessage:(n,r)=>t(i=>{const l=i.messages.findIndex(u=>u.id===r||u.role==="assistant"&&!r);if(l>=0)i.messages[l].parts=[{type:"text",value:n}];else{const u={id:r||Zw(),role:"assistant",parts:[{type:"text",value:n}],createdAt:new Date().toISOString(),meta:{streaming:!0}};i.messages.push(u)}}),setStreaming:(n,r,i)=>t(l=>{l.streaming={status:n,runId:r,abortFn:i,toolsUsed:n==="idle"?[]:l.streaming.toolsUsed},n==="idle"&&(l.streaming.currentStage=void 0,l.streaming.toolsUsed=[])}),appendDeltaToLastAssistant:n=>t(r=>{const i=r.messages[r.messages.length-1];if(i&&i.role==="assistant"){const l=i.parts[0]?.value||"";i.parts[0]={type:"text",value:l+n}}}),endStreaming:()=>t(n=>{n.streaming={status:"idle"};const r=n.messages[n.messages.length-1];r&&r.role==="assistant"&&r.meta&&(r.meta.streaming=!1)}),applyToolChipToLastAssistant:n=>t(r=>{r.streaming.toolsUsed||(r.streaming.toolsUsed=[]),r.streaming.toolsUsed.push({...n,completed:!1});const i=r.messages[r.messages.length-1];i&&i.role==="assistant"&&(i.meta||(i.meta={}),i.meta.tools||(i.meta.tools=[]),i.meta.tools.push(n))}),setGoogleIaRequest:n=>t(r=>{r.googleIaRequest=n;const i=r.messages[r.messages.length-1];i&&i.role==="assistant"&&(i.meta||(i.meta={}),i.meta.googleIaRequest=n)}),loadHistory:async()=>{try{const n=await Mr.listThreads();t(r=>{r.history=n}),console.log(`[ChatStore] Loaded ${n.length} threads from backend`)}catch(n){console.error("[ChatStore] Failed to load history:",n),t(r=>{r.error="Failed to load thread history"})}},selectThread:async(n,r)=>{try{const l=e().history.find(f=>f.id===n);if(!l)throw new Error("Thread not found in history");const u=r?l.branches.find(f=>f.id===r):Mr.getDefaultBranch(l);if(!u)throw new Error("Branch not found");t(f=>{f.threadId=n,f.branchId=u.id,f.branches=l.branches,f.messages=[],f.streaming={status:"idle"},f.googleIaRequest=void 0,f.error=void 0}),console.log(`[ChatStore] Selected thread ${n}, branch ${u.name}`)}catch(i){console.error("[ChatStore] Failed to select thread:",i),t(l=>{l.error=`Failed to load thread: ${i instanceof Error?i.message:"Unknown error"}`})}},createNewThread:async n=>{try{const r=await Mr.createThread({title:n||"Nuevo Hilo"});await e().loadHistory(),await e().selectThread(r.id),console.log(`[ChatStore] Created new thread: ${r.id}`)}catch(r){console.error("[ChatStore] Failed to create thread:",r),t(i=>{i.error=`Failed to create thread: ${r instanceof Error?r.message:"Unknown error"}`})}},renameThread:async(n,r)=>{try{await Mr.renameThread(n,r),t(i=>{const l=i.history.find(u=>u.id===n);l&&(l.title=r)}),console.log(`[ChatStore] Renamed thread ${n} to "${r}"`)}catch(i){console.error("[ChatStore] Failed to rename thread:",i),t(l=>{l.error=`Failed to rename thread: ${i instanceof Error?i.message:"Unknown error"}`})}},deleteThread:async n=>{try{await Mr.deleteThread(n),t(r=>{r.history=r.history.filter(i=>i.id!==n),r.threadId===n&&(r.threadId=e1(),r.branchId=void 0,r.messages=[],r.branches=[],r.streaming={status:"idle"},r.googleIaRequest=void 0)}),console.log(`[ChatStore] Deleted thread ${n}`)}catch(r){console.error("[ChatStore] Failed to delete thread:",r),t(i=>{i.error=`Failed to delete thread: ${r instanceof Error?r.message:"Unknown error"}`})}},setBranch:async n=>{try{const r=e();if(!r.branches.find(l=>l.id===n))throw new Error("Branch not found");await Mr.switchBranch(r.threadId,n),t(l=>{l.branchId=n,l.messages=[],l.streaming={status:"idle"}}),console.log(`[ChatStore] Switched to branch ${n}`)}catch(r){console.error("[ChatStore] Failed to switch branch:",r),t(i=>{i.error=`Failed to switch branch: ${r instanceof Error?r.message:"Unknown error"}`})}},createBranch:async(n,r)=>{try{const i=await Mr.createBranch(n,r);return t(l=>{l.branches.push({id:i.id,name:r,isDefault:!1})}),console.log(`[ChatStore] Created branch ${i.id} "${r}"`),i.id}catch(i){throw console.error("[ChatStore] Failed to create branch:",i),t(l=>{l.error=`Failed to create branch: ${i instanceof Error?i.message:"Unknown error"}`}),i}},renameBranch:async(n,r)=>{try{await Mr.renameBranch(n,r),t(i=>{const l=i.branches.find(u=>u.id===n);l&&(l.name=r)}),console.log(`[ChatStore] Renamed branch ${n} to "${r}"`)}catch(i){console.error("[ChatStore] Failed to rename branch:",i),t(l=>{l.error=`Failed to rename branch: ${i instanceof Error?i.message:"Unknown error"}`})}},deleteBranch:async n=>{try{await Mr.deleteBranch(n),t(r=>{if(r.branches=r.branches.filter(i=>i.id!==n),r.branchId===n){const l=r.branches.find(u=>u.isDefault)||r.branches[0];l&&(r.branchId=l.id,r.messages=[])}}),console.log(`[ChatStore] Deleted branch ${n}`)}catch(r){console.error("[ChatStore] Failed to delete branch:",r),t(i=>{i.error=`Failed to delete branch: ${r instanceof Error?r.message:"Unknown error"}`})}},branchFromMessage:async(n,r)=>{try{const i=e(),l=await Mr.branchFromMessage(i.threadId,n,r),u=r||`rama-${Date.now()}`;return t(f=>{f.branches.push({id:l.branchId,name:u,isDefault:!1}),f.branchId=l.branchId}),console.log(`[ChatStore] Created branch ${l.branchId} from message ${n}`),l.branchId}catch(i){throw console.error("[ChatStore] Failed to branch from message:",i),t(l=>{l.error=`Failed to create branch: ${i instanceof Error?i.message:"Unknown error"}`}),i}},handleSSEEvent:n=>{const r=e();switch(n.type){case"ready":t(i=>{i.streaming.status="thinking",i.error=void 0});break;case"state":t(i=>{i.streaming.currentStage=n.data.stage,n.data.stage==="generate"&&(i.streaming.status="streaming")});break;case"tool":r.applyToolChipToLastAssistant({name:n.data.name,args:n.data.args,mode:n.data.mode});break;case"token":r.streaming.status==="streaming"&&r.appendDeltaToLastAssistant(n.data.delta);break;case"usage":t(i=>{const l=i.messages[i.messages.length-1];l&&l.role==="assistant"&&(l.meta||(l.meta={}),l.meta.usage=n.data)});break;case"error":t(i=>{i.streaming.status="error",i.error=`${n.data.code}: ${n.data.message}`});break;case"done":t(i=>{i.streaming.status="idle",i.streaming.currentStage=void 0;const l=i.messages[i.messages.length-1];l&&l.role==="assistant"&&(l.id=n.data.messageId,l.meta&&(l.meta.streaming=!1))});break}},setError:n=>t(r=>{r.error=n}),clearError:()=>t(n=>{n.error=void 0})}))),Nm={useIsStreaming:()=>ei(t=>t.streaming.status!=="idle"),useLastAssistantMessage:()=>ei(t=>{const e=t.messages.filter(n=>n.role==="assistant");return e[e.length-1]}),useCurrentTools:()=>ei(t=>t.streaming.toolsUsed||[]),useThreadTitle:()=>ei(t=>{const e=t.messages.find(n=>n.role==="user");return e?.parts?.[0]?.value?e.parts[0].value.substring(0,50)+"...":"New Chat"}),useCanSendMessage:()=>ei(t=>t.streaming.status==="idle"&&t.composerText.trim().length>0),useCanAbort:()=>ei(t=>t.streaming.status!=="idle"&&!!t.streaming.abortFn)};function iF(t){const{threadId:e,system:n,settings:r,messages:i,composerText:l,rightPanelOpen:u,streaming:f,error:p,setComposerText:m,setSettings:y,setRightPanelOpen:x,pushUserMessage:v,upsertAssistantMessage:E,setStreaming:S,handleSSEEvent:C,createNewThread:k,selectThread:V,setError:$,clearError:F}=ei(),U=Nm.useIsStreaming();Nm.useCanSendMessage(),Nm.useCanAbort();const L=b.useRef(new TV(t)),K=b.useRef(),I=b.useCallback(P=>L.current.processSlashCommands(P),[]),j=b.useCallback(async(P,B=[])=>{const te=P||l;if(!(!te.trim()||U)){try{F();const se=I(te);v(se.content),S("thinking"),E(""),setTimeout(()=>{const ce=["Esta es una respuesta simulada del Chat Maestro. En modo demo, puedo ayudarte a entender la funcionalidad sin conectar al backend real.","Excelente pregunta! En produccin, estara procesando tu solicitud con IA avanzada y herramientas como bsqueda web, anlisis de documentos y brand guard.","Para activar todas las funcionalidades, necesitas configurar la autenticacin JWT y conectar con el backend de Supabase."],q=ce[Math.floor(Math.random()*ce.length)];E(q,`demo_${Date.now()}`),S("idle")},2e3);return}catch(se){console.error("Demo mode error:",se),$("Error en modo demo"),S("error");return}try{F();const se=I(te),ce=[...B,...se.tools.map(ae=>({name:ae}))];Object.keys(se.settings).length>0&&y(se.settings),v(se.content),E("");const q={threadId:e,system:`You are a ${r.persona} AI assistant specialized in content creation. ${r.brandGuard?"Always follow brand guidelines and maintain brand consistency.":""}`,messages:[...i,{id:`user_${Date.now()}`,role:"user",parts:[{type:"text",value:se.content}],createdAt:new Date().toISOString()}],settings:{...r,...se.settings},tools:ce,objective:se.content},{runId:ee}=await IV(q,t,C);K.current=ee,S("thinking",ee)}catch(se){console.error("Failed to send message:",se),$(se instanceof Error?se.message:"Failed to send message"),S("error")}}},[t,l,U,e,n,r,i,I,y,v,E,C,S,$,F]),A=b.useCallback(async P=>{if(U||i.length===0)return;const B=[...i].reverse().find(te=>te.role==="assistant");if(!B){console.warn("No assistant message to regenerate");return}try{if(F(),E("",`regenerate_${Date.now()}`),S("thinking"),!t){setTimeout(()=>{const se={shorter:"Respuesta ms breve simulada.",longer:"Esta es una respuesta ms detallada y extensa que simula el comportamiento de regeneracin del Chat Maestro en modo demo.",creative:" Respuesta creativa e innovadora que demuestra el potencial del sistema! ",concise:"Respuesta concisa y directa."}[P||"shorter"]||"Respuesta regenerada en modo demo.";E(se,`regenerate_${Date.now()}`),S("idle")},1500);return}await PV(e,B.id,P,t)}catch(te){console.error("Failed to regenerate response:",te),$(te instanceof Error?te.message:"Failed to regenerate"),S("error")}},[t,U,i,e,E,S,$,F]),M=b.useCallback(async()=>{if(U)try{t&&K.current,S("cancelled"),f.abortFn&&f.abortFn()}catch(P){console.error("Failed to abort generation:",P),$("Failed to abort generation")}},[t,U,e,f.abortFn,S,$]),O=b.useCallback(async()=>{try{const P=i.find(B=>B.role==="user")?.parts[0]?.value.substring(0,50)||"Untitled Chat";if(!t){const B={id:e,title:P,system:n,settings:r,messages:i,savedAt:new Date().toISOString()};localStorage.setItem(`chat_thread_${e}`,JSON.stringify(B)),console.log("Thread saved to localStorage in demo mode")}}catch(P){console.error("Failed to save thread:",P),$("Failed to save thread")}},[t,e,n,r,i,$]),D=b.useCallback(async P=>{try{if(!t)return new Promise(B=>{setTimeout(()=>{B({id:`demo_attachment_${Date.now()}`,url:URL.createObjectURL(P)})},1e3)})}catch(B){throw console.error("Failed to upload attachment:",B),new Error("Failed to upload attachment")}},[t,e]);return{messages:i,isStreaming:U,error:p,settings:r,composerText:l,rightPanelOpen:u,send:j,abort:M,regenerate:A,setComposerText:m,setSettings:y,setRightPanelOpen:x,createNewThread:k,selectThread:V,saveCurrentThread:O,uploadAttachment:D,processSlashCommand:I}}const aF={apiKey:"AIzaSyBQb8sz5oZVmmk9tOf49CbtAzaHLxwzIJw",authDomain:"em-estudio.firebaseapp.com",projectId:"em-estudio",storageBucket:"em-estudio.firebasestorage.app",messagingSenderId:"642931774003",appId:"1:642931774003:web:b1970320faf53bd7874946"},MC=Fh(aF);dC(MC);Kh(MC);class lF{baseUrl;headers;constructor(){this.baseUrl=of,this.headers={Authorization:`Bearer ${hC}`,"Content-Type":"application/json"}}async checkText(e){try{const n=await fetch(hn("/api/guard/check"),{method:"POST",headers:this.headers,body:JSON.stringify({input:e})});if(!n.ok){const r=await n.json();throw new Error(`Brand guard check failed: ${r.error||n.statusText}`)}return await n.json()}catch(n){return console.error("[Brand Guard SDK] Check error:",n),{report:{score:75,findings:[{type:"compliance",severity:"info",message:"Anlisis de marca no disponible temporalmente",suggestion:"Revisa manualmente segn directrices de marca"}],disclaimerNeeded:!1}}}}async preCheckUserMessage(e,n,r){return this.checkText({text:e,role:"user",brand:n,context:r})}async postCheckAssistantMessage(e,n,r){return this.checkText({text:e,role:"assistant",brand:n,context:r})}async updateRules(e,n){try{const r=await fetch(hn("/api/guard/rules/update"),{method:"POST",headers:{...this.headers,Authorization:`Bearer ${n}`},body:JSON.stringify({patch:e})});if(!r.ok){const i=await r.json();throw new Error(`Rules update failed: ${i.error||r.statusText}`)}return await r.json()}catch(r){throw console.error("[Brand Guard SDK] Rules update error:",r),r}}convertBrandKitToBrandGuard(e){const n=e.voiceTone?.style||"",r=e.voiceTone?.examples?.incorrect||[];let i=["profesional","claro","consistente"],l=["agresivo","confuso","inconsistente"];return n.toLowerCase().includes("profesional")&&i.push("formal","corts"),(n.toLowerCase().includes("cercano")||n.toLowerCase().includes("amigable"))&&(i.push("cercano","amigable"),l.push("fro","distante")),{tone:{do:i,dont:l,readingLevel:"neutral"},lexicon:{preferred:e.messaging?.differentiators||[],avoid:r.map(u=>u.split(" ").slice(0,2).join(" ")).filter(Boolean),banned:["spam","scam","fake","gratis!!!"]},style:{emoji:!0,exclamationMax:n.toLowerCase().includes("enrgico")?3:1,linksPolicy:"need-disclaimer"},claims:{allowed:[...e.messaging?.slogans||[],...e.messaging?.differentiators||[],e.messaging?.tagline].filter(Boolean),forbidden:["el mejor del mundo","100% garantizado","imposible de fallar","nunca falla"],needsDisclaimer:["resultados pueden variar","sujeto a trminos","disponibilidad limitada"]},disclaimers:{standard:"Esta informacin se proporciona solo con fines informativos.",legal:"Consulte los trminos y condiciones completos."},locales:e.internationalization?.supportedLanguages||["es"]}}}const Cm=new lF;function cF(){const[t,e]=b.useState({isAnalyzing:!1,lastReport:null,error:null,metrics:{totalChecks:0,averageScore:0,suggestionsApplied:0}}),{brandKit:n}=Oc(),r=b.useCallback(()=>{if(!n)return{tone:{do:["profesional","claro","consistente","til"],dont:["agresivo","confuso","tcnico excesivo","informal excesivo"],readingLevel:"neutral"},lexicon:{preferred:["solucin","experiencia","innovacin","calidad"],avoid:["problema","fallo","error","imposible"],banned:["spam","scam","fake","gratis!!!"]},style:{emoji:!1,exclamationMax:1,linksPolicy:"need-disclaimer"},claims:{allowed:["Ofrecemos soluciones innovadoras","Experiencia comprobada"],forbidden:["El mejor del mercado","100% garantizado","Imposible de fallar"],needsDisclaimer:["resultados pueden variar","sujeto a trminos"]},disclaimers:{standard:"Esta informacin se proporciona solo con fines informativos.",legal:"Consulte los trminos y condiciones completos."},locales:["es"]};try{return Cm.convertBrandKitToBrandGuard(n)}catch(m){return console.warn("[Brand Guard] Failed to convert BrandKit:",m),null}},[n]),i=b.useCallback(m=>{e(y=>{const x=y.metrics.totalChecks+1,v=(y.metrics.averageScore*y.metrics.totalChecks+m.score)/x;return{...y,metrics:{...y.metrics,totalChecks:x,averageScore:Math.round(v)}}})},[]),l=b.useCallback(async(m,y)=>{const x=r();if(!x)return console.warn("[Brand Guard] No BrandKit available for analysis"),{score:100,findings:[],disclaimerNeeded:!1};e(v=>({...v,isAnalyzing:!0,error:null}));try{const E=(await Cm.preCheckUserMessage(m,x,y)).report;return e(S=>({...S,isAnalyzing:!1,lastReport:E,error:null})),i(E),E.findings.length>0&&console.log("[Brand Guard] User message findings:",E.findings),E}catch(v){const E=v instanceof Error?v.message:"Error analyzing message";return e(S=>({...S,isAnalyzing:!1,error:E})),{score:75,findings:[{type:"compliance",severity:"info",message:"Anlisis de marca no disponible",suggestion:"Revisa manualmente segn directrices"}],disclaimerNeeded:!1}}},[r,i]),u=b.useCallback(async(m,y)=>{const x=r();if(!x)return{score:100,findings:[],disclaimerNeeded:!1};e(v=>({...v,isAnalyzing:!0,error:null}));try{const E=(await Cm.postCheckAssistantMessage(m,x,y)).report;return e(S=>({...S,isAnalyzing:!1,lastReport:E,error:null})),i(E),E.findings.length>0&&console.log("[Brand Guard] Assistant message findings:",E.findings),E}catch(v){const E=v instanceof Error?v.message:"Error analyzing message";return e(S=>({...S,isAnalyzing:!1,error:E})),{score:75,findings:[],disclaimerNeeded:!1}}},[r,i]),f=b.useCallback((m,y)=>{e(x=>({...x,metrics:{...x.metrics,suggestionsApplied:x.metrics.suggestionsApplied+1}})),console.log("[Brand Guard] Applied suggestion:",{originalText:m,suggestedText:y})},[]),p=b.useCallback(()=>{e(m=>({...m,lastReport:null,error:null}))},[]);return{...t,checkUserMessage:l,checkAssistantMessage:u,applySuggestion:f,clearReport:p,getBrandKitForGuard:r}}const DC=b.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{ref:n,"data-slot":"textarea",className:Fe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e}));DC.displayName="Textarea";var ny="Progress",ry=100,[uF]=nn(ny),[dF,hF]=uF(ny),OC=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:l=fF,...u}=t;(i||i===0)&&!t1(i)&&console.error(pF(`${i}`,"Progress"));const f=t1(i)?i:ry;r!==null&&!n1(r,f)&&console.error(mF(`${r}`,"Progress"));const p=n1(r,f)?r:null,m=Sh(p)?l(p,f):void 0;return a.jsx(dF,{scope:n,value:p,max:f,children:a.jsx(Me.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Sh(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":FC(p,f),"data-value":p??void 0,"data-max":f,...u,ref:e})})});OC.displayName=ny;var LC="ProgressIndicator",VC=b.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=hF(LC,n);return a.jsx(Me.div,{"data-state":FC(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});VC.displayName=LC;function fF(t,e){return`${Math.round(t/e*100)}%`}function FC(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sh(t){return typeof t=="number"}function t1(t){return Sh(t)&&!isNaN(t)&&t>0}function n1(t,e){return Sh(t)&&!isNaN(t)&&t<=e&&t>=0}function pF(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ry}\`.`}function mF(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ry} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gF=OC,vF=VC;function yF({className:t,value:e,...n}){return a.jsx(gF,{"data-slot":"progress",className:Fe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:a.jsx(vF,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}var af="Popover",[$C]=nn(af,[Ka]),Jc=Ka(),[xF,Eo]=$C(af),zC=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!1}=t,f=Jc(e),p=b.useRef(null),[m,y]=b.useState(!1),[x,v]=_o({prop:r,defaultProp:i??!1,onChange:l,caller:af});return a.jsx(Og,{...f,children:a.jsx(xF,{scope:e,contentId:ur(),triggerRef:p,open:x,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(E=>!E),[v]),hasCustomAnchor:m,onCustomAnchorAdd:b.useCallback(()=>y(!0),[]),onCustomAnchorRemove:b.useCallback(()=>y(!1),[]),modal:u,children:n})})};zC.displayName=af;var UC="PopoverAnchor",bF=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Eo(UC,n),l=Jc(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=i;return b.useEffect(()=>(u(),()=>f()),[u,f]),a.jsx(Ah,{...l,...r,ref:e})});bF.displayName=UC;var BC="PopoverTrigger",HC=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Eo(BC,n),l=Jc(n),u=Ke(e,i.triggerRef),f=a.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QC(i.open),...r,ref:u,onClick:pe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:a.jsx(Ah,{asChild:!0,...l,children:f})});HC.displayName=BC;var sy="PopoverPortal",[wF,_F]=$C(sy,{forceMount:void 0}),GC=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,l=Eo(sy,e);return a.jsx(wF,{scope:e,forceMount:n,children:a.jsx(Rt,{present:n||l.open,children:a.jsx(Mc,{asChild:!0,container:i,children:r})})})};GC.displayName=sy;var $a="PopoverContent",WC=b.forwardRef((t,e)=>{const n=_F($a,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,l=Eo($a,t.__scopePopover);return a.jsx(Rt,{present:r||l.open,children:l.modal?a.jsx(SF,{...i,ref:e}):a.jsx(NF,{...i,ref:e})})});WC.displayName=$a;var EF=ui("PopoverContent.RemoveScroll"),SF=b.forwardRef((t,e)=>{const n=Eo($a,t.__scopePopover),r=b.useRef(null),i=Ke(e,r),l=b.useRef(!1);return b.useEffect(()=>{const u=r.current;if(u)return xv(u)},[]),a.jsx(Yh,{as:EF,allowPinchZoom:!0,children:a.jsx(KC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,u=>{u.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),NF=b.forwardRef((t,e)=>{const n=Eo($a,t.__scopePopover),r=b.useRef(!1),i=b.useRef(!1);return a.jsx(KC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),KC=b.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:y,...x}=t,v=Eo($a,n),E=Jc(n);return gv(),a.jsx(qh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:y,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Lg,{"data-state":QC(v.open),role:"dialog",id:v.contentId,...E,...x,ref:e,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qC="PopoverClose",CF=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Eo(qC,n);return a.jsx(Me.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});CF.displayName=qC;var jF="PopoverArrow",kF=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Jc(n);return a.jsx(Vg,{...i,...r,ref:e})});kF.displayName=jF;function QC(t){return t?"open":"closed"}var TF=zC,IF=HC,PF=GC,AF=WC;function RF({...t}){return a.jsx(TF,{"data-slot":"popover",...t})}function MF({...t}){return a.jsx(IF,{"data-slot":"popover-trigger",...t})}function DF({className:t,align:e="center",sideOffset:n=4,...r}){return a.jsx(PF,{children:a.jsx(AF,{"data-slot":"popover-content",align:e,sideOffset:n,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function r1({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function s1({className:t,...e}){return a.jsx("div",{"data-slot":"card-header",className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function o1({className:t,...e}){return a.jsx("h4",{"data-slot":"card-title",className:Fe("leading-none",t),...e})}function OF({className:t,...e}){return a.jsx("p",{"data-slot":"card-description",className:Fe("text-muted-foreground",t),...e})}function i1({className:t,...e}){return a.jsx("div",{"data-slot":"card-content",className:Fe("px-6 [&:last-child]:pb-6",t),...e})}function LF(t,[e,n]){return Math.min(n,Math.max(e,t))}function VF(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var oy="ScrollArea",[YC]=nn(oy),[FF,Qn]=YC(oy),XC=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:l=600,...u}=t,[f,p]=b.useState(null),[m,y]=b.useState(null),[x,v]=b.useState(null),[E,S]=b.useState(null),[C,k]=b.useState(null),[V,$]=b.useState(0),[F,U]=b.useState(0),[L,K]=b.useState(!1),[I,j]=b.useState(!1),A=Ke(e,O=>p(O)),M=Hc(i);return a.jsx(FF,{scope:n,type:r,dir:M,scrollHideDelay:l,scrollArea:f,viewport:m,onViewportChange:y,content:x,onContentChange:v,scrollbarX:E,onScrollbarXChange:S,scrollbarXEnabled:L,onScrollbarXEnabledChange:K,scrollbarY:C,onScrollbarYChange:k,scrollbarYEnabled:I,onScrollbarYEnabledChange:j,onCornerWidthChange:$,onCornerHeightChange:U,children:a.jsx(Me.div,{dir:M,...u,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":V+"px","--radix-scroll-area-corner-height":F+"px",...t.style}})})});XC.displayName=oy;var JC="ScrollAreaViewport",ZC=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...l}=t,u=Qn(JC,n),f=b.useRef(null),p=Ke(e,f,u.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...l,ref:p,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ZC.displayName=JC;var Qr="ScrollAreaScrollbar",ej=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qn(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=i,f=t.orientation==="horizontal";return b.useEffect(()=>(f?l(!0):u(!0),()=>{f?l(!1):u(!1)}),[f,l,u]),i.type==="hover"?a.jsx($F,{...r,ref:e,forceMount:n}):i.type==="scroll"?a.jsx(zF,{...r,ref:e,forceMount:n}):i.type==="auto"?a.jsx(tj,{...r,ref:e,forceMount:n}):i.type==="always"?a.jsx(iy,{...r,ref:e}):null});ej.displayName=Qr;var $F=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qn(Qr,t.__scopeScrollArea),[l,u]=b.useState(!1);return b.useEffect(()=>{const f=i.scrollArea;let p=0;if(f){const m=()=>{window.clearTimeout(p),u(!0)},y=()=>{p=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return f.addEventListener("pointerenter",m),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(p),f.removeEventListener("pointerenter",m),f.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(Rt,{present:n||l,children:a.jsx(tj,{"data-state":l?"visible":"hidden",...r,ref:e})})}),zF=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qn(Qr,t.__scopeScrollArea),l=t.orientation==="horizontal",u=cf(()=>p("SCROLL_END"),100),[f,p]=VF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(f==="idle"){const m=window.setTimeout(()=>p("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[f,i.scrollHideDelay,p]),b.useEffect(()=>{const m=i.viewport,y=l?"scrollLeft":"scrollTop";if(m){let x=m[y];const v=()=>{const E=m[y];x!==E&&(p("SCROLL"),u()),x=E};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,l,p,u]),a.jsx(Rt,{present:n||f!=="hidden",children:a.jsx(iy,{"data-state":f==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:pe(t.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:pe(t.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),tj=b.forwardRef((t,e)=>{const n=Qn(Qr,t.__scopeScrollArea),{forceMount:r,...i}=t,[l,u]=b.useState(!1),f=t.orientation==="horizontal",p=cf(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?m:y)}},10);return za(n.viewport,p),za(n.content,p),a.jsx(Rt,{present:r||l,children:a.jsx(iy,{"data-state":l?"visible":"hidden",...i,ref:e})})}),iy=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Qn(Qr,t.__scopeScrollArea),l=b.useRef(null),u=b.useRef(0),[f,p]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ij(f.viewport,f.content),y={...r,sizes:f,onSizesChange:p,hasThumb:m>0&&m<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function x(v,E){return KF(v,u.current,f,E)}return n==="horizontal"?a.jsx(UF,{...y,ref:e,onThumbPositionChange:()=>{if(i.viewport&&l.current){const v=i.viewport.scrollLeft,E=a1(v,f,i.dir);l.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=x(v,i.dir))}}):n==="vertical"?a.jsx(BF,{...y,ref:e,onThumbPositionChange:()=>{if(i.viewport&&l.current){const v=i.viewport.scrollTop,E=a1(v,f);l.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=x(v))}}):null}),UF=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,l=Qn(Qr,t.__scopeScrollArea),[u,f]=b.useState(),p=b.useRef(null),m=Ke(e,p,l.onScrollbarXChange);return b.useEffect(()=>{p.current&&f(getComputedStyle(p.current))},[p]),a.jsx(rj,{"data-orientation":"horizontal",...i,ref:m,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(l.viewport){const v=l.viewport.scrollLeft+y.deltaX;t.onWheelScroll(v),lj(v,x)&&y.preventDefault()}},onResize:()=>{p.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:Ch(u.paddingLeft),paddingEnd:Ch(u.paddingRight)}})}})}),BF=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,l=Qn(Qr,t.__scopeScrollArea),[u,f]=b.useState(),p=b.useRef(null),m=Ke(e,p,l.onScrollbarYChange);return b.useEffect(()=>{p.current&&f(getComputedStyle(p.current))},[p]),a.jsx(rj,{"data-orientation":"vertical",...i,ref:m,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(l.viewport){const v=l.viewport.scrollTop+y.deltaY;t.onWheelScroll(v),lj(v,x)&&y.preventDefault()}},onResize:()=>{p.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:Ch(u.paddingTop),paddingEnd:Ch(u.paddingBottom)}})}})}),[HF,nj]=YC(Qr),rj=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:p,onDragScroll:m,onWheelScroll:y,onResize:x,...v}=t,E=Qn(Qr,n),[S,C]=b.useState(null),k=Ke(e,A=>C(A)),V=b.useRef(null),$=b.useRef(""),F=E.viewport,U=r.content-r.viewport,L=zt(y),K=zt(p),I=cf(x,10);function j(A){if(V.current){const M=A.clientX-V.current.left,O=A.clientY-V.current.top;m({x:M,y:O})}}return b.useEffect(()=>{const A=M=>{const O=M.target;S?.contains(O)&&L(M,U)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[F,S,U,L]),b.useEffect(K,[r,K]),za(S,I),za(E.content,I),a.jsx(HF,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:zt(l),onThumbPointerUp:zt(u),onThumbPositionChange:K,onThumbPointerDown:zt(f),children:a.jsx(Me.div,{...v,ref:k,style:{position:"absolute",...v.style},onPointerDown:pe(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),V.current=S.getBoundingClientRect(),$.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),j(A))}),onPointerMove:pe(t.onPointerMove,j),onPointerUp:pe(t.onPointerUp,A=>{const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=$.current,E.viewport&&(E.viewport.style.scrollBehavior=""),V.current=null})})})}),Nh="ScrollAreaThumb",sj=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=nj(Nh,t.__scopeScrollArea);return a.jsx(Rt,{present:n||i.hasThumb,children:a.jsx(GF,{ref:e,...r})})}),GF=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,l=Qn(Nh,n),u=nj(Nh,n),{onThumbPositionChange:f}=u,p=Ke(e,x=>u.onThumbChange(x)),m=b.useRef(void 0),y=cf(()=>{m.current&&(m.current(),m.current=void 0)},100);return b.useEffect(()=>{const x=l.viewport;if(x){const v=()=>{if(y(),!m.current){const E=qF(x,f);m.current=E,f()}};return f(),x.addEventListener("scroll",v),()=>x.removeEventListener("scroll",v)}},[l.viewport,y,f]),a.jsx(Me.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(t.onPointerDownCapture,x=>{const E=x.target.getBoundingClientRect(),S=x.clientX-E.left,C=x.clientY-E.top;u.onThumbPointerDown({x:S,y:C})}),onPointerUp:pe(t.onPointerUp,u.onThumbPointerUp)})});sj.displayName=Nh;var ay="ScrollAreaCorner",oj=b.forwardRef((t,e)=>{const n=Qn(ay,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(WF,{...t,ref:e}):null});oj.displayName=ay;var WF=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Qn(ay,n),[l,u]=b.useState(0),[f,p]=b.useState(0),m=!!(l&&f);return za(i.scrollbarX,()=>{const y=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(y),p(y)}),za(i.scrollbarY,()=>{const y=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(y),u(y)}),m?a.jsx(Me.div,{...r,ref:e,style:{width:l,height:f,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ch(t){return t?parseInt(t,10):0}function ij(t,e){const n=t/e;return isNaN(n)?0:n}function lf(t){const e=ij(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function KF(t,e,n,r="ltr"){const i=lf(n),l=i/2,u=e||l,f=i-u,p=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,x=r==="ltr"?[0,y]:[y*-1,0];return aj([p,m],x)(t)}function a1(t,e,n="ltr"){const r=lf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-i,u=e.content-e.viewport,f=l-r,p=n==="ltr"?[0,u]:[u*-1,0],m=LF(t,p);return aj([0,u],[0,f])(m)}function aj(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function lj(t,e){return t>0&&t<e}var qF=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const l={left:t.scrollLeft,top:t.scrollTop},u=n.left!==l.left,f=n.top!==l.top;(u||f)&&e(),n=l,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function cf(t,e){const n=zt(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function za(t,e){const n=zt(e);Kn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var QF=XC,YF=ZC,XF=oj;function JF({className:t,children:e,...n}){return a.jsxs(QF,{"data-slot":"scroll-area",className:Fe("relative",t),...n,children:[a.jsx(YF,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),a.jsx(ZF,{}),a.jsx(XF,{})]})}function ZF({className:t,orientation:e="vertical",...n}){return a.jsx(ej,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:a.jsx(sj,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function cj({report:t,isAnalyzing:e,onApplySuggestion:n,onClose:r,className:i=""}){if(e)return a.jsxs(r1,{className:`animate-pulse ${i}`,children:[a.jsxs(s1,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(o1,{className:"flex items-center gap-2",children:[a.jsx($m,{className:"h-4 w-4 text-blue-500"}),"Brand Guard"]}),r&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:r,children:a.jsx(hi,{className:"h-4 w-4"})})]}),a.jsx(OF,{children:"Analizando conformidad con directrices de marca..."})]}),a.jsx(i1,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]})})]});if(!t)return null;const l=m=>{switch(m){case"block":return a.jsx(mn,{className:"h-4 w-4 text-red-500"});case"warn":return a.jsx(mn,{className:"h-4 w-4 text-yellow-500"});case"info":return a.jsx(Hp,{className:"h-4 w-4 text-blue-500"});default:return a.jsx(Hp,{className:"h-4 w-4 text-gray-500"})}},u=m=>{switch(m){case"block":return"destructive";case"warn":return"secondary";case"info":return"default";default:return"outline"}},f=m=>m>=90?"text-green-600":m>=70?"text-yellow-600":"text-red-600",p=m=>m>=90?"Excelente":m>=70?"Bueno":m>=50?"Mejorable":"Requiere atencin";return a.jsxs(r1,{className:i,children:[a.jsxs(s1,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(o1,{className:"flex items-center gap-2",children:[a.jsx($m,{className:"h-4 w-4 text-blue-500"}),"Brand Guard"]}),r&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:r,children:a.jsx(hi,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bt,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:`font-medium ${f(t.score)}`,children:[t.score,"/100"]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",p(t.score),")"]})]}),t.findings.length>0&&a.jsxs(xt,{variant:"secondary",children:[t.findings.length," finding",t.findings.length!==1?"s":""]})]})]}),a.jsx(i1,{className:"space-y-4",children:t.findings.length===0?a.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[a.jsx(bt,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),a.jsx("p",{children:"Perfecto! El contenido cumple con todas las directrices de marca."})]}):a.jsxs(a.Fragment,{children:[a.jsx(JF,{className:"max-h-60",children:a.jsx("div",{className:"space-y-3",children:t.findings.map((m,y)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[l(m.severity),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(xt,{variant:u(m.severity),className:"text-xs",children:m.type}),a.jsx("span",{className:"text-sm capitalize text-muted-foreground",children:m.severity})]}),a.jsx("p",{className:"text-sm",children:m.message}),m.suggestion&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",m.suggestion]})]})]}),y<t.findings.length-1&&a.jsx(fc,{})]},y))})}),t.suggestedText&&n&&a.jsxs(a.Fragment,{children:[a.jsx(fc,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:"Texto sugerido:"}),a.jsx("div",{className:"bg-muted p-3 rounded-md",children:a.jsx("p",{className:"text-sm",children:t.suggestedText})}),a.jsx(Ce,{size:"sm",onClick:()=>n(t.suggestedText),className:"w-full",children:"Aplicar sugerencia"})]})]}),t.disclaimerNeeded&&t.disclaimerText&&a.jsxs(a.Fragment,{children:[a.jsx(fc,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(Hp,{className:"h-4 w-4"}),"Disclaimer requerido:"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-md",children:a.jsx("p",{className:"text-xs text-yellow-800",children:t.disclaimerText})})]})]})]})})]})}function jm({report:t,isAnalyzing:e,onApplySuggestion:n,size:r="sm",showLabel:i=!0}){const l=()=>e?"secondary":t?t.score>=90?"default":t.score>=70?"secondary":"destructive":"outline",u=()=>e?a.jsx(ys,{className:"h-3 w-3 animate-spin"}):t?t.findings.some(p=>p.severity==="block"||p.severity==="warn")?a.jsx(mn,{className:"h-3 w-3"}):a.jsx(bt,{className:"h-3 w-3"}):a.jsx(T_,{className:"h-3 w-3"}),f=()=>e?"Analizando...":t?t.findings.length===0?i?`${t.score}/100`:`${t.score}`:i?`${t.score}/100 (${t.findings.length})`:`${t.score} (${t.findings.length})`:"Brand Guard";return!e&&!t?null:a.jsxs(RF,{children:[a.jsx(MF,{asChild:!0,children:a.jsx(Ce,{variant:"ghost",size:r,className:`h-6 px-2 ${r==="sm"?"text-xs":"text-sm"}`,children:a.jsxs(xt,{variant:l(),className:"flex items-center gap-1",children:[u(),i&&a.jsx("span",{className:"font-medium",children:f()})]})})}),a.jsx(DF,{className:"w-80 p-0",align:"end",side:"top",children:a.jsx(cj,{report:t,isAnalyzing:e,onApplySuggestion:n})})]})}function l1(){const t=iF(void 0),e=cF(),[n,r]=b.useState(!1),[i,l]=b.useState(!1),[u,f]=b.useState(!1),[p,m]=b.useState(!1),[y,x]=b.useState("md"),[v,E]=b.useState("readonly"),[S,C]=b.useState(!1),k=t.isStreaming,V=t.composerText.trim().length>0&&!k,$=k,F=b.useMemo(()=>t.messages.find(te=>te.role==="user")?.parts?.[0]?.value?.substring(0,50)+"..."||"New Chat",[t.messages]),U=[],L=b.useRef(null),K=b.useRef(null);b.useEffect(()=>{const B=()=>{r(window.innerWidth<768),window.innerWidth>=768&&t.setRightPanelOpen(!0)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[t]),b.useEffect(()=>{K.current&&(K.current.scrollTop=K.current.scrollHeight)},[t.messages]),b.useEffect(()=>{const B=t.messages[t.messages.length-1];if(B&&B.role==="assistant"&&B.parts?.[0]?.value&&!B.isStreaming&&t.settings.brandGuard){const te=B.parts[0].value;te.trim().length>0&&e.checkAssistantMessage(te,{objective:"chat_response",audience:"general"})}},[t.messages,e,t.settings.brandGuard]),b.useEffect(()=>{if(t.settings.brandGuard&&t.composerText.length>10){const B=setTimeout(()=>{e.checkUserMessage(t.composerText,{objective:"user_input",audience:"general"})},500);return()=>clearTimeout(B)}},[t.composerText,e,t.settings.brandGuard]);const I=B=>{const te=t.composerText+B;t.setComposerText(te),l(!1),L.current?.focus()},j=async()=>{if(V)try{const B=t.composerText.trim();B.length>0&&t.settings.brandGuard&&await e.checkUserMessage(B,{objective:"chat_conversation",audience:"general"}),await t.send(),setTimeout(()=>L.current?.focus(),100)}catch(B){console.error("Failed to send message:",B)}},A=B=>{B.key==="Escape"&&l(!1),(B.ctrlKey||B.metaKey)&&B.key==="Enter"&&(B.preventDefault(),j())},M=B=>{const te=B.target.value;t.setComposerText(te);const se=B.target.selectionStart,ce=te.substring(0,se),q=ce.slice(-1),ee=ce.slice(-2,-1);l(q==="/"&&(ce.length===1||ee===" "||ee===`
`))},O=b.useCallback(B=>{t.setComposerText(B),e.applySuggestion(t.composerText,B),L.current?.focus()},[t,e]),D=()=>k?a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-xl p-3 max-w-md",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:t.settings.persona==="mentor"?"Analizando solicitud":t.settings.persona==="planner"?"Estructurando respuesta":"Procesando informacin"}),U.length>0&&a.jsx("div",{className:"space-y-2 mb-3",children:U.map((B,te)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${B.completed?"bg-green-500":"bg-amber-500"}`}),a.jsx("span",{className:"text-sm",children:B.name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:B.mode==="dry_run"?"(simulado)":"(en vivo)"})]},te))}),a.jsx(yF,{value:k?45:100,className:"mb-3"}),$&&a.jsxs(Ce,{variant:"outline",size:"sm",onClick:t.abort,className:"flex items-center gap-1",children:[a.jsx(Lm,{className:"w-3 h-3"}),"Cancelar"]})]})}):null,P=b.useCallback((B,te)=>{const se=B.role==="user",ce=B.role==="assistant";return a.jsxs("div",{className:`flex gap-2 sm:gap-3 ${se?"justify-end":""}`,children:[!se&&a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium flex-shrink-0",children:"AI"}),a.jsxs("div",{className:`flex-1 max-w-[85%] sm:max-w-[80%] ${se?"flex flex-col items-end":""}`,children:[a.jsxs("div",{className:`rounded-xl p-3 text-sm ${se?"bg-blue-600 text-white":"bg-gray-50"}`,children:[a.jsx("div",{className:"whitespace-pre-wrap",children:B.parts?.[0]?.value||B.content||""}),ce&&B.meta?.tools&&a.jsx("div",{className:"flex items-center gap-1 mt-2 flex-wrap",children:B.meta.tools.map((q,ee)=>a.jsx(xt,{variant:"secondary",className:"text-xs",children:q.name},ee))}),ce&&B.meta?.googleIaRequest&&a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("div",{className:"text-xs font-medium text-blue-800",children:" Solicitud de generacin visual"}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[B.meta.googleIaRequest.task,": ",B.meta.googleIaRequest.subject]})]}),ce&&B.meta?.usage&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[B.meta.usage.prompt+B.meta.usage.completion," tokens"]})]}),a.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:B.createdAt?new Date(B.createdAt).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"Ahora"}),!B.isStreaming&&B.parts?.[0]?.value&&a.jsx(jm,{report:ce?e.lastReport:null,isAnalyzing:!1,onApplySuggestion:se?O:void 0,size:"sm",showLabel:!1})]}),ce&&te===t.messages.length-1&&!k&&a.jsxs("div",{className:"mt-2 flex gap-1",children:[a.jsxs(Ce,{variant:"ghost",size:"sm",onClick:()=>t.regenerate(),className:"text-xs",children:[a.jsx(ZP,{className:"w-3 h-3 mr-1"}),"Regenerar"]}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>t.regenerate("shorter"),className:"text-xs",children:"Ms breve"}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>t.regenerate("creative"),className:"text-xs",children:"Ms creativo"})]})]}),se&&a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-sm font-medium text-white flex-shrink-0",children:"U"})]},B.id||te)},[t.messages.length,k,t.regenerate]);return a.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row bg-background",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs("div",{className:"min-h-14 border-b bg-card px-2 sm:px-4 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${k?"bg-amber-500":t.error?"bg-red-500":"bg-blue-500"}`,title:k?"Generando":t.error?"Error":"Modo Demo"}),a.jsxs("h1",{className:"text-base font-medium",children:["Chat Maestro",a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Demo"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[a.jsxs(xt,{variant:"outline",className:"text-xs",children:[a.jsx(NP,{className:"w-3 h-3 mr-1"}),F]}),a.jsxs(xt,{variant:"secondary",className:"text-xs",children:[t.settings.model,"  ",t.settings.persona]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[a.jsxs(ph,{open:u,onOpenChange:f,children:[a.jsx(cg,{asChild:!0,children:a.jsxs(Ce,{variant:"outline",size:"sm",children:[a.jsx(dr,{className:"w-3 h-3 mr-1"}),"Exportar"]})}),a.jsxs(Cc,{children:[a.jsx(jc,{children:a.jsx(kc,{children:"Exportar Conversacin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(li,{value:y,onValueChange:x,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"md",id:"md"}),a.jsx(Ze,{htmlFor:"md",children:"Markdown (.md)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"pdf",id:"pdf"}),a.jsx(Ze,{htmlFor:"pdf",children:"PDF"})]})]}),a.jsxs(Ce,{onClick:()=>f(!1),children:["Exportar como ",y.toUpperCase()]})]})]})]}),a.jsxs(ph,{open:p,onOpenChange:m,children:[a.jsx(cg,{asChild:!0,children:a.jsxs(Ce,{variant:"outline",size:"sm",children:[a.jsx(Fm,{className:"w-3 h-3 mr-1"}),"Compartir"]})}),a.jsxs(Cc,{children:[a.jsx(jc,{children:a.jsx(kc,{children:"Compartir Conversacin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(li,{value:v,onValueChange:E,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"readonly",id:"readonly"}),a.jsx(Ze,{htmlFor:"readonly",children:"Solo lectura"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kn,{value:"collaborative",id:"collaborative"}),a.jsx(Ze,{htmlFor:"collaborative",children:"Colaborativo"})]})]}),a.jsx(Ce,{onClick:()=>m(!1),children:"Generar enlace"})]})]})]})]})]}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>t.setRightPanelOpen(!t.rightPanelOpen),children:a.jsx(JI,{className:`w-4 h-4 transition-transform ${t.rightPanelOpen?"rotate-180":""}`})})]}),a.jsx("div",{className:"border-b bg-card px-2 sm:px-4 py-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(YP,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("select",{value:t.settings.model,onChange:B=>t.setSettings({model:B.target.value}),className:"text-xs bg-transparent border-none outline-none",children:a.jsx("option",{value:"gpt-5",children:"GPT-5"})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sc,{className:"w-3 h-3 text-muted-foreground"}),a.jsxs("select",{value:t.settings.persona,onChange:B=>t.setSettings({persona:B.target.value}),className:"text-xs bg-transparent border-none outline-none",children:[a.jsx("option",{value:"mentor",children:"Mentor creativo"}),a.jsx("option",{value:"planner",children:"Planificador estratgico"}),a.jsx("option",{value:"engineer",children:"Ingeniero tcnico"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Temp"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:t.settings.temperature,onChange:B=>t.setSettings({temperature:parseFloat(B.target.value)}),className:"w-16"}),a.jsx(xt,{variant:"secondary",className:"text-xs font-mono",children:t.settings.temperature.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(xt,{variant:t.settings.brandGuard?"default":"secondary",className:"text-xs cursor-pointer",onClick:()=>t.setSettings({brandGuard:!t.settings.brandGuard}),children:["Brand Guard ",t.settings.brandGuard?"ON":"OFF"]}),t.settings.brandGuard&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(jm,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:O,size:"sm",showLabel:!0}),e.lastReport?.findings&&e.lastReport.findings.length>0&&a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>C(!S),className:"h-6 px-1",children:S?a.jsx(Ta,{className:"h-3 w-3"}):a.jsx(lr,{className:"h-3 w-3"})})]})]})]})}),S&&e.lastReport&&a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.jsx(cj,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:O,onClose:()=>C(!1)})})}),a.jsx("div",{ref:K,className:"flex-1 overflow-y-auto p-2 sm:p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.error&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 max-w-md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mn,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-sm text-red-800",children:t.error})]})})}),t.messages.map((B,te)=>a.jsx("div",{children:P(B,te)},B.id||`msg-${te}`)),D(),t.messages.length===0&&!k&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(sc,{className:"w-8 h-8 text-muted-foreground"})}),a.jsxs("h3",{className:"text-lg font-medium mb-2",children:["Bienvenido al Chat Maestro!",a.jsx("span",{className:"block text-sm text-blue-600 mt-1",children:"Modo Demo Activo"})]}),a.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:"En modo demo puedes probar todas las funcionalidades del chat sin conexin al backend. Las respuestas son simuladas para demostrar el flujo de trabajo."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[a.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>t.setComposerText("/brief Crear campaa de redes sociales para lanzamiento de producto"),children:" Brief creativo"}),a.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>t.setComposerText('/tone Revisar este copy: "Tu mejor versin est a un click de distancia"'),children:" Tone check"}),a.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>t.setComposerText("/web ltimas tendencias en marketing digital 2025"),children:" Bsqueda web"})]})]})]})}),a.jsx("div",{className:"border-t bg-card shadow-sm",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Ce,{variant:"ghost",size:"sm",className:"p-2",title:"Adjuntar archivo",children:a.jsx(GP,{className:"w-4 h-4"})}),a.jsx(Ce,{variant:"ghost",size:"sm",className:"p-2",title:"Grabar audio",children:a.jsx(C_,{className:"w-4 h-4"})}),a.jsxs(Ce,{variant:"ghost",size:"sm",onClick:()=>l(!i),className:"flex items-center gap-1",children:[a.jsx(sc,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Comandos"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>I("/brief "),className:"text-xs",children:"/brief"}),a.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>I("/tone "),className:"text-xs",children:"/tone"}),a.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>I("/web "),className:"text-xs",children:"/web"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(DC,{ref:L,value:t.composerText,onChange:M,onKeyDown:A,placeholder:"Escribe tu mensaje... Usa / para abrir comandos, Ctrl/+Enter para enviar",className:"resize-none min-h-[80px] max-h-[200px] pr-12",disabled:k}),a.jsx(Ce,{onClick:j,disabled:!V,size:"sm",className:"absolute bottom-2 right-2",children:a.jsx(Vc,{className:"w-4 h-4"})}),i&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-96 bg-popover border border-border rounded-xl shadow-lg z-50",children:a.jsx("div",{className:"p-2 space-y-1",children:[{cmd:"/brief",icon:DP,title:"Brief creativo",desc:"Objetivo, audiencia, conceptos y ganchos"},{cmd:"/tone",icon:HI,title:"Tone Check",desc:"Verificacin de tono de marca"},{cmd:"/imgjson",icon:Ia,title:"Prompt JSON",desc:"Generar JSON para imgenes"},{cmd:"/web",icon:Ug,title:"Bsqueda web",desc:"Buscar informacin actualizada"},{cmd:"/sum",icon:Yd,title:"Resumir",desc:"Resumir documento adjunto"}].map(B=>a.jsxs(Ce,{variant:"ghost",className:"w-full justify-start p-2.5 h-auto",onClick:()=>I(`${B.cmd} `),children:[a.jsx(B.icon,{className:"w-4 h-4 mr-3 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-sm font-medium",children:[B.cmd,"  ",B.title]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:B.desc})]})]},B.cmd))})})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-600",children:"Demo Mode"}),a.jsx("span",{children:""}),a.jsx(jm,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:O,size:"sm",showLabel:!0}),a.jsx("span",{children:""}),a.jsxs("span",{children:[t.composerText.length," caracteres"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[" ",Math.ceil(t.composerText.length/4)," tokens"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[k&&a.jsx("span",{children:"Generando..."}),a.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"+Enter"})]})]})]})})]}),t.rightPanelOpen&&a.jsxs("div",{className:"w-80 border-l bg-card flex flex-col",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:"Biblioteca"}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>t.setRightPanelOpen(!1),children:a.jsx(hi,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Plantillas rpidas"}),a.jsx("div",{className:"space-y-2",children:["Brief para campaa de redes sociales","Anlisis de competencia","Propuesta creativa","Plan de contenidos mensual"].map((B,te)=>a.jsx(Ce,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>t.setComposerText(`Aydame a crear: ${B}`),children:B},te))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Historial"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ce,{variant:"ghost",size:"sm",onClick:t.createNewThread,className:"w-full justify-start text-xs",children:[a.jsx(j_,{className:"w-3 h-3 mr-2"}),"Nuevo chat"]}),["Campaa lanzamiento producto...","Anlisis brief cliente ABC...","Propuesta naming marca..."].map((B,te)=>a.jsxs(Ce,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-muted-foreground",children:[a.jsx(Dh,{className:"w-3 h-3 mr-2"}),B]},te))]})]})]})})]})]})}const c1=[{id:"engagement",label:"Engagement (510s)",binding:"@tipo"},{id:"promocional",label:"Promocional (515s)",binding:"@tipo"},{id:"anuncio",label:"Anuncio (515s)",binding:"@tipo"},{id:"educativo",label:"Educativo (1015s)",binding:"@tipo"},{id:"behind_scenes",label:"Behind Scenes (1015s)",binding:"@tipo"},{id:"producto",label:"Producto (1015s)",binding:"@tipo"},{id:"evento",label:"Evento (515s)",binding:"@tipo"},{id:"pregunta_encuesta",label:"Pregunta/Encuesta (510s)",binding:"@tipo"}];function e9(){const{goToNextStep:t}=qv(),[e,n]=b.useState([{id:"1",role:"user",content:"Quiero una historia promocional de 10s con CTA de compra.",timestamp:new Date(Date.now()-6e4)},{id:"2",role:"assistant",content:"Entendido. @tipo: Promocional; @duracion: 10s; @objetivo: vender oferta; @cta: Compra ahora; @publico: clientes jvenes.",timestamp:new Date(Date.now()-3e4)}]),[r,i]=b.useState(""),[l,u]=b.useState({tipo:"promocional",objetivo:"vender oferta",publico:"clientes jvenes",mensaje:"",cta:"Compra ahora"});b.useEffect(()=>{const E=e.filter(S=>S.role==="assistant").pop();if(E){const S=E.content,C=S.match(/@tipo:\s*([^;]+)/),k=S.match(/@objetivo:\s*([^;]+)/),V=S.match(/@publico:\s*([^;]+)/),$=S.match(/@mensaje:\s*([^;]+)/),F=S.match(/@cta:\s*([^;]+)/);u(U=>({...U,...C&&{tipo:C[1].toLowerCase().trim()},...k&&{objetivo:k[1].trim()},...V&&{publico:V[1].trim()},...$&&{mensaje:$[1].trim()},...F&&{cta:F[1].trim()}}))}},[e]);const f=()=>{if(!r.trim())return;const E={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};n(S=>[...S,E]),setTimeout(()=>{const S={id:(Date.now()+1).toString(),role:"assistant",content:"Perfecto. He actualizado los campos del formulario basndome en tu solicitud. Hay algo ms que quieras ajustar?",timestamp:new Date};n(C=>[...C,S])},1e3),i("")},p=E=>{c1.find(C=>C.id===E)&&u(C=>({...C,tipo:E}))},m=(E,S)=>{u(C=>({...C,[E]:S}))},y=[{label:"Tipo de historia seleccionado",completed:!!l.tipo},{label:"Objetivo definido",completed:!!l.objetivo},{label:"Pblico identificado",completed:!!l.publico},{label:"Mensaje principal listo",completed:!!l.mensaje},{label:"CTA definido",completed:!!l.cta}],v=y.filter(E=>E.completed).length===y.length;return a.jsx("div",{className:"h-full bg-canvas",children:a.jsxs("div",{className:"h-full flex gap-4 p-4",children:[a.jsx("div",{className:"w-[460px] flex-shrink-0",children:a.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm p-3 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-100",children:[a.jsx(Lc,{className:"w-4 h-4 text-blue-600"}),a.jsx("h3",{className:"font-medium text-sm",children:"Chat Maestro (Briefing de Historia)"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto py-3 space-y-3",style:{height:"560px"},children:e.map(E=>a.jsxs("div",{className:`flex gap-2 ${E.role==="user"?"justify-end":"justify-start"}`,children:[E.role==="assistant"&&a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(zg,{className:"w-3 h-3 text-blue-600"})}),a.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-xs leading-relaxed ${E.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:E.content}),E.role==="user"&&a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(M_,{className:"w-3 h-3 text-gray-600"})})]},E.id))}),a.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[a.jsx("textarea",{value:r,onChange:E=>i(E.target.value),placeholder:"Escribe una instruccin o idea",rows:3,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),f())}}),a.jsxs("button",{onClick:f,disabled:!r.trim(),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[a.jsx(Vc,{className:"w-3 h-3"}),"Enviar al asistente"]})]})]})}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm p-3 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[a.jsx("h2",{className:"font-medium",children:"Nueva Historia"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 1 de 6"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:[a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Selecciona tipo de historia"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:c1.map(E=>a.jsx("button",{onClick:()=>p(E.id),className:`px-3 py-1.5 rounded-lg text-xs border transition-all ${l.tipo===E.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:E.label},E.id))})]}),a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Detalles de la historia"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Objetivo"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("textarea",{value:l.objetivo,onChange:E=>m("objetivo",E.target.value),placeholder:"Ej: Aumentar interaccin, generar ventas",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Pblico objetivo"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("textarea",{value:l.publico,onChange:E=>m("publico",E.target.value),placeholder:"Ej: Jvenes de 1830 interesados en moda",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Mensaje principal"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("input",{type:"text",value:l.mensaje,onChange:E=>m("mensaje",E.target.value),placeholder:"Ej: Oferta flash disponible hoy",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"CTA"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("input",{type:"text",value:l.cta,onChange:E=>m("cta",E.target.value),placeholder:"Ej: Desliza hacia arriba, Compra ahora",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Checklist"}),a.jsx("div",{className:"space-y-2",children:y.map((E,S)=>a.jsxs("div",{className:"flex items-center gap-2",children:[E.completed?a.jsx(bt,{className:"w-4 h-4 text-green-500"}):a.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded-full"}),a.jsx("span",{className:`text-sm ${E.completed?"text-green-700":"text-gray-600"}`,children:E.label})]},S))}),v&&a.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ws,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Briefing completo! Listo para continuar."})]})})]})]}),a.jsx("div",{className:"pt-3 border-t border-gray-100 flex justify-end",children:a.jsxs("button",{onClick:t,disabled:!v,className:`flex items-center gap-2 px-4 py-2 rounded text-sm ${v?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Configuracin",a.jsx(Gn,{className:"w-4 h-4"})]})})]})})]})})}const t9=[{id:"engagement",label:"Engagement (510s)",binding:"@tipo"},{id:"promocional",label:"Promocional (515s)",binding:"@tipo"},{id:"anuncio",label:"Anuncio (515s)",binding:"@tipo"},{id:"educativo",label:"Educativo (1015s)",binding:"@tipo"},{id:"behind_scenes",label:"Behind Scenes (1015s)",binding:"@tipo"},{id:"producto",label:"Producto (1015s)",binding:"@tipo"},{id:"evento",label:"Evento (515s)",binding:"@tipo"},{id:"pregunta_encuesta",label:"Pregunta/Encuesta (510s)",binding:"@tipo"}];function n9(){const[t,e]=b.useState([{id:"1",role:"user",content:"Quiero una historia promocional de 10s con CTA de compra.",timestamp:new Date(Date.now()-6e4)},{id:"2",role:"assistant",content:"Entendido. @tipo: Promocional; @duracion: 10s; @objetivo: vender oferta; @cta: Compra ahora; @publico: clientes jvenes.",timestamp:new Date(Date.now()-3e4)}]),[n,r]=b.useState(""),[i,l]=b.useState({tipo:"promocional",objetivo:"vender oferta",publico:"clientes jvenes",mensaje:"",cta:"Compra ahora"}),[u,f]=b.useState(!1);b.useEffect(()=>{const S=t.filter(C=>C.role==="assistant").pop();if(S){const C=S.content,k=C.match(/@tipo:\s*([^;]+)/),V=C.match(/@objetivo:\s*([^;]+)/),$=C.match(/@publico:\s*([^;]+)/),F=C.match(/@mensaje:\s*([^;]+)/),U=C.match(/@cta:\s*([^;]+)/);l(L=>({...L,...k&&{tipo:k[1].toLowerCase().trim()},...V&&{objetivo:V[1].trim()},...$&&{publico:$[1].trim()},...F&&{mensaje:F[1].trim()},...U&&{cta:U[1].trim()}}))}},[t]);const p=()=>{if(!n.trim())return;const S={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};e(C=>[...C,S]),setTimeout(()=>{const C={id:(Date.now()+1).toString(),role:"assistant",content:"Perfecto. He actualizado los campos del formulario basndome en tu solicitud. Hay algo ms que quieras ajustar?",timestamp:new Date};e(k=>[...k,C])},1e3),r("")},m=S=>{l(C=>({...C,tipo:S}))},y=(S,C)=>{l(k=>({...k,[S]:C}))},x=[{label:"Tipo de historia seleccionado",completed:!!i.tipo},{label:"Objetivo definido",completed:!!i.objetivo},{label:"Pblico identificado",completed:!!i.publico},{label:"Mensaje principal listo",completed:!!i.mensaje},{label:"CTA definido",completed:!!i.cta}],E=x.filter(S=>S.completed).length===x.length;return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:"Nueva Historia"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 1 de 6"})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"bg-white border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>f(!u),className:"w-full p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lc,{className:"w-4 h-4 text-blue-600"}),a.jsx("h3",{className:"font-medium text-sm",children:"Chat Maestro (Briefing de Historia)"})]}),u?a.jsx(Ta,{className:"w-4 h-4 text-gray-500"}):a.jsx(lr,{className:"w-4 h-4 text-gray-500"})]}),u&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsx("div",{className:"max-h-60 overflow-y-auto py-3 space-y-3 border border-gray-100 rounded-lg p-3 mb-3",children:t.map(S=>a.jsxs("div",{className:`flex gap-2 ${S.role==="user"?"justify-end":"justify-start"}`,children:[S.role==="assistant"&&a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(zg,{className:"w-3 h-3 text-blue-600"})}),a.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-xs leading-relaxed ${S.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:S.content}),S.role==="user"&&a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(M_,{className:"w-3 h-3 text-gray-600"})})]},S.id))}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:n,onChange:S=>r(S.target.value),placeholder:"Escribe una instruccin o idea",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsxs("button",{onClick:p,disabled:!n.trim(),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 disabled:bg-gray-300",children:[a.jsx(Vc,{className:"w-3 h-3"}),"Enviar al asistente"]})]})]})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Selecciona tipo de historia"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:t9.map(S=>a.jsx("button",{onClick:()=>m(S.id),className:`px-3 py-2 rounded-lg text-xs border transition-all text-left ${i.tipo===S.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:S.label},S.id))})]}),a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Detalles de la historia"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Objetivo"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("textarea",{value:i.objetivo,onChange:S=>y("objetivo",S.target.value),placeholder:"Ej: Aumentar interaccin, generar ventas",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Pblico objetivo"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("textarea",{value:i.publico,onChange:S=>y("publico",S.target.value),placeholder:"Ej: Jvenes de 1830 interesados en moda",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Mensaje principal"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("input",{type:"text",value:i.mensaje,onChange:S=>y("mensaje",S.target.value),placeholder:"Ej: Oferta flash disponible hoy",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"CTA"}),a.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),a.jsx("input",{type:"text",value:i.cta,onChange:S=>y("cta",S.target.value),placeholder:"Ej: Desliza hacia arriba, Compra ahora",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Checklist"}),a.jsx("div",{className:"space-y-2",children:x.map((S,C)=>a.jsxs("div",{className:"flex items-center gap-2",children:[S.completed?a.jsx(bt,{className:"w-4 h-4 text-green-500"}):a.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded-full"}),a.jsx("span",{className:`text-sm ${S.completed?"text-green-700":"text-gray-600"}`,children:S.label})]},C))}),E&&a.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ws,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Briefing completo! Listo para continuar."})]})})]})]})]}),a.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:a.jsxs("button",{disabled:!E,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded text-sm ${E?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Configuracin",a.jsx(Gn,{className:"w-4 h-4"})]})})]})}function r9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function u1(){return r9()?a.jsx(n9,{}):a.jsx(e9,{})}const s9=[{id:"sticker",label:"Sticker"},{id:"encuesta",label:"Encuesta"},{id:"pregunta",label:"Pregunta"},{id:"reaccion",label:"Reaccin"},{id:"link_cta",label:"Link / CTA"}],o9=[{id:"minimalista",label:"Minimalista"},{id:"colorido",label:"Colorido"},{id:"dinamico",label:"Dinmico"},{id:"plantilla_oficial",label:"Plantilla oficial"}];function i9(){const{goToNextStep:t,goToPreviousStep:e}=qv(),[n,r]=b.useState(10),[i,l]=b.useState("10"),[u,f]=b.useState(["link_cta"]),[p,m]=b.useState("minimalista"),[y,x]=b.useState(2),[v,E]=b.useState("2"),S=U=>{r(U),l(U.toString())},C=U=>{l(U);const L=parseInt(U);!isNaN(L)&&L>=5&&L<=15&&r(L)},k=U=>{x(U),E(U.toString())},V=U=>{E(U);const L=parseInt(U);!isNaN(L)&&L>=1&&L<=5&&x(L)},$=U=>{f(L=>L.includes(U)?L.filter(K=>K!==U):[...L,U])},F=U=>{m(U)};return a.jsxs("div",{className:"h-full bg-canvas",children:[a.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("h1",{className:"text-2xl font-medium",children:"Configuracin de Historia"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 2 de 6"}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:["Siguiente: Generacin inicial",a.jsx(Gn,{className:"w-4 h-4"})]})]})]}),a.jsxs("div",{className:"flex-1 space-y-6 overflow-y-auto",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Duracin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium min-w-0",children:"Duracin exacta (segundos)"}),a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("input",{type:"range",min:"5",max:"15",step:"1",value:n,onChange:U=>S(parseInt(U.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(n-5)/10*100}%, #E5E7EB ${(n-5)/10*100}%, #E5E7EB 100%)`}}),a.jsx("input",{type:"number",min:"5",max:"15",value:i,onChange:U=>C(U.target.value),className:"w-16 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"s"})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"El rango depende del tipo de historia seleccionado en el paso anterior."})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Elementos interactivos"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s9.map(U=>a.jsx("button",{onClick:()=>$(U.id),className:`px-3 py-2 rounded-xl text-sm border transition-all ${u.includes(U.id)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:U.label},U.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Estilo visual"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o9.map(U=>a.jsx("button",{onClick:()=>F(U.id),className:`px-3 py-2 rounded-xl text-sm border transition-all ${p===U.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:U.label},U.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Nmero de variaciones"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium min-w-0",children:"Variaciones a generar"}),a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:y,onChange:U=>k(parseInt(U.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(y-1)/4*100}%, #E5E7EB ${(y-1)/4*100}%, #E5E7EB 100%)`}}),a.jsx("input",{type:"number",min:"1",max:"5",value:v,onChange:U=>V(U.target.value),className:"w-16 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Validacin previa: logo y CTA deben estar presentes antes de exportar."})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[a.jsx(In,{className:"w-4 h-4"}),"Anterior: Briefing"]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:["Siguiente: Generacin inicial",a.jsx(Gn,{className:"w-4 h-4"})]})]})]}),a.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}const a9=[{id:"sticker",label:"Sticker"},{id:"encuesta",label:"Encuesta"},{id:"pregunta",label:"Pregunta"},{id:"reaccion",label:"Reaccin"},{id:"link_cta",label:"Link / CTA"}],l9=[{id:"minimalista",label:"Minimalista"},{id:"colorido",label:"Colorido"},{id:"dinamico",label:"Dinmico"},{id:"plantilla_oficial",label:"Plantilla oficial"}];function c9(){const[t,e]=b.useState(10),[n,r]=b.useState("10"),[i,l]=b.useState(["link_cta"]),[u,f]=b.useState("minimalista"),[p,m]=b.useState(2),[y,x]=b.useState("2"),v=$=>{e($),r($.toString())},E=$=>{r($);const F=parseInt($);!isNaN(F)&&F>=5&&F<=15&&e(F)},S=$=>{m($),x($.toString())},C=$=>{x($);const F=parseInt($);!isNaN(F)&&F>=1&&F<=5&&m(F)},k=$=>{l(F=>F.includes($)?F.filter(U=>U!==$):[...F,$])},V=$=>{f($)};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-medium",children:"Configuracin de Historia"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 2 de 6"})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Duracin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Duracin exacta (segundos)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"5",max:"15",value:n,onChange:$=>E($.target.value),className:"w-12 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"s"})]})]}),a.jsx("input",{type:"range",min:"5",max:"15",step:"1",value:t,onChange:$=>v(parseInt($.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(t-5)/10*100}%, #E5E7EB ${(t-5)/10*100}%, #E5E7EB 100%)`}}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"5s"}),a.jsx("span",{children:"15s"})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"El rango depende del tipo de historia seleccionado en el paso anterior."})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Elementos interactivos"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:a9.map($=>a.jsx("button",{onClick:()=>k($.id),className:`px-3 py-2 rounded-xl text-sm border transition-all text-center ${i.includes($.id)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:$.label},$.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Estilo visual"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l9.map($=>a.jsx("button",{onClick:()=>V($.id),className:`px-3 py-2 rounded-xl text-sm border transition-all text-center ${u===$.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:$.label},$.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Nmero de variaciones"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Variaciones a generar"}),a.jsx("input",{type:"number",min:"1",max:"5",value:y,onChange:$=>C($.target.value),className:"w-12 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:p,onChange:$=>S(parseInt($.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(p-1)/4*100}%, #E5E7EB ${(p-1)/4*100}%, #E5E7EB 100%)`}}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"1"}),a.jsx("span",{children:"5"})]})]})]}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(mn,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-amber-700",children:[a.jsx("strong",{children:"Validacin previa:"})," logo y CTA deben estar presentes antes de exportar."]})]})})]}),a.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-200 rounded flex-1",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 flex-1",children:["Siguiente: Generacin inicial",a.jsx(Gn,{className:"w-4 h-4"})]})]})}),a.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}function u9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function d9(){return u9()?a.jsx(c9,{}):a.jsx(i9,{})}const h9=[{id:1,type:"Promocional",preview:{bg:"bg-gradient-to-br from-blue-500 to-purple-600",content:`OFERTA FLASH
50% OFF
Solo hoy`},elements:["Sticker: Qu opinas?","CTA: Desliza hacia arriba"]},{id:2,type:"Engagement",preview:{bg:"bg-gradient-to-br from-pink-500 to-red-500",content:`Cul prefieres?
A o B
Vota ahora`},elements:["Encuesta: A o B?","CTA: Vota ahora"]},{id:3,type:"Educativo",preview:{bg:"bg-gradient-to-br from-green-500 to-teal-600",content:`TIP DEL DA
#MarketingTips
Aprende ms`},elements:["Sticker: Tip del da","CTA: Aprende ms"]},{id:4,type:"Behind Scenes",preview:{bg:"bg-gradient-to-br from-orange-500 to-yellow-500",content:`DETRS DE
CMARAS
As trabajamos`},elements:["Sticker: Behind scenes","CTA: Ver proceso"]},{id:5,type:"Producto",preview:{bg:"bg-gradient-to-br from-indigo-500 to-blue-600",content:`NUEVO
PRODUCTO
Conoce ms`},elements:["Sticker: Nuevo producto","CTA: Conoce ms"]},{id:6,type:"Evento",preview:{bg:"bg-gradient-to-br from-teal-500 to-green-500",content:`EVENTO
ESPECIAL
Te esperamos`},elements:["Sticker: Evento especial","CTA: Te esperamos"]}];function f9(){const[t,e]=b.useState(!0),[n,r]=b.useState([]),[i,l]=b.useState(h9);b.useEffect(()=>{const v=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(v)},[]);const u=v=>{r(E=>E.includes(v)?E.filter(S=>S!==v):[...E,v])},f=()=>{n.length===i.length?r([]):r(i.map(v=>v.id))},p=v=>{console.log(`Regenerating story ${v}`)},m=v=>{l(E=>E.filter(S=>S.id!==v)),r(E=>E.filter(S=>S!==v))},y=n.length,x=y>0;return t?a.jsx("div",{className:"h-full bg-canvas",children:a.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("h1",{className:"text-2xl font-medium",children:"Generacin inicial de Historias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 3 de 6"}),a.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 text-gray-400",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 bg-gray-300 text-gray-500 rounded",children:["Siguiente: Edicin avanzada",a.jsx(Gn,{className:"w-4 h-4"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ys,{className:"w-6 h-6 animate-spin text-blue-500"}),a.jsx("span",{className:"text-lg",children:"Generando borradores de historias con IA"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-6 w-full max-w-4xl",children:Array.from({length:6}).map((v,E)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 animate-pulse",children:[a.jsx("div",{className:"w-full h-[420px] bg-gray-200 rounded-lg mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),a.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),a.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})]},E))})]})]})}):a.jsx("div",{className:"h-full bg-canvas",children:a.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("h1",{className:"text-2xl font-medium",children:"Generacin inicial de Historias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 3 de 6"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[y," historia",y!==1?"s":""," seleccionada",y!==1?"s":""]}),a.jsx("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:n.length===i.length?"Deseleccionar todo":"Seleccionar todo"}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!x,className:`flex items-center gap-2 px-4 py-2 rounded ${x?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edicin avanzada",a.jsx(Gn,{className:"w-4 h-4"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-3 gap-6",children:i.map(v=>{const E=n.includes(v.id);return a.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-4 transition-all border-2 ${E?"border-blue-500 shadow-lg":"border-transparent"}`,children:[a.jsx("div",{className:"relative mb-4",children:a.jsxs("div",{className:`w-full h-[420px] rounded-lg ${v.preview.bg} flex items-center justify-center text-white relative overflow-hidden`,style:{aspectRatio:"9/16"},children:[a.jsx("div",{className:"text-center p-4",children:v.preview.content.split(`
`).map((S,C)=>a.jsx("div",{className:`${C===0?"text-2xl font-bold mb-2":C===1?"text-4xl font-bold mb-2":"text-lg"}`,children:S},C))}),a.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/20 backdrop-blur-sm rounded text-xs",children:v.type}),E&&a.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Pa,{className:"w-6 h-6 text-white"})})})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Elementos sugeridos"}),a.jsx("ul",{className:"space-y-1",children:v.elements.map((S,C)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-2",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),S]},C))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>u(v.id),className:`flex items-center gap-2 px-3 py-2 rounded text-sm flex-1 transition-colors ${E?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E?a.jsx(Pa,{className:"w-4 h-4"}):a.jsx(Xd,{className:"w-4 h-4"}),E?"Seleccionada":"Seleccionar"]}),a.jsx("button",{onClick:()=>p(v.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Regenerar IA",children:a.jsx(k_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>m(v.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Descartar",children:a.jsx(A_,{className:"w-4 h-4"})})]})]},v.id)})})}),!x&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 px-4",children:[a.jsx(mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Debes seleccionar al menos una historia para continuar."})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!x,className:`flex items-center gap-2 px-4 py-2 rounded ${x?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edicin avanzada",a.jsx(Gn,{className:"w-4 h-4"})]})]})]})})}const p9=[{id:1,type:"Promocional",preview:{bg:"bg-gradient-to-br from-blue-500 to-purple-600",content:`OFERTA FLASH
50% OFF
Solo hoy`},elements:["Sticker: Qu opinas?","CTA: Desliza hacia arriba"]},{id:2,type:"Engagement",preview:{bg:"bg-gradient-to-br from-pink-500 to-red-500",content:`Cul prefieres?
A o B
Vota ahora`},elements:["Encuesta: A o B?","CTA: Vota ahora"]},{id:3,type:"Educativo",preview:{bg:"bg-gradient-to-br from-green-500 to-teal-600",content:`TIP DEL DA
#MarketingTips
Aprende ms`},elements:["Sticker: Tip del da","CTA: Aprende ms"]},{id:4,type:"Behind Scenes",preview:{bg:"bg-gradient-to-br from-orange-500 to-yellow-500",content:`DETRS DE
CMARAS
As trabajamos`},elements:["Sticker: Behind scenes","CTA: Ver proceso"]},{id:5,type:"Producto",preview:{bg:"bg-gradient-to-br from-indigo-500 to-blue-600",content:`NUEVO
PRODUCTO
Conoce ms`},elements:["Sticker: Nuevo producto","CTA: Conoce ms"]},{id:6,type:"Evento",preview:{bg:"bg-gradient-to-br from-teal-500 to-green-500",content:`EVENTO
ESPECIAL
Te esperamos`},elements:["Sticker: Evento especial","CTA: Te esperamos"]}];function m9(){const[t,e]=b.useState(!0),[n,r]=b.useState([]),[i,l]=b.useState(p9);b.useEffect(()=>{const v=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(v)},[]);const u=v=>{r(E=>E.includes(v)?E.filter(S=>S!==v):[...E,v])},f=()=>{n.length===i.length?r([]):r(i.map(v=>v.id))},p=v=>{console.log(`Regenerating story ${v}`)},m=v=>{l(E=>E.filter(S=>S.id!==v)),r(E=>E.filter(S=>S!==v))},y=n.length,x=y>0;return t?a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-medium",children:"Generacin inicial de Historias"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 3 de 6"})]})}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-6 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ys,{className:"w-5 h-5 animate-spin text-blue-500"}),a.jsx("span",{className:"text-center",children:"Generando borradores de historias con IA"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4 w-full",children:Array.from({length:6}).map((v,E)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 animate-pulse",children:[a.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-3"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded flex-1"}),a.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded"})]})]},E))})]})]}):a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h1",{className:"text-lg font-medium",children:"Generacin inicial de Historias"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 3 de 6"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[y," seleccionada",y!==1?"s":""]}),a.jsx("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:n.length===i.length?"Deseleccionar":"Seleccionar todo"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(v=>{const E=n.includes(v.id);return a.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-3 transition-all border-2 ${E?"border-blue-500 shadow-lg":"border-transparent"}`,children:[a.jsx("div",{className:"relative mb-3",children:a.jsxs("div",{className:`w-full h-48 rounded-lg ${v.preview.bg} flex items-center justify-center text-white relative overflow-hidden`,children:[a.jsx("div",{className:"text-center p-2",children:v.preview.content.split(`
`).map((S,C)=>a.jsx("div",{className:`${C===0?"text-sm font-bold mb-1":C===1?"text-lg font-bold mb-1":"text-xs"}`,children:S},C))}),a.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 bg-black/20 backdrop-blur-sm rounded text-xs",children:v.type}),E&&a.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Pa,{className:"w-4 h-4 text-white"})})})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-medium text-xs mb-1",children:"Elementos sugeridos"}),a.jsx("ul",{className:"space-y-0.5",children:v.elements.slice(0,2).map((S,C)=>a.jsxs("li",{className:"text-xs text-gray-600 flex items-center gap-1",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),a.jsx("span",{className:"truncate",children:S})]},C))})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("button",{onClick:()=>u(v.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs flex-1 transition-colors ${E?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E?a.jsx(Pa,{className:"w-3 h-3"}):a.jsx(Xd,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:E?"Seleccionada":"Seleccionar"})]}),a.jsx("button",{onClick:()=>p(v.id),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Regenerar IA",children:a.jsx(k_,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>m(v.id),className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Descartar",children:a.jsx(A_,{className:"w-3 h-3"})})]})]},v.id)})})}),!x&&a.jsx("div",{className:"bg-amber-50 border-t border-amber-200 p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(mn,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-amber-700",children:"Debes seleccionar al menos una historia para continuar."})]})}),a.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-200 rounded flex-1",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!x,className:`flex items-center justify-center gap-2 px-4 py-3 rounded flex-1 ${x?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edicin avanzada",a.jsx(Gn,{className:"w-4 h-4"})]})]})})]})}function g9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function v9(){return g9()?a.jsx(m9,{}):a.jsx(f9,{})}const y9=[{id:1,role:"user",content:"Haz el texto principal ms grande",timestamp:new Date(Date.now()-12e4)},{id:2,role:"assistant",content:" Texto aumentado en tamao.",timestamp:new Date(Date.now()-1e5)}],x9=["Montserrat","Inter","Poppins","Roboto"],b9=["Ninguna","Fade","Slide","Zoom"],d1=["#2563eb","#dc2626","#059669","#d97706","#7c3aed","#db2777"],w9=["Color","Degradado","Imagen","Video"],_9=["Pregunta","Encuesta","Reaccin","Link / CTA"],Rd=[{id:1,title:"Historia 1",thumbnail:"https://via.placeholder.com/180x320/2563eb/ffffff?text=1"},{id:2,title:"Historia 2",thumbnail:"https://via.placeholder.com/180x320/dc2626/ffffff?text=2"},{id:3,title:"Historia 3",thumbnail:"https://via.placeholder.com/180x320/059669/ffffff?text=3"}],E9=()=>({selectedFont:"Montserrat",textColor:"#2563eb",textSize:24,textAnimation:"Ninguna",selectedStickerTypes:["Link / CTA"],stickerText:"",backgroundType:"Color",backgroundColor:"#2563eb",logoSize:40,logoOpacity:100});function S9(){const[t,e]=b.useState(y9),[n,r]=b.useState(""),[i,l]=b.useState(Rd[0].id),[u,f]=b.useState(()=>{const v={};return Rd.forEach(E=>{v[E.id]=E9()}),v}),p=u[i],m=v=>{f(E=>({...E,[i]:{...E[i],...v}}))},y=()=>{if(!n.trim())return;const v={id:t.length+1,role:"user",content:n,timestamp:new Date};e(E=>[...E,v]),r(""),setTimeout(()=>{const E={id:t.length+2,role:"assistant",content:" Instruccin procesada.",timestamp:new Date};e(S=>[...S,E])},1e3)},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),y())};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"font-medium text-gray-900 mr-4",children:"Editando:"}),a.jsx("div",{className:"flex gap-2",children:Rd.map(v=>a.jsxs("button",{onClick:()=>l(v.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${i===v.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx("div",{className:"w-4 h-4 rounded border border-white/20",style:{backgroundColor:i===v.id?"#ffffff40":"#00000020"}}),v.title]},v.id))})]})}),a.jsxs("div",{className:"flex-1 flex gap-4 p-4",children:[a.jsxs("div",{className:"w-80 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"font-medium",children:"Chat de Edicin (IA)"})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",style:{height:"480px"},children:t.map(v=>a.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-xl text-sm ${v.role==="user"?"bg-bubble-user text-white":"bg-bubble-assistant text-gray-800"}`,children:v.content})},v.id))}),a.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[a.jsx("textarea",{value:n,onChange:v=>r(v.target.value),onKeyPress:x,placeholder:"Ej: 'Agrega sticker de encuesta'",className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3}),a.jsxs("button",{onClick:y,disabled:!n.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium ${n.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx(Vc,{className:"w-4 h-4"}),"Enviar instruccin"]})]})]})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center bg-black rounded-xl border border-gray-300",children:a.jsxs("div",{className:"bg-gray-100 rounded-lg border border-gray-300 flex items-center justify-center relative",style:{width:"405px",height:"720px"},children:[a.jsx("div",{className:"absolute top-3 left-3 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:Rd.find(v=>v.id===i)?.title}),a.jsxs("div",{className:"text-center text-gray-600",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-300 rounded-lg flex items-center justify-center",children:a.jsx(Ia,{className:"w-8 h-8 text-gray-500"})}),a.jsx("h4",{className:"font-medium mb-2",children:"Canvas Historia 9:16"}),a.jsx("p",{className:"text-sm text-gray-500",children:"(Capas editables)"}),a.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"405  720 px"}),a.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg text-left max-w-xs",children:[a.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2",children:"Configuracin actual:"}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[a.jsxs("div",{children:["Fuente: ",p.selectedFont]}),a.jsxs("div",{children:["Tamao: ",p.textSize,"px"]}),a.jsxs("div",{className:"flex items-center gap-2",children:["Color:",a.jsx("div",{className:"w-3 h-3 rounded border border-gray-300",style:{backgroundColor:p.textColor}})]})]})]})]})]})})}),a.jsxs("div",{className:"w-65 bg-white rounded-xl shadow-sm border border-gray-200 p-3 overflow-y-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"font-medium",children:"Herramientas"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Bg,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Texto"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Fuente"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:p.selectedFont,onChange:v=>m({selectedFont:v.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:x9.map(v=>a.jsx("option",{value:v,children:v},v))}),a.jsx(lr,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color"}),a.jsx("div",{className:"flex gap-2",children:d1.map(v=>a.jsx("button",{onClick:()=>m({textColor:v}),className:`w-6 h-6 rounded-full border-2 ${p.textColor===v?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:v}},v))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamao: ",p.textSize,"px"]}),a.jsx("input",{type:"range",min:"10",max:"72",value:p.textSize,onChange:v=>m({textSize:parseInt(v.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(p.textSize-10)/62*100}%, #E5E7EB ${(p.textSize-10)/62*100}%, #E5E7EB 100%)`}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Animacin"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:p.textAnimation,onChange:v=>m({textAnimation:v.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:b9.map(v=>a.jsx("option",{value:v,children:v},v))}),a.jsx(lr,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(P_,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Stickers / Interaccin"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:_9.map(v=>a.jsx("button",{onClick:()=>{const E=p.selectedStickerTypes.includes(v)?p.selectedStickerTypes.filter(S=>S!==v):[...p.selectedStickerTypes,v];m({selectedStickerTypes:E})},className:`px-2 py-1 rounded-lg text-xs border transition-all ${p.selectedStickerTypes.includes(v)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:v},v))}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Texto del sticker"}),a.jsx("input",{type:"text",value:p.stickerText,onChange:v=>m({stickerText:v.target.value}),placeholder:"Ej: Qu opinas?",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xc,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Fondo"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Tipo"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:p.backgroundType,onChange:v=>m({backgroundType:v.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:w9.map(v=>a.jsx("option",{value:v,children:v},v))}),a.jsx(lr,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color de fondo"}),a.jsx("div",{className:"flex gap-2",children:d1.map(v=>a.jsx("button",{onClick:()=>m({backgroundColor:v}),className:`w-6 h-6 rounded-full border-2 ${p.backgroundColor===v?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:v}},v))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Subir imagen/video"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-gray-300 transition-colors",children:[a.jsx(R_,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),a.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, MP4"}),a.jsx("input",{type:"file",accept:".jpg,.png,.mp4",className:"hidden"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ia,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Logo / Branding"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full px-3 py-2 text-sm bg-gray-100 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-200 transition-colors",children:"Insertar logo (BrandKit)"}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamao logo: ",p.logoSize,"%"]}),a.jsx("input",{type:"range",min:"10",max:"100",value:p.logoSize,onChange:v=>m({logoSize:parseInt(v.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(p.logoSize-10)/90*100}%, #E5E7EB ${(p.logoSize-10)/90*100}%, #E5E7EB 100%)`}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Opacidad logo: ",p.logoOpacity,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:p.logoOpacity,onChange:v=>m({logoOpacity:parseInt(v.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${p.logoOpacity}%, #E5E7EB ${p.logoOpacity}%, #E5E7EB 100%)`}})]})]})]})]})]})]}),a.jsx("style",{jsx:"true",children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}const N9=[{id:1,role:"user",content:"Haz el texto principal ms grande",timestamp:new Date(Date.now()-12e4)},{id:2,role:"assistant",content:" Texto aumentado en tamao.",timestamp:new Date(Date.now()-1e5)}],C9=["Montserrat","Inter","Poppins","Roboto"],h1=["#2563eb","#dc2626","#059669","#d97706","#7c3aed","#db2777"],j9=["Color","Degradado","Imagen","Video"],k9=["Pregunta","Encuesta","Reaccin","Link / CTA"],Md=[{id:1,title:"Historia 1",thumbnail:"https://via.placeholder.com/180x320/2563eb/ffffff?text=1"},{id:2,title:"Historia 2",thumbnail:"https://via.placeholder.com/180x320/dc2626/ffffff?text=2"},{id:3,title:"Historia 3",thumbnail:"https://via.placeholder.com/180x320/059669/ffffff?text=3"}],T9=()=>({selectedFont:"Montserrat",textColor:"#2563eb",textSize:24,textAnimation:"Ninguna",selectedStickerTypes:["Link / CTA"],stickerText:"",backgroundType:"Color",backgroundColor:"#2563eb",logoSize:40,logoOpacity:100});function I9(){const[t,e]=b.useState(N9),[n,r]=b.useState(""),[i,l]=b.useState(!1),[u,f]=b.useState(!1),[p,m]=b.useState(Md[0].id),[y,x]=b.useState(()=>{const k={};return Md.forEach(V=>{k[V.id]=T9()}),k}),v=y[p],E=k=>{x(V=>({...V,[p]:{...V[p],...k}}))},S=()=>{if(!n.trim())return;const k={id:t.length+1,role:"user",content:n,timestamp:new Date};e(V=>[...V,k]),r(""),setTimeout(()=>{const V={id:t.length+2,role:"assistant",content:" Instruccin procesada.",timestamp:new Date};e($=>[...$,V])},1e3)},C=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),S())};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"font-medium text-gray-900 text-sm",children:"Editando:"}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:Md.map(k=>a.jsxs("button",{onClick:()=>m(k.id),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all flex items-center gap-2 whitespace-nowrap ${p===k.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx("div",{className:"w-3 h-3 rounded border border-white/20 flex-shrink-0",style:{backgroundColor:p===k.id?"#ffffff40":"#00000020"}}),k.title]},k.id))})]})}),a.jsxs("div",{className:"bg-white border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>l(!i),className:"w-full p-4 flex items-center justify-between text-left",children:[a.jsx("h3",{className:"font-medium",children:"Chat de Edicin (IA)"}),i?a.jsx(Ta,{className:"w-5 h-5 text-gray-400"}):a.jsx(lr,{className:"w-5 h-5 text-gray-400"})]}),i&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 mb-3",children:t.map(k=>a.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-xl text-sm ${k.role==="user"?"bg-bubble-user text-white":"bg-bubble-assistant text-gray-800"}`,children:k.content})},k.id))}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:n,onChange:k=>r(k.target.value),onKeyPress:C,placeholder:"Ej: 'Agrega sticker de encuesta'",className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:2}),a.jsxs("button",{onClick:S,disabled:!n.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${n.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx(Vc,{className:"w-4 h-4"}),"Enviar instruccin"]})]})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-black",children:a.jsxs("div",{className:"bg-gray-100 rounded-lg border border-gray-300 flex items-center justify-center relative",style:{width:"216px",height:"384px"},children:[a.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:Md.find(k=>k.id===p)?.title}),a.jsxs("div",{className:"text-center text-gray-600",children:[a.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-300 rounded-lg flex items-center justify-center",children:a.jsx(Ia,{className:"w-6 h-6 text-gray-500"})}),a.jsx("h4",{className:"font-medium mb-1 text-sm",children:"Canvas Historia 9:16"}),a.jsx("p",{className:"text-xs text-gray-500",children:"(Capas editables)"}),a.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"216  384 px"}),a.jsxs("div",{className:"mt-3 p-2 bg-white rounded text-left text-xs",children:[a.jsx("div",{className:"text-gray-700 font-medium mb-1",children:"Config actual:"}),a.jsxs("div",{className:"text-gray-500 space-y-1",children:[a.jsxs("div",{children:[v.selectedFont," ",v.textSize,"px"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded border",style:{backgroundColor:v.textColor}}),"Color texto"]})]})]})]})]})}),a.jsxs("div",{className:"bg-white border-t border-gray-200",children:[a.jsxs("button",{onClick:()=>f(!u),className:"w-full p-4 flex items-center justify-between text-left",children:[a.jsx("h3",{className:"font-medium",children:"Herramientas"}),u?a.jsx(Ta,{className:"w-5 h-5 text-gray-400"}):a.jsx(lr,{className:"w-5 h-5 text-gray-400"})]}),u&&a.jsx("div",{className:"px-4 pb-4 max-h-96 overflow-y-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Bg,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Texto"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Fuente"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:v.selectedFont,onChange:k=>E({selectedFont:k.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:C9.map(k=>a.jsx("option",{value:k,children:k},k))}),a.jsx(lr,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color"}),a.jsx("div",{className:"flex gap-2",children:h1.map(k=>a.jsx("button",{onClick:()=>E({textColor:k}),className:`w-6 h-6 rounded-full border-2 ${v.textColor===k?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:k}},k))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamao: ",v.textSize,"px"]}),a.jsx("input",{type:"range",min:"10",max:"72",value:v.textSize,onChange:k=>E({textSize:parseInt(k.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(v.textSize-10)/62*100}%, #E5E7EB ${(v.textSize-10)/62*100}%, #E5E7EB 100%)`}})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(P_,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Stickers / Interaccin"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:k9.map(k=>a.jsx("button",{onClick:()=>{const V=v.selectedStickerTypes.includes(k)?v.selectedStickerTypes.filter($=>$!==k):[...v.selectedStickerTypes,k];E({selectedStickerTypes:V})},className:`px-2 py-1 rounded-lg text-xs border transition-all ${v.selectedStickerTypes.includes(k)?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:k},k))}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Texto del sticker"}),a.jsx("input",{type:"text",value:v.stickerText,onChange:k=>E({stickerText:k.target.value}),placeholder:"Ej: Qu opinas?",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xc,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Fondo"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Tipo"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:v.backgroundType,onChange:k=>E({backgroundType:k.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:j9.map(k=>a.jsx("option",{value:k,children:k},k))}),a.jsx(lr,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color de fondo"}),a.jsx("div",{className:"flex gap-2",children:h1.map(k=>a.jsx("button",{onClick:()=>E({backgroundColor:k}),className:`w-6 h-6 rounded-full border-2 ${v.backgroundColor===k?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:k}},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Subir imagen/video"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-2 text-center hover:border-gray-300 transition-colors",children:[a.jsx(R_,{className:"w-5 h-5 text-gray-400 mx-auto mb-1"}),a.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, MP4"}),a.jsx("input",{type:"file",accept:".jpg,.png,.mp4",className:"hidden"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ia,{className:"w-4 h-4 text-gray-600"}),a.jsx("h4",{className:"font-medium text-sm",children:"Logo / Branding"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full px-3 py-2 text-sm bg-white text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Insertar logo (BrandKit)"}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamao logo: ",v.logoSize,"%"]}),a.jsx("input",{type:"range",min:"10",max:"100",value:v.logoSize,onChange:k=>E({logoSize:parseInt(k.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(v.logoSize-10)/90*100}%, #E5E7EB ${(v.logoSize-10)/90*100}%, #E5E7EB 100%)`}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Opacidad logo: ",v.logoOpacity,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:v.logoOpacity,onChange:k=>E({logoOpacity:parseInt(k.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${v.logoOpacity}%, #E5E7EB ${v.logoOpacity}%, #E5E7EB 100%)`}})]})]})]})]})})]}),a.jsx("style",{jsx:"true",children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}function P9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function A9(){return P9()?a.jsx(I9,{}):a.jsx(S9,{})}const f1=[{id:1,title:"Historia 1",caption:"Oferta flash solo por hoy!  Desliza hacia arriba para aprovechar el descuento.",hashtags:["#Oferta","#Descuento","#TuMarca"],isValid:!1,characterCount:89},{id:2,title:"Historia 2",caption:"Nuevo producto disponible. No te lo pierdas! ",hashtags:["#Nuevo","#Producto","#TuMarca","#Disponible"],isValid:!0,characterCount:52},{id:3,title:"Historia 3",caption:"Behind the scenes de nuestro ltimo proyecto. Proceso creativo increble que queremos compartir contigo.",hashtags:["#BehindTheScenes","#Proceso","#Creativo"],isValid:!1,characterCount:126}],R9=["#Marketing","#Ventas","#Promocion","#Limitado","#Exclusivo","#Calidad","#Innovacion","#Tendencia","#Estilo","#Premium"];function M9(){const[t,e]=b.useState(f1[0].id),[n,r]=b.useState(f1),[i,l]=b.useState(!0),u=n.find(C=>C.id===t);if(!u)return null;const f=n.some(C=>C.isValid),p=125,m=u.characterCount>p,y=C=>{r(k=>k.map(V=>V.id===t?{...V,...C,characterCount:C.caption?.length||V.characterCount}:V))},x=()=>{const C=["Nueva oferta disponible!  Aprovecha ahora.","Descuento especial por tiempo limitado ","No te pierdas esta oportunidad nica ","Oferta flash: solo por hoy "],k=C[Math.floor(Math.random()*C.length)];y({caption:k,characterCount:k.length,isValid:k.length<=p})},v=C=>{u.hashtags.includes(C)||y({hashtags:[...u.hashtags,C]})},E=C=>{y({hashtags:u.hashtags.filter(k=>k!==C)})},S=()=>{y({isValid:!m&&u.caption.trim().length>0})};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:"Captions & Hashtags para Historias"}),a.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Paso 5 de 6"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex gap-2",children:n.map(C=>a.jsxs("button",{onClick:()=>e(C.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${t===C.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[C.isValid?a.jsx(bt,{className:"w-4 h-4 text-green-400"}):a.jsx(mn,{className:"w-4 h-4 text-orange-400"}),C.title]},C.id))}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!f,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${f?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente: Publicacin",a.jsx(Gn,{className:"w-4 h-4"})]})]})]})]})}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:u.title.slice(-1)})}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:u.title})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"font-medium text-gray-900",children:"Caption generado por IA"}),a.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:a.jsxs("span",{className:m?"text-red-500":"text-gray-600",children:[u.characterCount,"/",p]})})]}),a.jsx("textarea",{value:u.caption,onChange:C=>y({caption:C.target.value,characterCount:C.target.value.length}),onBlur:S,className:"w-full p-4 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Escribe tu caption aqu..."}),m&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsx(mn,{className:"w-5 h-5 text-orange-500 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-orange-700 font-medium text-sm",children:"Caption demasiado largo para Instagram"}),a.jsxs("div",{className:"text-orange-600 text-sm",children:["IA recomienda acortar a ",p," caracteres"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Hashtags sugeridos"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:u.hashtags.map((C,k)=>a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:[C,a.jsx("button",{onClick:()=>E(C),className:"text-blue-500 hover:text-blue-700 transition-colors",children:a.jsx(hi,{className:"w-3 h-3"})})]},k))}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Sugerencias adicionales:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:R9.filter(C=>!u.hashtags.includes(C)).slice(0,5).map(C=>a.jsxs("button",{onClick:()=>v(C),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:[a.jsx(Vm,{className:"w-3 h-3"}),C.slice(1)]},C))})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Oh,{className:"w-4 h-4"}),"Regenerar caption"]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Vm,{className:"w-4 h-4"}),"Sugerir ms hashtags"]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:C=>l(C.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),a.jsx(I_,{className:"w-4 h-4"}),"Permitir emojis"]})})]})]})]}),!f&&a.jsx("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[a.jsx(mn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"Debes confirmar al menos un caption vlido antes de continuar."})]})})]})}),a.jsx("div",{className:"bg-white border-t border-gray-200 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex justify-end gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!f,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${f?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente: Publicacin",a.jsx(Gn,{className:"w-4 h-4"})]})]})})]})}const p1=[{id:1,title:"Historia 1",caption:"Oferta flash solo por hoy!  Desliza hacia arriba para aprovechar el descuento.",hashtags:["#Oferta","#Descuento","#TuMarca"],isValid:!1,characterCount:89},{id:2,title:"Historia 2",caption:"Nuevo producto disponible. No te lo pierdas! ",hashtags:["#Nuevo","#Producto","#TuMarca","#Disponible"],isValid:!0,characterCount:52},{id:3,title:"Historia 3",caption:"Behind the scenes de nuestro ltimo proyecto. Proceso creativo increble que queremos compartir contigo.",hashtags:["#BehindTheScenes","#Proceso","#Creativo"],isValid:!1,characterCount:126}],D9=["#Marketing","#Ventas","#Promocion","#Limitado","#Exclusivo","#Calidad","#Innovacion","#Tendencia","#Estilo","#Premium"];function O9(){const[t,e]=b.useState(p1[0].id),[n,r]=b.useState(p1),[i,l]=b.useState(!0),[u,f]=b.useState(!1),p=n.find(V=>V.id===t);if(!p)return null;const m=n.some(V=>V.isValid),y=125,x=p.characterCount>y,v=V=>{r($=>$.map(F=>F.id===t?{...F,...V,characterCount:V.caption?.length||F.characterCount}:F))},E=()=>{const V=["Nueva oferta disponible!  Aprovecha ahora.","Descuento especial por tiempo limitado ","No te pierdas esta oportunidad nica ","Oferta flash: solo por hoy "],$=V[Math.floor(Math.random()*V.length)];v({caption:$,characterCount:$.length,isValid:$.length<=y})},S=V=>{p.hashtags.includes(V)||v({hashtags:[...p.hashtags,V]})},C=V=>{v({hashtags:p.hashtags.filter($=>$!==V)})},k=()=>{v({isValid:!x&&p.caption.trim().length>0})};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Captions & Hashtags"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:"5/6"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:n.map(V=>a.jsxs("button",{onClick:()=>e(V.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap ${t===V.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[V.isValid?a.jsx(bt,{className:"w-3 h-3 text-green-400"}):a.jsx(mn,{className:"w-3 h-3 text-orange-400"}),V.title]},V.id))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-xs",children:p.title.slice(-1)})}),a.jsx("h2",{className:"font-medium text-gray-900",children:p.title})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"font-medium text-gray-900 text-sm",children:"Caption generado por IA"}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:a.jsxs("span",{className:x?"text-red-500":"text-gray-600",children:[p.characterCount,"/",y]})})]}),a.jsx("textarea",{value:p.caption,onChange:V=>v({caption:V.target.value,characterCount:V.target.value.length}),onBlur:k,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:4,placeholder:"Escribe tu caption aqu..."}),x&&a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsx(mn,{className:"w-4 h-4 text-orange-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-orange-700 font-medium text-xs",children:"Caption demasiado largo"}),a.jsxs("div",{className:"text-orange-600 text-xs",children:["Recorta a ",y," caracteres"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-3 py-2 text-gray-600 hover:text-gray-800 transition-colors text-sm",children:[a.jsx(Oh,{className:"w-3 h-3"}),"Regenerar"]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:V=>l(V.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500 w-3 h-3"}),a.jsx(I_,{className:"w-3 h-3 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Emojis"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("label",{className:"font-medium text-gray-900 text-sm",children:"Hashtags actuales"})}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.hashtags.map((V,$)=>a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium",children:[V,a.jsx("button",{onClick:()=>C(V),className:"text-blue-500 hover:text-blue-700 transition-colors",children:a.jsx(hi,{className:"w-2 h-2"})})]},$))}),a.jsxs("button",{onClick:()=>f(!u),className:"flex items-center justify-between w-full p-2 text-left text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx("span",{children:"Sugerencias adicionales"}),u?a.jsx(Ta,{className:"w-4 h-4"}):a.jsx(lr,{className:"w-4 h-4"})]}),u&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:D9.filter(V=>!p.hashtags.includes(V)).slice(0,8).map(V=>a.jsxs("button",{onClick:()=>S(V),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded-lg text-xs hover:bg-gray-200 transition-colors",children:[a.jsx(Vm,{className:"w-2 h-2"}),V.slice(1)]},V))}),a.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-600",children:"Ver ms sugerencias"})]})]}),!m&&a.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2 text-orange-700",children:[a.jsx(mn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-xs",children:"Debes confirmar al menos un caption vlido antes de continuar."})]})})]})}),a.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex justify-between gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!m,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${m?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente",a.jsx(Gn,{className:"w-4 h-4"})]})]})})]})}function L9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t?a.jsx(O9,{}):a.jsx(M9,{})}const m1=[{id:1,title:"Historia 1",type:"Promocional",exported:!1,scheduled:!1,platforms:[]},{id:2,title:"Historia 2",type:"Informativo",exported:!0,scheduled:!0,platforms:["instagram","facebook"]},{id:3,title:"Historia 3",type:"Behind the Scenes",exported:!1,scheduled:!1,platforms:[]}],V9=[{id:"instagram",name:"Instagram Stories",icon:N_,color:"bg-pink-500"},{id:"facebook",name:"Facebook Stories",icon:E_,color:"bg-blue-600"},{id:"tiktok",name:"TikTok Stories",icon:Lc,color:"bg-black"}],g1=[{date:"2025-10-15",time:"18:00",story:"Historia 1",type:"Promocional"},{date:"2025-10-16",time:"12:00",story:"Historia 2",type:"Informativo"},{date:"2025-10-17",time:"15:30",story:"Historia 3",type:"Behind the Scenes"}];function F9(){const[t,e]=b.useState(m1[0].id),[n,r]=b.useState(m1),[i,l]=b.useState("high"),[u,f]=b.useState("manual"),[p,m]=b.useState("2025-10-15"),[y,x]=b.useState("18:00"),[v,E]=b.useState(!1),S=n.find(L=>L.id===t);if(!S)return null;const C=n.some(L=>L.exported&&L.scheduled&&L.platforms.length>0),k=L=>{r(K=>K.map(I=>I.id===t?{...I,...L}:I))},V=()=>{E(!0),setTimeout(()=>{k({exported:!0}),E(!1)},2e3)},$=L=>{const K=S.platforms,I=K.includes(L)?K.filter(j=>j!==L):[...K,L];k({platforms:I})},F=()=>{const L=[{date:"2025-10-15",time:"18:00",reason:"Mayor engagement los martes por la tarde"},{date:"2025-10-16",time:"12:00",reason:"Horario de almuerzo ptimo para tu audiencia"},{date:"2025-10-17",time:"20:30",reason:"Peak time para tu demografa"}],K=L[Math.floor(Math.random()*L.length)];m(K.date),x(K.time),f("ai"),k({scheduled:!0})},U=()=>{k({scheduled:!0})};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:"Publicacin final de Historias"}),a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:"Paso 6 de 6"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex gap-2",children:n.map(L=>{const K=L.exported&&L.scheduled&&L.platforms.length>0;return a.jsxs("button",{onClick:()=>e(L.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${t===L.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[K?a.jsx(bt,{className:"w-4 h-4 text-green-400"}):a.jsx(Ss,{className:"w-4 h-4 text-orange-400"}),L.title]},L.id)})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!C,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${C?"bg-green-500 text-white hover:bg-green-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(bt,{className:"w-4 h-4"}),"Finalizar"]})]})]})]})}),a.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:a.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx(dr,{className:"w-4 h-4 text-white"})}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Exportar archivo"}),S.exported&&a.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[a.jsx(ws,{className:"w-4 h-4"}),"Exportado"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 block mb-2",children:"Formato"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-gray-700",children:"9:16 (vertical) - Optimizado para Stories"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Opciones de calidad"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>l("high"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${i==="high"?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Alta calidad (1080x1920)"}),a.jsx("button",{onClick:()=>l("medium"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${i==="medium"?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Calidad media (720x1280)"})]})]}),a.jsx("button",{onClick:V,disabled:S.exported||v,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${S.exported?"bg-green-100 text-green-700 cursor-not-allowed":v?"bg-blue-100 text-blue-700 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 shadow-sm"}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Generando exportacin..."]}):S.exported?a.jsxs(a.Fragment,{children:[a.jsx(ws,{className:"w-4 h-4"}),"Exportacin completada"]}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"w-4 h-4"}),"Generar exportacin"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:a.jsx(vc,{className:"w-4 h-4 text-white"})}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Programar publicacin"}),S.scheduled&&a.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[a.jsx(ws,{className:"w-4 h-4"}),"Programado"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Programar manualmente"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Fecha"}),a.jsx("input",{type:"date",value:p,onChange:L=>m(L.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Hora"}),a.jsx("input",{type:"time",value:y,onChange:L=>x(L.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),u==="manual"&&a.jsx("button",{onClick:U,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Confirmar programacin"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"o"})})]}),a.jsxs("button",{onClick:F,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all shadow-sm",children:[a.jsx(sc,{className:"w-4 h-4"}),"Programar con IA"]}),u==="ai"&&a.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"text-purple-700 text-sm",children:[" IA recomienda: ",a.jsxs("strong",{children:[p," a las ",y]})]}),a.jsx("div",{className:"text-purple-600 text-xs mt-1",children:"Mayor engagement segn tu audiencia histrica"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:a.jsx(bt,{className:"w-4 h-4 text-white"})}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Plataformas de publicacin"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:V9.map(L=>{const K=S.platforms.includes(L.id),I=L.icon;return a.jsxs("button",{onClick:()=>$(L.id),className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${K?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-8 h-8 ${L.color} rounded-lg flex items-center justify-center`,children:a.jsx(I,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"font-medium text-gray-900",children:L.name}),K&&a.jsx(bt,{className:"w-5 h-5 text-blue-500 ml-auto"})]},L.id)})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:a.jsx(vc,{className:"w-4 h-4 text-white"})}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Vista rpida de agenda"})]}),a.jsx("div",{className:"space-y-3",children:g1.map((L,K)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:L.story}),a.jsx("div",{className:"text-gray-600 text-xs",children:L.type})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-gray-900 text-sm font-medium",children:L.date}),a.jsxs("div",{className:"text-gray-600 text-xs flex items-center gap-1",children:[a.jsx(Dh,{className:"w-3 h-3"}),L.time]})]})]})},K))}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"text-blue-700 text-sm font-medium",children:[" ",g1.length," historias programadas esta semana"]}),a.jsx("div",{className:"text-blue-600 text-xs mt-1",children:"Distribucin ptima para mximo alcance"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Resumen del progreso"}),a.jsx("div",{className:"space-y-3",children:n.map(L=>{const K=[L.exported,L.scheduled,L.platforms.length>0].filter(Boolean).length;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:L.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${K/3*100}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[K,"/3"]})]})]},L.id)})})]})]})]})}),a.jsx("div",{className:"bg-white border-t border-gray-200 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[!C&&a.jsxs("div",{className:"text-sm text-orange-600 flex items-center gap-1",children:[a.jsx(Ss,{className:"w-4 h-4"}),"Completa al menos una historia para finalizar"]}),a.jsxs("button",{disabled:!C,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${C?"bg-green-500 text-white hover:bg-green-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(bt,{className:"w-4 h-4"}),"Finalizar"]})]})]})})]})}const v1=[{id:1,title:"Historia 1",type:"Promocional",exported:!1,scheduled:!1,platforms:[]},{id:2,title:"Historia 2",type:"Informativo",exported:!0,scheduled:!0,platforms:["instagram","facebook"]},{id:3,title:"Historia 3",type:"Behind the Scenes",exported:!1,scheduled:!1,platforms:[]}],$9=[{id:"instagram",name:"Instagram Stories",icon:N_,color:"bg-pink-500"},{id:"facebook",name:"Facebook Stories",icon:E_,color:"bg-blue-600"},{id:"tiktok",name:"TikTok Stories",icon:Lc,color:"bg-black"}],y1=[{date:"2025-10-15",time:"18:00",story:"Historia 1",type:"Promocional"},{date:"2025-10-16",time:"12:00",story:"Historia 2",type:"Informativo"},{date:"2025-10-17",time:"15:30",story:"Historia 3",type:"Behind the Scenes"}];function z9(){const[t,e]=b.useState(v1[0].id),[n,r]=b.useState(v1),[i,l]=b.useState("high"),[u,f]=b.useState("manual"),[p,m]=b.useState("2025-10-15"),[y,x]=b.useState("18:00"),[v,E]=b.useState(!1),[S,C]=b.useState(!1),k=n.find(I=>I.id===t);if(!k)return null;const V=n.some(I=>I.exported&&I.scheduled&&I.platforms.length>0),$=I=>{r(j=>j.map(A=>A.id===t?{...A,...I}:A))},F=()=>{E(!0),setTimeout(()=>{$({exported:!0}),E(!1)},2e3)},U=I=>{const j=k.platforms,A=j.includes(I)?j.filter(M=>M!==I):[...j,I];$({platforms:A})},L=()=>{const I=[{date:"2025-10-15",time:"18:00",reason:"Mayor engagement los martes por la tarde"},{date:"2025-10-16",time:"12:00",reason:"Horario de almuerzo ptimo para tu audiencia"},{date:"2025-10-17",time:"20:30",reason:"Peak time para tu demografa"}],j=I[Math.floor(Math.random()*I.length)];m(j.date),x(j.time),f("ai"),$({scheduled:!0})},K=()=>{$({scheduled:!0})};return a.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Publicacin final"}),a.jsx("div",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"6/6"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:n.map(I=>{const j=I.exported&&I.scheduled&&I.platforms.length>0;return a.jsxs("button",{onClick:()=>e(I.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap ${t===I.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[j?a.jsx(bt,{className:"w-3 h-3 text-green-400"}):a.jsx(Ss,{className:"w-3 h-3 text-orange-400"}),I.title]},I.id)})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx(dr,{className:"w-3 h-3 text-white"})}),a.jsx("h2",{className:"font-medium text-gray-900",children:"Exportar archivo"}),k.exported&&a.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs ml-auto",children:[a.jsx(ws,{className:"w-3 h-3"}),"Exportado"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Formato"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-gray-700 text-sm",children:"9:16 (vertical) - Optimizado para Stories"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Calidad"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>l("high"),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all ${i==="high"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700"}`,children:"Alta (1080x1920)"}),a.jsx("button",{onClick:()=>l("medium"),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all ${i==="medium"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700"}`,children:"Media (720x1280)"})]})]}),a.jsx("button",{onClick:F,disabled:k.exported||v,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all text-sm ${k.exported?"bg-green-100 text-green-700 cursor-not-allowed":v?"bg-blue-100 text-blue-700 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Generando..."]}):k.exported?a.jsxs(a.Fragment,{children:[a.jsx(ws,{className:"w-3 h-3"}),"Completado"]}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"w-3 h-3"}),"Generar exportacin"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-lg flex items-center justify-center",children:a.jsx(vc,{className:"w-3 h-3 text-white"})}),a.jsx("h2",{className:"font-medium text-gray-900",children:"Programar publicacin"}),k.scheduled&&a.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs ml-auto",children:[a.jsx(ws,{className:"w-3 h-3"}),"Programado"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Programar manualmente"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Fecha"}),a.jsx("input",{type:"date",value:p,onChange:I=>m(I.target.value),className:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Hora"}),a.jsx("input",{type:"time",value:y,onChange:I=>x(I.target.value),className:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),u==="manual"&&a.jsx("button",{onClick:K,className:"mt-3 w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Confirmar programacin"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-xs",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"o"})})]}),a.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all text-sm",children:[a.jsx(sc,{className:"w-3 h-3"}),"Programar con IA"]}),u==="ai"&&a.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"text-purple-700 text-xs",children:[" IA recomienda: ",a.jsxs("strong",{children:[p," a las ",y]})]}),a.jsx("div",{className:"text-purple-600 text-xs mt-1",children:"Mayor engagement segn tu audiencia"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-lg flex items-center justify-center",children:a.jsx(bt,{className:"w-3 h-3 text-white"})}),a.jsx("h2",{className:"font-medium text-gray-900",children:"Plataformas"})]}),a.jsx("div",{className:"space-y-2",children:$9.map(I=>{const j=k.platforms.includes(I.id),A=I.icon;return a.jsxs("button",{onClick:()=>U(I.id),className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all w-full ${j?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-6 h-6 ${I.color} rounded-lg flex items-center justify-center`,children:a.jsx(A,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-gray-900 text-sm",children:I.name}),j&&a.jsx(bt,{className:"w-4 h-4 text-blue-500 ml-auto"})]},I.id)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("button",{onClick:()=>C(!S),className:"flex items-center justify-between w-full mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-lg flex items-center justify-center",children:a.jsx(vc,{className:"w-3 h-3 text-white"})}),a.jsx("h2",{className:"font-medium text-gray-900",children:"Vista de agenda"})]}),S?a.jsx(Ta,{className:"w-4 h-4 text-gray-500"}):a.jsx(lr,{className:"w-4 h-4 text-gray-500"})]}),S&&a.jsxs("div",{className:"space-y-2",children:[y1.map((I,j)=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I.story}),a.jsx("div",{className:"text-gray-600 text-xs",children:I.type})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-gray-900 text-xs font-medium",children:I.date}),a.jsxs("div",{className:"text-gray-600 text-xs flex items-center gap-1",children:[a.jsx(Dh,{className:"w-2 h-2"}),I.time]})]})]})},j)),a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"text-blue-700 text-xs font-medium",children:[" ",y1.length," historias programadas esta semana"]}),a.jsx("div",{className:"text-blue-600 text-xs mt-1",children:"Distribucin ptima para mximo alcance"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Resumen del progreso"}),a.jsx("div",{className:"space-y-2",children:n.map(I=>{const j=[I.exported,I.scheduled,I.platforms.length>0].filter(Boolean).length;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-700",children:I.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${j/3*100}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[j,"/3"]})]})]},I.id)})})]}),!V&&a.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2 text-orange-700",children:[a.jsx(Ss,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-xs",children:"Completa exportacin, programacin y plataformas para al menos una historia."})]})})]})}),a.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex justify-between gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(In,{className:"w-4 h-4"}),"Volver"]}),a.jsxs("button",{disabled:!V,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${V?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(bt,{className:"w-4 h-4"}),"Finalizar"]})]})})]})}function U9(){const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t?a.jsx(z9,{}):a.jsx(F9,{})}function B9(){const{currentStep:t,currentProject:e}=qv();lt.useEffect(()=>{},[e]);const n=()=>{switch(t){case"briefing":return a.jsx(u1,{});case"configuration":return a.jsx(d9,{});case"generation":return a.jsx(v9,{});case"advanced-editing":return a.jsx(A9,{});case"captions":return a.jsx(L9,{});case"publishing":return a.jsx(U9,{});default:return a.jsx(u1,{})}};return a.jsx("div",{className:"h-full w-full",children:n()})}const H9=lt.lazy(()=>hr(()=>import("./PostsCreatorModule-BSldi9Lx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),G9=lt.lazy(()=>hr(()=>import("./VideosCreatorModule-DbyZM8XZ.js"),__vite__mapDeps([14,1,2,6,15,7,12,16,17,18,13,11,4,19,5,9]))),W9=lt.lazy(()=>hr(()=>import("./PodcastsCreatorModule-Buxf2eu9.js"),__vite__mapDeps([20,1,21,6,4,2,17,15,18,9,8,11,16,22,23,24,25,7,19,5,13]))),K9=lt.lazy(()=>hr(()=>import("./CalendarModule-BaXm13lW.js"),__vite__mapDeps([26,4,19,5])).then(t=>({default:t.CalendarModule}))),q9=lt.lazy(()=>hr(()=>import("./AssetsLibrary-_4BUx0TM.js"),__vite__mapDeps([27,17,2,4,11,22,23,25,3,10,16]))),Q9=lt.lazy(()=>hr(()=>import("./BrandKitModule-DqeJZe8E.js"),__vite__mapDeps([28,6,4,23,13]))),Y9=lt.lazy(()=>hr(()=>import("./AnalyticsModule-DzR5j3t1.js"),__vite__mapDeps([29,13,21,30,24,16,22]))),X9=lt.lazy(()=>hr(()=>import("./AutomationModule-CDZxi2ja.js"),__vite__mapDeps([31,9,21,16]))),J9=lt.lazy(()=>hr(()=>import("./CompetitionModule-4929HdES.js"),__vite__mapDeps([32,3,13,30,21,15,7,2,4,16])));function ms(){return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-8 h-8 mx-auto border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-muted-foreground",children:"Cargando mdulo..."})]})})}function x1({error:t,resetError:e}){return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[a.jsx("p",{className:"text-red-500 font-medium",children:"Error cargando el mdulo"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.message}),a.jsxs("div",{className:"space-x-2",children:[a.jsx(Ce,{onClick:e,variant:"outline",children:"Reintentar"}),a.jsx(Ce,{onClick:()=>window.location.reload(),children:"Recargar aplicacin"})]})]})})}const Z9=(t,e,n)=>{if(e)return a.jsx(x1,{error:e,resetError:n});try{switch(t){case"chat":return a.jsx(l1,{});case"stories":return a.jsx(B9,{});case"posts":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(H9,{})});case"videos":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(G9,{})});case"podcasts":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(W9,{})});case"calendar":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(K9,{})});case"library":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(q9,{})});case"brandkit":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(Q9,{})});case"analytics":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(Y9,{})});case"automation":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(X9,{})});case"competition":return a.jsx(b.Suspense,{fallback:a.jsx(ms,{}),children:a.jsx(J9,{})});default:return a.jsx(l1,{})}}catch(r){return console.error("Error rendering module:",r),a.jsx(x1,{error:r,resetError:n})}};function e$({}){const[t,e]=b.useState("chat"),[n,r]=b.useState(null),i=["videos","podcasts"].includes(t),l=()=>r(null),u=f=>{r(null),e(f)};return a.jsx(OI,{children:a.jsx(NV,{children:a.jsx(CV,{children:a.jsx(jV,{children:a.jsx(kV,{children:a.jsx(wV,{children:a.jsxs("div",{className:"flex min-h-screen bg-canvas",children:[a.jsx(SV,{activeModule:t,onModuleChange:u}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(_V,{activeModule:t,showMasterMenu:i}),a.jsx("main",{className:"flex-1 overflow-hidden",children:Z9(t,n,l)})]})]})})})})})})})}function t$(){return a.jsx(e$,{})}S2.createRoot(document.getElementById("root")).render(a.jsx(t$,{}));export{ig as $,ob as A,Ce as B,r1 as C,bt as D,ni as E,E_ as F,A_ as G,Ss as H,Hp as I,s$ as J,Z0 as K,Ze as L,zP as M,gP as N,yc as O,yF as P,Bg as Q,Oh as R,JF as S,mn as T,M_ as U,CA as V,Ia as W,hi as X,sc as Y,xc as Z,In as _,xt as a,mv as a$,ag as a0,lg as a1,pn as a2,o$ as a3,Yd as a4,yA as a5,Vm as a6,$m as a7,vc as a8,RF as a9,kc as aA,Rv as aB,Cc as aC,Fe as aD,nA as aE,AP as aF,lr as aG,C_ as aH,T_ as aI,ya as aJ,k_ as aK,dr as aL,qI as aM,_$ as aN,Fm as aO,Ug as aP,Y0 as aQ,hP as aR,hk as aS,hh as aT,Ta as aU,fc as aV,Pv as aW,cN as aX,uN as aY,iN as aZ,HI as a_,MF as aa,DF as ab,VP as ac,tb as ad,pA as ae,GP as af,j_ as ag,b$ as ah,sP as ai,cA as aj,lt as ak,_o as al,nn as am,ur as an,Me as ao,pe as ap,Rt as aq,Ke as ar,Kn as as,i5 as at,a5 as au,aN as av,lN as aw,jh as ax,ph as ay,jc as az,zg as b,Hc as b0,LF as b1,Rg as b2,fN as b3,N1 as b4,Lc as b5,_g as b6,pP as b7,c$ as b8,u$ as b9,k2 as ba,cg as bb,Ja as bc,vv as bd,yv as be,Ka as bf,Og as bg,Ah as bh,Mc as bi,Ng as bj,hI as bk,zt as bl,xv as bm,gv as bn,Yh as bo,ui as bp,qh as bq,Ac as br,Lg as bs,Vg as bt,n$ as bu,he as c,BV as d,w$ as e,Dh as f,ws as g,nb as h,ib as i,a as j,JI as k,R_ as l,Vc as m,DC as n,li as o,kn as p,Gn as q,b as r,r$ as s,N_ as t,Oc as u,s1 as v,o1 as w,i1 as x,Xd as y,ys as z};
