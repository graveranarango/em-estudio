function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/PostsCreatorModule-WbRbmHvx.js","assets/skeleton-BcsaiXP8.js","assets/tabs-Bpqr4niy.js","assets/select-KYgwIXrb.js","assets/chevron-left-CYbg2prk.js","assets/slider-B-uFv7Oe.js","assets/linkedin-BVHWv94x.js","assets/twitter-CVBP-__i.js","assets/switch-CR3GTaVu.js","assets/sheet-ore3Ar_Q.js","assets/search-BubpyTWw.js","assets/lock-DG_yliUz.js","assets/users-Y7BBW9Iu.js","assets/VideosCreatorModule-DxZyO8K4.js","assets/youtube-aEv2Z_Vb.js","assets/lightbulb-BzX1UduD.js","assets/play-Bn7RAGQp.js","assets/skip-forward-xx4tsIvq.js","assets/calendar-D0aqi5U6.js","assets/PodcastsCreatorModule-C099hbti.js","assets/trending-up-CECdv3h0.js","assets/funnel-DUBlWUXV.js","assets/grid-3x3-1gWNms5d.js","assets/heart-CUA_26GE.js","assets/list-DqNJ6qLj.js","assets/CalendarModule-Dx6AFRLx.js","assets/AssetsLibrary-BV7a92XM.js","assets/BrandKitModule-DKAUzW1R.js","assets/AnalyticsModule-CsrPRBoD.js","assets/generateCategoricalChart-Cn7Ed7Hl.js","assets/AutomationModule-DiUanOcz.js","assets/CompetitionModule-6O-wto7d.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
function WT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var zH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q1={exports:{}},Ud={},Y1={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),KT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),YT=Symbol.for("react.strict_mode"),QT=Symbol.for("react.profiler"),XT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),ZT=Symbol.for("react.forward_ref"),eI=Symbol.for("react.suspense"),tI=Symbol.for("react.memo"),nI=Symbol.for("react.lazy"),Hx=Symbol.iterator;function rI(t){return t===null||typeof t!="object"?null:(t=Hx&&t[Hx]||t["@@iterator"],typeof t=="function"?t:null)}var Q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,J1={};function Ai(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Q1}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z1(){}Z1.prototype=Ai.prototype;function dg(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Q1}var hg=dg.prototype=new Z1;hg.constructor=dg;X1(hg,Ai.prototype);hg.isPureReactComponent=!0;var Gx=Array.isArray,e_=Object.prototype.hasOwnProperty,fg={current:null},t_={key:!0,ref:!0,__self:!0,__source:!0};function n_(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)e_.call(e,r)&&!t_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Vl,type:t,key:o,ref:a,props:s,_owner:fg.current}}function sI(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function oI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wx=/\/+/g;function df(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oI(""+t.key):e.toString(36)}function du(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vl:case KT:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+df(a,0):r,Gx(s)?(n="",t!=null&&(n=t.replace(Wx,"$&/")+"/"),du(s,e,n,"",function(d){return d})):s!=null&&(pg(s)&&(s=sI(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Wx,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Gx(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+df(o,l);a+=du(o,e,n,c,s)}else if(c=rI(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+df(o,l++),a+=du(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cc(t,e,n){if(t==null)return t;var r=[],s=0;return du(t,r,"","",function(o){return e.call(n,o,s++)}),r}function iI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},hu={transition:null},aI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:hu,ReactCurrentOwner:fg};function r_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ai;de.Fragment=qT;de.Profiler=QT;de.PureComponent=dg;de.StrictMode=YT;de.Suspense=eI;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aI;de.act=r_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X1({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=fg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)e_.call(e,c)&&!t_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Vl,type:t.type,key:s,ref:o,props:r,_owner:a}};de.createContext=function(t){return t={$$typeof:JT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XT,_context:t},t.Consumer=t};de.createElement=n_;de.createFactory=function(t){var e=n_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:ZT,render:t}};de.isValidElement=pg;de.lazy=function(t){return{$$typeof:nI,_payload:{_status:-1,_result:t},_init:iI}};de.memo=function(t,e){return{$$typeof:tI,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=hu.transition;hu.transition={};try{t()}finally{hu.transition=e}};de.unstable_act=r_;de.useCallback=function(t,e){return kt.current.useCallback(t,e)};de.useContext=function(t){return kt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};de.useEffect=function(t,e){return kt.current.useEffect(t,e)};de.useId=function(){return kt.current.useId()};de.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return kt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};de.useRef=function(t){return kt.current.useRef(t)};de.useState=function(t){return kt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return kt.current.useTransition()};de.version="18.3.1";Y1.exports=de;var p=Y1.exports;const Se=K1(p),s_=WT({__proto__:null,default:Se},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI=p,cI=Symbol.for("react.element"),uI=Symbol.for("react.fragment"),dI=Object.prototype.hasOwnProperty,hI=lI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fI={key:!0,ref:!0,__self:!0,__source:!0};function o_(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dI.call(e,r)&&!fI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cI,type:t,key:o,ref:a,props:s,_owner:hI.current}}Ud.Fragment=uI;Ud.jsx=o_;Ud.jsxs=o_;q1.exports=Ud;var i=q1.exports,i_={exports:{}},Xt={},a_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var W=O.length;O.push(z);e:for(;0<W;){var ne=W-1>>>1,ue=O[ne];if(0<s(ue,z))O[ne]=z,O[W]=ue,W=ne;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],W=O.pop();if(W!==z){O[0]=W;e:for(var ne=0,ue=O.length,ge=ue>>>1;ne<ge;){var he=2*(ne+1)-1,rt=O[he],De=he+1,se=O[De];if(0>s(rt,W))De<ue&&0>s(se,rt)?(O[ne]=se,O[De]=W,ne=De):(O[ne]=rt,O[he]=W,ne=he);else if(De<ue&&0>s(se,W))O[ne]=se,O[De]=W,ne=De;else break e}}return z}function s(O,z){var W=O.sortIndex-z.sortIndex;return W!==0?W:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,m=null,f=3,y=!1,v=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=O)r(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function P(O){if(x=!1,S(O),!v)if(n(c)!==null)v=!0,B(j);else{var z=n(d);z!==null&&q(P,z.startTime-O)}}function j(O,z){v=!1,x&&(x=!1,b(E),E=-1),y=!0;var W=f;try{for(S(z),m=n(c);m!==null&&(!(m.expirationTime>z)||O&&!M());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,f=m.priorityLevel;var ue=ne(m.expirationTime<=z);z=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(c)&&r(c),S(z)}else r(c);m=n(c)}if(m!==null)var ge=!0;else{var he=n(d);he!==null&&q(P,he.startTime-z),ge=!1}return ge}finally{m=null,f=W,y=!1}}var D=!1,C=null,E=-1,k=5,I=-1;function M(){return!(t.unstable_now()-I<k)}function R(){if(C!==null){var O=t.unstable_now();I=O;var z=!0;try{z=C(!0,O)}finally{z?T():(D=!1,C=null)}}else D=!1}var T;if(typeof w=="function")T=function(){w(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=R,T=function(){L.postMessage(null)}}else T=function(){N(R,0)};function B(O){C=O,D||(D=!0,T())}function q(O,z){E=N(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,B(j))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var W=f;f=z;try{return O()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=f;f=O;try{return z()}finally{f=W}},t.unstable_scheduleCallback=function(O,z,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,O){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=W+ue,O={id:h++,callback:z,priorityLevel:O,startTime:W,expirationTime:ue,sortIndex:-1},W>ne?(O.sortIndex=W,e(d,O),n(c)===null&&O===n(d)&&(x?(b(E),E=-1):x=!0,q(P,W-ne))):(O.sortIndex=ue,e(c,O),v||y||(v=!0,B(j))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var z=f;return function(){var W=f;f=z;try{return O.apply(this,arguments)}finally{f=W}}}})(l_);a_.exports=l_;var pI=a_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=p,Yt=pI;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c_=new Set,nl={};function vo(t,e){li(t,e),li(t+"Capture",e)}function li(t,e){for(nl[t]=e,t=0;t<e.length;t++)c_.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=Object.prototype.hasOwnProperty,gI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kx={},qx={};function yI(t){return bp.call(qx,t)?!0:bp.call(Kx,t)?!1:gI.test(t)?qx[t]=!0:(Kx[t]=!0,!1)}function vI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xI(t,e,n,r){if(e===null||typeof e>"u"||vI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var mg=/[\-:]([a-z])/g;function gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mg,gg);dt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mg,gg);dt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mg,gg);dt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yg(t,e,n,r){var s=dt.hasOwnProperty(e)?dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xI(e,n,s,r)&&(n=null),r||s===null?yI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ar=mI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),h_=Symbol.for("react.offscreen"),Yx=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=Yx&&t[Yx]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,hf;function Na(t){if(hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var ff=!1;function pf(t,e){if(!t||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function wI(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function Cp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Do:return"Portal";case _p:return"Profiler";case vg:return"StrictMode";case Ep:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d_:return(t.displayName||"Context")+".Consumer";case u_:return(t._context.displayName||"Context")+".Provider";case xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wg:return e=t.displayName||null,e!==null?e:Cp(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Cp(t(e))}catch{}}return null}function bI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(e);case 8:return e===vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _I(t){var e=f_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=_I(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m_(t,e){e=e.checked,e!=null&&yg(t,"checked",e,!1)}function kp(t,e){m_(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&jp(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jp(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function Yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ka(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function g_(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jc,v_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EI=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){EI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function x_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function w_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=x_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var SI=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(SI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mp=null,Qo=null,Xo=null;function e0(t){if(t=Ul(t)){if(typeof Mp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Kd(e),Mp(t.stateNode,t.type,e))}}function b_(t){Qo?Xo?Xo.push(t):Xo=[t]:Qo=t}function __(){if(Qo){var t=Qo,e=Xo;if(Xo=Qo=null,e0(t),e)for(t=0;t<e.length;t++)e0(e[t])}}function E_(t,e){return t(e)}function S_(){}var mf=!1;function C_(t,e,n){if(mf)return t(e,n);mf=!0;try{return E_(t,e,n)}finally{mf=!1,(Qo!==null||Xo!==null)&&(S_(),__())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=Kd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Dp=!1;if(_r)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Dp=!1}function CI(t,e,n,r,s,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var La=!1,Lu=null,Fu=!1,Op=null,NI={onError:function(t){La=!0,Lu=t}};function kI(t,e,n,r,s,o,a,l,c){La=!1,Lu=null,CI.apply(NI,arguments)}function jI(t,e,n,r,s,o,a,l,c){if(kI.apply(this,arguments),La){if(La){var d=Lu;La=!1,Lu=null}else throw Error(H(198));Fu||(Fu=!0,Op=d)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t0(t){if(xo(t)!==t)throw Error(H(188))}function TI(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return t0(s),t;if(o===r)return t0(s),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function k_(t){return t=TI(t),t!==null?j_(t):null}function j_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j_(t);if(e!==null)return e;t=t.sibling}return null}var T_=Yt.unstable_scheduleCallback,n0=Yt.unstable_cancelCallback,II=Yt.unstable_shouldYield,PI=Yt.unstable_requestPaint,Fe=Yt.unstable_now,AI=Yt.unstable_getCurrentPriorityLevel,_g=Yt.unstable_ImmediatePriority,I_=Yt.unstable_UserBlockingPriority,Vu=Yt.unstable_NormalPriority,RI=Yt.unstable_LowPriority,P_=Yt.unstable_IdlePriority,Bd=null,qn=null;function MI(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:LI,DI=Math.log,OI=Math.LN2;function LI(t){return t>>>=0,t===0?32:31-(DI(t)/OI|0)|0}var Tc=64,Ic=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $u(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ja(l):(o&=a,o!==0&&(r=ja(o)))}else a=n&~s,a!==0?r=ja(a):o!==0&&(r=ja(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),s=1<<n,r|=t[n],e&=~s;return r}function FI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Nn(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=FI(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A_(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $l(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function $I(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nn(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Eg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function R_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M_,Sg,D_,O_,L_,Fp=!1,Pc=[],ss=null,os=null,is=null,ol=new Map,il=new Map,qr=[],zI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(t,e){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function pa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ul(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function UI(t,e,n,r,s){switch(e){case"focusin":return ss=pa(ss,t,e,n,r,s),!0;case"dragenter":return os=pa(os,t,e,n,r,s),!0;case"mouseover":return is=pa(is,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return ol.set(o,pa(ol.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,il.set(o,pa(il.get(o)||null,t,e,n,r,s)),!0}return!1}function F_(t){var e=Us(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=N_(n),e!==null){t.blockedOn=e,L_(t.priority,function(){D_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rp=r,n.target.dispatchEvent(r),Rp=null}else return e=Ul(n),e!==null&&Sg(e),t.blockedOn=n,!1;e.shift()}return!0}function s0(t,e,n){fu(t)&&n.delete(e)}function BI(){Fp=!1,ss!==null&&fu(ss)&&(ss=null),os!==null&&fu(os)&&(os=null),is!==null&&fu(is)&&(is=null),ol.forEach(s0),il.forEach(s0)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Fp||(Fp=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,BI)))}function al(t){function e(s){return ma(s,t)}if(0<Pc.length){ma(Pc[0],t);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ss!==null&&ma(ss,t),os!==null&&ma(os,t),is!==null&&ma(is,t),ol.forEach(e),il.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)F_(n),n.blockedOn===null&&qr.shift()}var Jo=Ar.ReactCurrentBatchConfig,zu=!0;function HI(t,e,n,r){var s=_e,o=Jo.transition;Jo.transition=null;try{_e=1,Cg(t,e,n,r)}finally{_e=s,Jo.transition=o}}function GI(t,e,n,r){var s=_e,o=Jo.transition;Jo.transition=null;try{_e=4,Cg(t,e,n,r)}finally{_e=s,Jo.transition=o}}function Cg(t,e,n,r){if(zu){var s=Vp(t,e,n,r);if(s===null)Nf(t,e,r,Uu,n),r0(t,r);else if(UI(s,t,e,n,r))r.stopPropagation();else if(r0(t,r),e&4&&-1<zI.indexOf(t)){for(;s!==null;){var o=Ul(s);if(o!==null&&M_(o),o=Vp(t,e,n,r),o===null&&Nf(t,e,r,Uu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Nf(t,e,r,null,n)}}var Uu=null;function Vp(t,e,n,r){if(Uu=null,t=bg(r),t=Us(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function V_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AI()){case _g:return 1;case I_:return 4;case Vu:case RI:return 16;case P_:return 536870912;default:return 16}default:return 16}}var es=null,Ng=null,pu=null;function $_(){if(pu)return pu;var t,e=Ng,n=e.length,r,s="value"in es?es.value:es.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return pu=s.slice(t,1<r?1-r:void 0)}function mu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ac(){return!0}function o0(){return!1}function Jt(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ac:o0,this.isPropagationStopped=o0,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=Jt(Ri),zl=Me({},Ri,{view:0,detail:0}),WI=Jt(zl),yf,vf,ga,Hd=Me({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(yf=t.screenX-ga.screenX,vf=t.screenY-ga.screenY):vf=yf=0,ga=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:vf}}),i0=Jt(Hd),KI=Me({},Hd,{dataTransfer:0}),qI=Jt(KI),YI=Me({},zl,{relatedTarget:0}),xf=Jt(YI),QI=Me({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),XI=Jt(QI),JI=Me({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZI=Jt(JI),eP=Me({},Ri,{data:0}),a0=Jt(eP),tP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rP[t])?!!e[t]:!1}function jg(){return sP}var oP=Me({},zl,{key:function(t){if(t.key){var e=tP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(t){return t.type==="keypress"?mu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iP=Jt(oP),aP=Me({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=Jt(aP),lP=Me({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),cP=Jt(lP),uP=Me({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),dP=Jt(uP),hP=Me({},Hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fP=Jt(hP),pP=[9,13,27,32],Tg=_r&&"CompositionEvent"in window,Fa=null;_r&&"documentMode"in document&&(Fa=document.documentMode);var mP=_r&&"TextEvent"in window&&!Fa,z_=_r&&(!Tg||Fa&&8<Fa&&11>=Fa),c0=" ",u0=!1;function U_(t,e){switch(t){case"keyup":return pP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function gP(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(u0=!0,c0);case"textInput":return t=e.data,t===c0&&u0?null:t;default:return null}}function yP(t,e){if(Lo)return t==="compositionend"||!Tg&&U_(t,e)?(t=$_(),pu=Ng=es=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z_&&e.locale!=="ko"?null:e.data;default:return null}}var vP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vP[t.type]:e==="textarea"}function H_(t,e,n,r){b_(r),e=Bu(e,"onChange"),0<e.length&&(n=new kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Va=null,ll=null;function xP(t){tE(t,0)}function Gd(t){var e=$o(t);if(p_(e))return t}function wP(t,e){if(t==="change")return e}var G_=!1;if(_r){var wf;if(_r){var bf="oninput"in document;if(!bf){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),bf=typeof h0.oninput=="function"}wf=bf}else wf=!1;G_=wf&&(!document.documentMode||9<document.documentMode)}function f0(){Va&&(Va.detachEvent("onpropertychange",W_),ll=Va=null)}function W_(t){if(t.propertyName==="value"&&Gd(ll)){var e=[];H_(e,ll,t,bg(t)),C_(xP,e)}}function bP(t,e,n){t==="focusin"?(f0(),Va=e,ll=n,Va.attachEvent("onpropertychange",W_)):t==="focusout"&&f0()}function _P(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gd(ll)}function EP(t,e){if(t==="click")return Gd(e)}function SP(t,e){if(t==="input"||t==="change")return Gd(e)}function CP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:CP;function cl(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bp.call(e,s)||!In(t[s],e[s]))return!1}return!0}function p0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m0(t,e){var n=p0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p0(n)}}function K_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q_(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NP(t){var e=q_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K_(n.ownerDocument.documentElement,n)){if(r!==null&&Ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=m0(n,o);var a=m0(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kP=_r&&"documentMode"in document&&11>=document.documentMode,Fo=null,$p=null,$a=null,zp=!1;function g0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||Fo==null||Fo!==Ou(r)||(r=Fo,"selectionStart"in r&&Ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&cl($a,r)||($a=r,r=Bu($p,"onSelect"),0<r.length&&(e=new kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function Rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},_f={},Y_={};_r&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Wd(t){if(_f[t])return _f[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y_)return _f[t]=e[n];return t}var Q_=Wd("animationend"),X_=Wd("animationiteration"),J_=Wd("animationstart"),Z_=Wd("transitionend"),eE=new Map,y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){eE.set(t,e),vo(e,[t])}for(var Ef=0;Ef<y0.length;Ef++){var Sf=y0[Ef],jP=Sf.toLowerCase(),TP=Sf[0].toUpperCase()+Sf.slice(1);Ss(jP,"on"+TP)}Ss(Q_,"onAnimationEnd");Ss(X_,"onAnimationIteration");Ss(J_,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(Z_,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function v0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jI(r,e,void 0,t),t.currentTarget=null}function tE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;v0(s,l,d),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;v0(s,l,d),o=c}}}if(Fu)throw t=Op,Fu=!1,Op=null,t}function ke(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(nE(e,t,2,!1),n.add(r))}function Cf(t,e,n){var r=0;e&&(r|=4),nE(n,t,r,e)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Mc]){t[Mc]=!0,c_.forEach(function(n){n!=="selectionchange"&&(IP.has(n)||Cf(n,!1,t),Cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mc]||(e[Mc]=!0,Cf("selectionchange",!1,e))}}function nE(t,e,n,r){switch(V_(e)){case 1:var s=HI;break;case 4:s=GI;break;default:s=Cg}n=s.bind(null,e,n,t),s=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nf(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Us(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}C_(function(){var d=o,h=bg(n),m=[];e:{var f=eE.get(t);if(f!==void 0){var y=kg,v=t;switch(t){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":y=iP;break;case"focusin":v="focus",y=xf;break;case"focusout":v="blur",y=xf;break;case"beforeblur":case"afterblur":y=xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cP;break;case Q_:case X_:case J_:y=XI;break;case Z_:y=dP;break;case"scroll":y=WI;break;case"wheel":y=fP;break;case"copy":case"cut":case"paste":y=ZI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=l0}var x=(e&4)!==0,N=!x&&t==="scroll",b=x?f!==null?f+"Capture":null:f;x=[];for(var w=d,S;w!==null;){S=w;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,b!==null&&(P=sl(w,b),P!=null&&x.push(dl(w,P,S)))),N)break;w=w.return}0<x.length&&(f=new y(f,v,null,n,h),m.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Rp&&(v=n.relatedTarget||n.fromElement)&&(Us(v)||v[Er]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=d,v=v?Us(v):null,v!==null&&(N=xo(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(x=i0,P="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=l0,P="onPointerLeave",b="onPointerEnter",w="pointer"),N=y==null?f:$o(y),S=v==null?f:$o(v),f=new x(P,w+"leave",y,n,h),f.target=N,f.relatedTarget=S,P=null,Us(h)===d&&(x=new x(b,w+"enter",v,n,h),x.target=S,x.relatedTarget=N,P=x),N=P,y&&v)t:{for(x=y,b=v,w=0,S=x;S;S=ko(S))w++;for(S=0,P=b;P;P=ko(P))S++;for(;0<w-S;)x=ko(x),w--;for(;0<S-w;)b=ko(b),S--;for(;w--;){if(x===b||b!==null&&x===b.alternate)break t;x=ko(x),b=ko(b)}x=null}else x=null;y!==null&&x0(m,f,y,x,!1),v!==null&&N!==null&&x0(m,N,v,x,!0)}}e:{if(f=d?$o(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var j=wP;else if(d0(f))if(G_)j=SP;else{j=_P;var D=bP}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=EP);if(j&&(j=j(t,d))){H_(m,j,n,h);break e}D&&D(t,f,d),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&jp(f,"number",f.value)}switch(D=d?$o(d):window,t){case"focusin":(d0(D)||D.contentEditable==="true")&&(Fo=D,$p=d,$a=null);break;case"focusout":$a=$p=Fo=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,g0(m,n,h);break;case"selectionchange":if(kP)break;case"keydown":case"keyup":g0(m,n,h)}var C;if(Tg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lo?U_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(z_&&n.locale!=="ko"&&(Lo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lo&&(C=$_()):(es=h,Ng="value"in es?es.value:es.textContent,Lo=!0)),D=Bu(d,E),0<D.length&&(E=new a0(E,t,null,n,h),m.push({event:E,listeners:D}),C?E.data=C:(C=B_(n),C!==null&&(E.data=C)))),(C=mP?gP(t,n):yP(t,n))&&(d=Bu(d,"onBeforeInput"),0<d.length&&(h=new a0("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=C))}tE(m,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=sl(t,n),o!=null&&r.unshift(dl(t,o,s)),o=sl(t,e),o!=null&&r.push(dl(t,o,s))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x0(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=sl(n,o),c!=null&&a.unshift(dl(n,c,l))):s||(c=sl(n,o),c!=null&&a.push(dl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var PP=/\r\n?/g,AP=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(PP,`
`).replace(AP,"")}function Dc(t,e,n){if(e=w0(e),w0(t)!==e&&n)throw Error(H(425))}function Hu(){}var Up=null,Bp=null;function Hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gp=typeof setTimeout=="function"?setTimeout:void 0,RP=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,MP=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(DP)}:Gp;function DP(t){setTimeout(function(){throw t})}function kf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);al(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Mi,hl="__reactProps$"+Mi,Er="__reactContainer$"+Mi,Wp="__reactEvents$"+Mi,OP="__reactListeners$"+Mi,LP="__reactHandles$"+Mi;function Us(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Er]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_0(t);t!==null;){if(n=t[Hn])return n;t=_0(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[Hn]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Kd(t){return t[hl]||null}var Kp=[],zo=-1;function Cs(t){return{current:t}}function je(t){0>zo||(t.current=Kp[zo],Kp[zo]=null,zo--)}function Ce(t,e){zo++,Kp[zo]=t.current,t.current=e}var vs={},xt=Cs(vs),Ot=Cs(!1),eo=vs;function ci(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function Gu(){je(Ot),je(xt)}function E0(t,e,n){if(xt.current!==vs)throw Error(H(168));Ce(xt,e),Ce(Ot,n)}function rE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,bI(t)||"Unknown",s));return Me({},n,r)}function Wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,eo=xt.current,Ce(xt,t),Ce(Ot,Ot.current),!0}function S0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=rE(t,e,eo),r.__reactInternalMemoizedMergedChildContext=t,je(Ot),je(xt),Ce(xt,t)):je(Ot),Ce(Ot,n)}var dr=null,qd=!1,jf=!1;function sE(t){dr===null?dr=[t]:dr.push(t)}function FP(t){qd=!0,sE(t)}function Ns(){if(!jf&&dr!==null){jf=!0;var t=0,e=_e;try{var n=dr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,qd=!1}catch(s){throw dr!==null&&(dr=dr.slice(t+1)),T_(_g,Ns),s}finally{_e=e,jf=!1}}return null}var Uo=[],Bo=0,Ku=null,qu=0,nn=[],rn=0,to=null,pr=1,mr="";function Fs(t,e){Uo[Bo++]=qu,Uo[Bo++]=Ku,Ku=t,qu=e}function oE(t,e,n){nn[rn++]=pr,nn[rn++]=mr,nn[rn++]=to,to=t;var r=pr;t=mr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var o=32-Nn(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,pr=1<<32-Nn(e)+s|n<<s|r,mr=o+t}else pr=1<<o|n<<s|r,mr=t}function Pg(t){t.return!==null&&(Fs(t,1),oE(t,1,0))}function Ag(t){for(;t===Ku;)Ku=Uo[--Bo],Uo[Bo]=null,qu=Uo[--Bo],Uo[Bo]=null;for(;t===to;)to=nn[--rn],nn[rn]=null,mr=nn[--rn],nn[rn]=null,pr=nn[--rn],nn[rn]=null}var Wt=null,Gt=null,Te=!1,wn=null;function iE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Gt=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Gt=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yp(t){if(Te){var e=Gt;if(e){var n=e;if(!C0(t,e)){if(qp(t))throw Error(H(418));e=as(n.nextSibling);var r=Wt;e&&C0(t,e)?iE(r,n):(t.flags=t.flags&-4097|2,Te=!1,Wt=t)}}else{if(qp(t))throw Error(H(418));t.flags=t.flags&-4097|2,Te=!1,Wt=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Oc(t){if(t!==Wt)return!1;if(!Te)return N0(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hp(t.type,t.memoizedProps)),e&&(e=Gt)){if(qp(t))throw aE(),Error(H(418));for(;e;)iE(t,e),e=as(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=as(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Wt?as(t.stateNode.nextSibling):null;return!0}function aE(){for(var t=Gt;t;)t=as(t.nextSibling)}function ui(){Gt=Wt=null,Te=!1}function Rg(t){wn===null?wn=[t]:wn.push(t)}var VP=Ar.ReactCurrentBatchConfig;function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k0(t){var e=t._init;return e(t._payload)}function lE(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=ds(b,w),b.index=0,b.sibling=null,b}function o(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,S,P){return w===null||w.tag!==6?(w=Df(S,b.mode,P),w.return=b,w):(w=s(w,S),w.return=b,w)}function c(b,w,S,P){var j=S.type;return j===Oo?h(b,w,S.props.children,P,S.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&k0(j)===w.type)?(P=s(w,S.props),P.ref=ya(b,w,S),P.return=b,P):(P=_u(S.type,S.key,S.props,null,b.mode,P),P.ref=ya(b,w,S),P.return=b,P)}function d(b,w,S,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Of(S,b.mode,P),w.return=b,w):(w=s(w,S.children||[]),w.return=b,w)}function h(b,w,S,P,j){return w===null||w.tag!==7?(w=Ks(S,b.mode,P,j),w.return=b,w):(w=s(w,S),w.return=b,w)}function m(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Df(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:return S=_u(w.type,w.key,w.props,null,b.mode,S),S.ref=ya(b,null,w),S.return=b,S;case Do:return w=Of(w,b.mode,S),w.return=b,w;case Wr:var P=w._init;return m(b,P(w._payload),S)}if(ka(w)||ha(w))return w=Ks(w,b.mode,S,null),w.return=b,w;Lc(b,w)}return null}function f(b,w,S,P){var j=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:l(b,w,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nc:return S.key===j?c(b,w,S,P):null;case Do:return S.key===j?d(b,w,S,P):null;case Wr:return j=S._init,f(b,w,j(S._payload),P)}if(ka(S)||ha(S))return j!==null?null:h(b,w,S,P,null);Lc(b,S)}return null}function y(b,w,S,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(S)||null,l(w,b,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:return b=b.get(P.key===null?S:P.key)||null,c(w,b,P,j);case Do:return b=b.get(P.key===null?S:P.key)||null,d(w,b,P,j);case Wr:var D=P._init;return y(b,w,S,D(P._payload),j)}if(ka(P)||ha(P))return b=b.get(S)||null,h(w,b,P,j,null);Lc(w,P)}return null}function v(b,w,S,P){for(var j=null,D=null,C=w,E=w=0,k=null;C!==null&&E<S.length;E++){C.index>E?(k=C,C=null):k=C.sibling;var I=f(b,C,S[E],P);if(I===null){C===null&&(C=k);break}t&&C&&I.alternate===null&&e(b,C),w=o(I,w,E),D===null?j=I:D.sibling=I,D=I,C=k}if(E===S.length)return n(b,C),Te&&Fs(b,E),j;if(C===null){for(;E<S.length;E++)C=m(b,S[E],P),C!==null&&(w=o(C,w,E),D===null?j=C:D.sibling=C,D=C);return Te&&Fs(b,E),j}for(C=r(b,C);E<S.length;E++)k=y(C,b,E,S[E],P),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?E:k.key),w=o(k,w,E),D===null?j=k:D.sibling=k,D=k);return t&&C.forEach(function(M){return e(b,M)}),Te&&Fs(b,E),j}function x(b,w,S,P){var j=ha(S);if(typeof j!="function")throw Error(H(150));if(S=j.call(S),S==null)throw Error(H(151));for(var D=j=null,C=w,E=w=0,k=null,I=S.next();C!==null&&!I.done;E++,I=S.next()){C.index>E?(k=C,C=null):k=C.sibling;var M=f(b,C,I.value,P);if(M===null){C===null&&(C=k);break}t&&C&&M.alternate===null&&e(b,C),w=o(M,w,E),D===null?j=M:D.sibling=M,D=M,C=k}if(I.done)return n(b,C),Te&&Fs(b,E),j;if(C===null){for(;!I.done;E++,I=S.next())I=m(b,I.value,P),I!==null&&(w=o(I,w,E),D===null?j=I:D.sibling=I,D=I);return Te&&Fs(b,E),j}for(C=r(b,C);!I.done;E++,I=S.next())I=y(C,b,E,I.value,P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?E:I.key),w=o(I,w,E),D===null?j=I:D.sibling=I,D=I);return t&&C.forEach(function(R){return e(b,R)}),Te&&Fs(b,E),j}function N(b,w,S,P){if(typeof S=="object"&&S!==null&&S.type===Oo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Nc:e:{for(var j=S.key,D=w;D!==null;){if(D.key===j){if(j=S.type,j===Oo){if(D.tag===7){n(b,D.sibling),w=s(D,S.props.children),w.return=b,b=w;break e}}else if(D.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&k0(j)===D.type){n(b,D.sibling),w=s(D,S.props),w.ref=ya(b,D,S),w.return=b,b=w;break e}n(b,D);break}else e(b,D);D=D.sibling}S.type===Oo?(w=Ks(S.props.children,b.mode,P,S.key),w.return=b,b=w):(P=_u(S.type,S.key,S.props,null,b.mode,P),P.ref=ya(b,w,S),P.return=b,b=P)}return a(b);case Do:e:{for(D=S.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=s(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Of(S,b.mode,P),w.return=b,b=w}return a(b);case Wr:return D=S._init,N(b,w,D(S._payload),P)}if(ka(S))return v(b,w,S,P);if(ha(S))return x(b,w,S,P);Lc(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,S),w.return=b,b=w):(n(b,w),w=Df(S,b.mode,P),w.return=b,b=w),a(b)):n(b,w)}return N}var di=lE(!0),cE=lE(!1),Yu=Cs(null),Qu=null,Ho=null,Mg=null;function Dg(){Mg=Ho=Qu=null}function Og(t){var e=Yu.current;je(Yu),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zo(t,e){Qu=t,Mg=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Mg!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(Qu===null)throw Error(H(308));Ho=t,Qu.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var Bs=null;function Lg(t){Bs===null?Bs=[t]:Bs.push(t)}function uE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Sr(t,n)}return s=r.interleaved,s===null?(e.next=e,Lg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Sr(t,n)}function gu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}function j0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xu(t,e,n,r){var s=t.updateQueue;Kr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;a=0,h=d=c=null,l=o;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,y=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=Me({},m,f);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=m):h=h.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ro|=a,t.lanes=a,t.memoizedState=m}}function T0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Bl={},Yn=Cs(Bl),fl=Cs(Bl),pl=Cs(Bl);function Hs(t){if(t===Bl)throw Error(H(174));return t}function Vg(t,e){switch(Ce(pl,e),Ce(fl,t),Ce(Yn,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}je(Yn),Ce(Yn,e)}function hi(){je(Yn),je(fl),je(pl)}function hE(t){Hs(pl.current);var e=Hs(Yn.current),n=Ip(e,t.type);e!==n&&(Ce(fl,t),Ce(Yn,n))}function $g(t){fl.current===t&&(je(Yn),je(fl))}var Ae=Cs(0);function Ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tf=[];function zg(){for(var t=0;t<Tf.length;t++)Tf[t]._workInProgressVersionPrimary=null;Tf.length=0}var yu=Ar.ReactCurrentDispatcher,If=Ar.ReactCurrentBatchConfig,no=0,Re=null,We=null,Je=null,Zu=!1,za=!1,ml=0,$P=0;function pt(){throw Error(H(321))}function Ug(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function Bg(t,e,n,r,s,o){if(no=o,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yu.current=t===null||t.memoizedState===null?HP:GP,t=n(r,s),za){o=0;do{if(za=!1,ml=0,25<=o)throw Error(H(301));o+=1,Je=We=null,e.updateQueue=null,yu.current=WP,t=n(r,s)}while(za)}if(yu.current=ed,e=We!==null&&We.next!==null,no=0,Je=We=Re=null,Zu=!1,e)throw Error(H(300));return t}function Hg(){var t=ml!==0;return ml=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Re.memoizedState=Je=t:Je=Je.next=t,Je}function dn(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Je===null?Re.memoizedState:Je.next;if(e!==null)Je=e,We=t;else{if(t===null)throw Error(H(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Re.memoizedState=Je=t:Je=Je.next=t}return Je}function gl(t,e){return typeof e=="function"?e(t):e}function Pf(t){var e=dn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=We,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,d=o;do{var h=d.lane;if((no&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,Re.lanes|=h,ro|=h}d=d.next}while(d!==null&&d!==o);c===null?a=r:c.next=l,In(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Re.lanes|=o,ro|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Af(t){var e=dn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);In(o,e.memoizedState)||(Dt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fE(){}function pE(t,e){var n=Re,r=dn(),s=e(),o=!In(r.memoizedState,s);if(o&&(r.memoizedState=s,Dt=!0),r=r.queue,Gg(yE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,yl(9,gE.bind(null,n,r,s,e),void 0,null),tt===null)throw Error(H(349));no&30||mE(n,e,s)}return s}function mE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gE(t,e,n,r){e.value=n,e.getSnapshot=r,vE(e)&&xE(t)}function yE(t,e,n){return n(function(){vE(e)&&xE(t)})}function vE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function xE(t){var e=Sr(t,1);e!==null&&kn(e,t,1,-1)}function I0(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=BP.bind(null,Re,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wE(){return dn().memoizedState}function vu(t,e,n,r){var s=zn();Re.flags|=t,s.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function Yd(t,e,n,r){var s=dn();r=r===void 0?null:r;var o=void 0;if(We!==null){var a=We.memoizedState;if(o=a.destroy,r!==null&&Ug(r,a.deps)){s.memoizedState=yl(e,n,o,r);return}}Re.flags|=t,s.memoizedState=yl(1|e,n,o,r)}function P0(t,e){return vu(8390656,8,t,e)}function Gg(t,e){return Yd(2048,8,t,e)}function bE(t,e){return Yd(4,2,t,e)}function _E(t,e){return Yd(4,4,t,e)}function EE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SE(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4,4,EE.bind(null,e,t),n)}function Wg(){}function CE(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ug(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NE(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ug(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kE(t,e,n){return no&21?(In(n,e)||(n=A_(),Re.lanes|=n,ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function zP(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=If.transition;If.transition={};try{t(!1),e()}finally{_e=n,If.transition=r}}function jE(){return dn().memoizedState}function UP(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(t))IE(e,n);else if(n=uE(t,e,n,r),n!==null){var s=Ct();kn(n,t,r,s),PE(n,e,r)}}function BP(t,e,n){var r=us(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(t))IE(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,In(l,a)){var c=e.interleaved;c===null?(s.next=s,Lg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=uE(t,e,s,r),n!==null&&(s=Ct(),kn(n,t,r,s),PE(n,e,r))}}function TE(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function IE(t,e){za=Zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}var ed={readContext:un,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},HP={readContext:un,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:P0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vu(4194308,4,EE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return vu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UP.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:Wg,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=zP.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=zn();if(Te){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),tt===null)throw Error(H(349));no&30||mE(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,P0(yE.bind(null,r,o,t),[t]),r.flags|=2048,yl(9,gE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zn(),e=tt.identifierPrefix;if(Te){var n=mr,r=pr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$P++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GP={readContext:un,useCallback:CE,useContext:un,useEffect:Gg,useImperativeHandle:SE,useInsertionEffect:bE,useLayoutEffect:_E,useMemo:NE,useReducer:Pf,useRef:wE,useState:function(){return Pf(gl)},useDebugValue:Wg,useDeferredValue:function(t){var e=dn();return kE(e,We.memoizedState,t)},useTransition:function(){var t=Pf(gl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:jE,unstable_isNewReconciler:!1},WP={readContext:un,useCallback:CE,useContext:un,useEffect:Gg,useImperativeHandle:SE,useInsertionEffect:bE,useLayoutEffect:_E,useMemo:NE,useReducer:Af,useRef:wE,useState:function(){return Af(gl)},useDebugValue:Wg,useDeferredValue:function(t){var e=dn();return We===null?e.memoizedState=t:kE(e,We.memoizedState,t)},useTransition:function(){var t=Af(gl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:jE,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),s=us(t),o=xr(r,s);o.payload=e,n!=null&&(o.callback=n),e=ls(t,o,s),e!==null&&(kn(e,t,s,r),gu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),s=us(t),o=xr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ls(t,o,s),e!==null&&(kn(e,t,s,r),gu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=us(t),s=xr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ls(t,s,r),e!==null&&(kn(e,t,r,n),gu(e,t,r))}};function A0(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(s,o):!0}function AE(t,e,n){var r=!1,s=vs,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(s=Lt(e)?eo:xt.current,r=e.contextTypes,o=(r=r!=null)?ci(t,s):vs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function R0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function Jp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fg(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=un(o):(o=Lt(e)?eo:xt.current,s.context=ci(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xp(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qd.enqueueReplaceState(s,s.state,null),Xu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fi(t,e){try{var n="",r=e;do n+=wI(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Rf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function RE(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nd||(nd=!0,cm=r),Zp(t,e)},n}function ME(t,e,n){n=xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zp(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function M0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=aA.bind(null,t,e,n),e.then(t,t))}function D0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,ls(n,e,1))),n.lanes|=1),t)}var qP=Ar.ReactCurrentOwner,Dt=!1;function Et(t,e,n,r){e.child=t===null?cE(e,null,n,r):di(e,t.child,n,r)}function L0(t,e,n,r,s){n=n.render;var o=e.ref;return Zo(e,s),r=Bg(t,e,n,r,o,s),n=Hg(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Te&&n&&Pg(e),e.flags|=1,Et(t,e,r,s),e.child)}function F0(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!ey(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,DE(t,e,o,r,s)):(t=_u(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(a,r)&&t.ref===e.ref)return Cr(t,e,s)}return e.flags|=1,t=ds(o,r),t.ref=e.ref,t.return=e,e.child=t}function DE(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(cl(o,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,Cr(t,e,s)}return em(t,e,n,r,s)}function OE(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Wo,zt),zt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Wo,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(Wo,zt),zt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ce(Wo,zt),zt|=r;return Et(t,e,s,n),e.child}function LE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function em(t,e,n,r,s){var o=Lt(n)?eo:xt.current;return o=ci(e,o),Zo(e,s),n=Bg(t,e,n,r,o,s),r=Hg(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Te&&r&&Pg(e),e.flags|=1,Et(t,e,n,s),e.child)}function V0(t,e,n,r,s){if(Lt(n)){var o=!0;Wu(e)}else o=!1;if(Zo(e,s),e.stateNode===null)xu(t,e),AE(e,n,r),Jp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=un(d):(d=Lt(n)?eo:xt.current,d=ci(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&R0(e,a,r,d),Kr=!1;var f=e.memoizedState;a.state=f,Xu(e,r,a,s),c=e.memoizedState,l!==r||f!==c||Ot.current||Kr?(typeof h=="function"&&(Xp(e,n,h,r),c=e.memoizedState),(l=Kr||A0(e,n,l,r,f,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:vn(e.type,l),a.props=d,m=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=un(c):(c=Lt(n)?eo:xt.current,c=ci(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||f!==c)&&R0(e,a,r,c),Kr=!1,f=e.memoizedState,a.state=f,Xu(e,r,a,s);var v=e.memoizedState;l!==m||f!==v||Ot.current||Kr?(typeof y=="function"&&(Xp(e,n,y,r),v=e.memoizedState),(d=Kr||A0(e,n,d,r,f,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tm(t,e,n,r,o,s)}function tm(t,e,n,r,s,o){LE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&S0(e,n,!1),Cr(t,e,o);r=e.stateNode,qP.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=di(e,t.child,null,o),e.child=di(e,null,l,o)):Et(t,e,l,o),e.memoizedState=r.state,s&&S0(e,n,!0),e.child}function FE(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),Vg(t,e.containerInfo)}function $0(t,e,n,r,s){return ui(),Rg(s),e.flags|=256,Et(t,e,n,r),e.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function VE(t,e,n){var r=e.pendingProps,s=Ae.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Ae,s&1),t===null)return Yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Zd(a,r,0,null),t=Ks(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rm(n),e.memoizedState=nm,t):Kg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return YP(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ds(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ds(l,o):(o=Ks(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?rm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=nm,r}return o=t.child,t=o.sibling,r=ds(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kg(t,e){return e=Zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&Rg(r),di(e,t.child,null,n),t=Kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YP(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Rf(Error(H(422))),Fc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Zd({mode:"visible",children:r.children},s,0,null),o=Ks(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&di(e,t.child,null,a),e.child.memoizedState=rm(a),e.memoizedState=nm,o);if(!(e.mode&1))return Fc(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(H(419)),r=Rf(o,r,void 0),Fc(t,e,a,r)}if(l=(a&t.childLanes)!==0,Dt||l){if(r=tt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Sr(t,s),kn(r,t,s,-1))}return Zg(),r=Rf(Error(H(421))),Fc(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lA.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Gt=as(s.nextSibling),Wt=e,Te=!0,wn=null,t!==null&&(nn[rn++]=pr,nn[rn++]=mr,nn[rn++]=to,pr=t.id,mr=t.overflow,to=e),e=Kg(e,r.children),e.flags|=4096,e)}function z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function Mf(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $E(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Et(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,n,e);else if(t.tag===19)z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ju(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mf(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ju(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mf(e,!0,n,null,o);break;case"together":Mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QP(t,e,n){switch(e.tag){case 3:FE(e),ui();break;case 5:hE(e);break;case 1:Lt(e.type)&&Wu(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Yu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?VE(t,e,n):(Ce(Ae,Ae.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Ce(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $E(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,OE(t,e,n)}return Cr(t,e,n)}var zE,sm,UE,BE;zE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};UE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hs(Yn.current);var o=null;switch(n){case"input":s=Np(t,s),r=Np(t,r),o=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),o=[];break;case"textarea":s=Tp(t,s),r=Tp(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hu)}Pp(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(nl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=s?.[d],r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(nl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};BE=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XP(t,e,n){var r=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Lt(e.type)&&Gu(),mt(e),null;case 3:return r=e.stateNode,hi(),je(Ot),je(xt),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(hm(wn),wn=null))),sm(t,e),mt(e),null;case 5:$g(e);var s=Hs(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)UE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return mt(e),null}if(t=Hs(Yn.current),Oc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Hn]=e,r[hl]=o,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Ta.length;s++)ke(Ta[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Qx(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":Jx(r,o),ke("invalid",r)}Pp(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Dc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Dc(r.textContent,l,t),s=["children",""+l]):nl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":kc(r),Xx(r,o,!0);break;case"textarea":kc(r),Zx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Hn]=e,t[hl]=r,zE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ap(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ta.length;s++)ke(Ta[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":Qx(t,r),s=Np(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Jx(t,r),s=Tp(t,r),ke("invalid",t);break;default:s=r}Pp(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?w_(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v_(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rl(t,c):typeof c=="number"&&rl(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ke("scroll",t):c!=null&&yg(t,o,c,a))}switch(n){case"input":kc(t),Xx(t,r,!1);break;case"textarea":kc(t),Zx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Yo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Hs(pl.current),Hs(Yn.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(o=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return mt(e),null;case 13:if(je(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Gt!==null&&e.mode&1&&!(e.flags&128))aE(),ui(),e.flags|=98560,o=!1;else if(o=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Hn]=e}else ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),o=!1}else wn!==null&&(hm(wn),wn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?qe===0&&(qe=3):Zg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return hi(),sm(t,e),t===null&&ul(e.stateNode.containerInfo),mt(e),null;case 10:return Og(e.type._context),mt(e),null;case 17:return Lt(e.type)&&Gu(),mt(e),null;case 19:if(je(Ae),o=e.memoizedState,o===null)return mt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)va(o,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ju(t),a!==null){for(e.flags|=128,va(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fe()>pi&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ju(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Te)return mt(e),null}else 2*Fe()-o.renderingStartTime>pi&&n!==1073741824&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fe(),e.sibling=null,n=Ae.current,Ce(Ae,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function JP(t,e){switch(Ag(e),e.tag){case 1:return Lt(e.type)&&Gu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(),je(Ot),je(xt),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $g(e),null;case 13:if(je(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ae),null;case 4:return hi(),null;case 10:return Og(e.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var Vc=!1,vt=!1,ZP=typeof WeakSet=="function"?WeakSet:Set,X=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function om(t,e,n){try{n()}catch(r){Le(t,e,r)}}var U0=!1;function eA(t,e){if(Up=zu,t=q_(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,m=t,f=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(l=a+s),m!==o||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===t)break t;if(f===n&&++d===s&&(l=a),f===o&&++h===r&&(c=a),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},zu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,N=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:vn(e.type,x),N);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){Le(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=U0,U0=!1,v}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&om(e,n,o)}s=s.next}while(s!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HE(t){var e=t.alternate;e!==null&&(t.alternate=null,HE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[hl],delete e[Wp],delete e[OP],delete e[LP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GE(t){return t.tag===5||t.tag===3||t.tag===4}function B0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hu));else if(r!==4&&(t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}var ot=null,xn=!1;function Ur(t,e,n){for(n=n.child;n!==null;)WE(t,e,n),n=n.sibling}function WE(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Bd,n)}catch{}switch(n.tag){case 5:vt||Go(n,e);case 6:var r=ot,s=xn;ot=null,Ur(t,e,n),ot=r,xn=s,ot!==null&&(xn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(xn?(t=ot,n=n.stateNode,t.nodeType===8?kf(t.parentNode,n):t.nodeType===1&&kf(t,n),al(t)):kf(ot,n.stateNode));break;case 4:r=ot,s=xn,ot=n.stateNode.containerInfo,xn=!0,Ur(t,e,n),ot=r,xn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&om(n,e,a),s=s.next}while(s!==r)}Ur(t,e,n);break;case 1:if(!vt&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Le(n,e,l)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Ur(t,e,n),vt=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function H0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZP),e.forEach(function(r){var s=cA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,xn=!1;break e;case 3:ot=l.stateNode.containerInfo,xn=!0;break e;case 4:ot=l.stateNode.containerInfo,xn=!0;break e}l=l.return}if(ot===null)throw Error(H(160));WE(o,a,s),ot=null,xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Le(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KE(e,t),e=e.sibling}function KE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Vn(t),r&4){try{Ua(3,t,t.return),Xd(3,t)}catch(x){Le(t,t.return,x)}try{Ua(5,t,t.return)}catch(x){Le(t,t.return,x)}}break;case 1:gn(e,t),Vn(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(gn(e,t),Vn(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var s=t.stateNode;try{rl(s,"")}catch(x){Le(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&m_(s,o),Ap(l,a);var d=Ap(l,o);for(a=0;a<c.length;a+=2){var h=c[a],m=c[a+1];h==="style"?w_(s,m):h==="dangerouslySetInnerHTML"?v_(s,m):h==="children"?rl(s,m):yg(s,h,m,d)}switch(l){case"input":kp(s,o);break;case"textarea":g_(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Yo(s,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?Yo(s,!!o.multiple,o.defaultValue,!0):Yo(s,!!o.multiple,o.multiple?[]:"",!1))}s[hl]=o}catch(x){Le(t,t.return,x)}}break;case 6:if(gn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){Le(t,t.return,x)}}break;case 3:if(gn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(x){Le(t,t.return,x)}break;case 4:gn(e,t),Vn(t);break;case 13:gn(e,t),Vn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Qg=Fe())),r&4&&H0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||h,gn(e,t),vt=d):gn(e,t),Vn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(m=X=h;X!==null;){switch(f=X,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ua(4,f,f.return);break;case 1:Go(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Le(r,n,x)}}break;case 5:Go(f,f.return);break;case 22:if(f.memoizedState!==null){W0(m);continue}}y!==null?(y.return=f,X=y):W0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=x_("display",a))}catch(x){Le(t,t.return,x)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Le(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gn(e,t),Vn(t),r&4&&H0(t);break;case 21:break;default:gn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rl(s,""),r.flags&=-33);var o=B0(t);lm(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=B0(t);am(t,l,a);break;default:throw Error(H(161))}}catch(c){Le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tA(t,e,n){X=t,qE(t)}function qE(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Vc;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=Vc;var d=vt;if(Vc=a,(vt=c)&&!d)for(X=s;X!==null;)a=X,c=a.child,a.tag===22&&a.memoizedState!==null?K0(s):c!==null?(c.return=a,X=c):K0(s);for(;o!==null;)X=o,qE(o),o=o.sibling;X=s,Vc=l,vt=d}G0(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):G0(t)}}function G0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&T0(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T0(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&al(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}vt||e.flags&512&&im(e)}catch(f){Le(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function W0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function K0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(c){Le(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Le(e,s,c)}}var o=e.return;try{im(e)}catch(c){Le(e,o,c)}break;case 5:var a=e.return;try{im(e)}catch(c){Le(e,a,c)}}}catch(c){Le(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var nA=Math.ceil,td=Ar.ReactCurrentDispatcher,qg=Ar.ReactCurrentOwner,an=Ar.ReactCurrentBatchConfig,ve=0,tt=null,ze=null,ct=0,zt=0,Wo=Cs(0),qe=0,vl=null,ro=0,Jd=0,Yg=0,Ba=null,Mt=null,Qg=0,pi=1/0,ur=null,nd=!1,cm=null,cs=null,$c=!1,ts=null,rd=0,Ha=0,um=null,wu=-1,bu=0;function Ct(){return ve&6?Fe():wu!==-1?wu:wu=Fe()}function us(t){return t.mode&1?ve&2&&ct!==0?ct&-ct:VP.transition!==null?(bu===0&&(bu=A_()),bu):(t=_e,t!==0||(t=window.event,t=t===void 0?16:V_(t.type)),t):1}function kn(t,e,n,r){if(50<Ha)throw Ha=0,um=null,Error(H(185));$l(t,n,r),(!(ve&2)||t!==tt)&&(t===tt&&(!(ve&2)&&(Jd|=n),qe===4&&Yr(t,ct)),Ft(t,r),n===1&&ve===0&&!(e.mode&1)&&(pi=Fe()+500,qd&&Ns()))}function Ft(t,e){var n=t.callbackNode;VI(t,e);var r=$u(t,t===tt?ct:0);if(r===0)n!==null&&n0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n0(n),e===1)t.tag===0?FP(q0.bind(null,t)):sE(q0.bind(null,t)),MP(function(){!(ve&6)&&Ns()}),n=null;else{switch(R_(r)){case 1:n=_g;break;case 4:n=I_;break;case 16:n=Vu;break;case 536870912:n=P_;break;default:n=Vu}n=nS(n,YE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YE(t,e){if(wu=-1,bu=0,ve&6)throw Error(H(327));var n=t.callbackNode;if(ei()&&t.callbackNode!==n)return null;var r=$u(t,t===tt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var s=ve;ve|=2;var o=XE();(tt!==t||ct!==e)&&(ur=null,pi=Fe()+500,Ws(t,e));do try{oA();break}catch(l){QE(t,l)}while(!0);Dg(),td.current=o,ve=s,ze!==null?e=0:(tt=null,ct=0,e=qe)}if(e!==0){if(e===2&&(s=Lp(t),s!==0&&(r=s,e=dm(t,s))),e===1)throw n=vl,Ws(t,0),Yr(t,r),Ft(t,Fe()),n;if(e===6)Yr(t,r);else{if(s=t.current.alternate,!(r&30)&&!rA(s)&&(e=sd(t,r),e===2&&(o=Lp(t),o!==0&&(r=o,e=dm(t,o))),e===1))throw n=vl,Ws(t,0),Yr(t,r),Ft(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Vs(t,Mt,ur);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Qg+500-Fe(),10<e)){if($u(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gp(Vs.bind(null,t,Mt,ur),e);break}Vs(t,Mt,ur);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Nn(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nA(r/1960))-r,10<r){t.timeoutHandle=Gp(Vs.bind(null,t,Mt,ur),r);break}Vs(t,Mt,ur);break;case 5:Vs(t,Mt,ur);break;default:throw Error(H(329))}}}return Ft(t,Fe()),t.callbackNode===n?YE.bind(null,t):null}function dm(t,e){var n=Ba;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=sd(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&hm(e)),t}function hm(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function rA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!In(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Yg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function q0(t){if(ve&6)throw Error(H(327));ei();var e=$u(t,0);if(!(e&1))return Ft(t,Fe()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=Lp(t);r!==0&&(e=r,n=dm(t,r))}if(n===1)throw n=vl,Ws(t,0),Yr(t,e),Ft(t,Fe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,Mt,ur),Ft(t,Fe()),null}function Xg(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(pi=Fe()+500,qd&&Ns())}}function so(t){ts!==null&&ts.tag===0&&!(ve&6)&&ei();var e=ve;ve|=1;var n=an.transition,r=_e;try{if(an.transition=null,_e=1,t)return t()}finally{_e=r,an.transition=n,ve=e,!(ve&6)&&Ns()}}function Jg(){zt=Wo.current,je(Wo)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RP(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gu();break;case 3:hi(),je(Ot),je(xt),zg();break;case 5:$g(r);break;case 4:hi();break;case 13:je(Ae);break;case 19:je(Ae);break;case 10:Og(r.type._context);break;case 22:case 23:Jg()}n=n.return}if(tt=t,ze=t=ds(t.current,null),ct=zt=e,qe=0,vl=null,Yg=Jd=ro=0,Mt=Ba=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Bs=null}return t}function QE(t,e){do{var n=ze;try{if(Dg(),yu.current=ed,Zu){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zu=!1}if(no=0,Je=We=Re=null,za=!1,ml=0,qg.current=null,n===null||n.return===null){qe=1,vl=e,ze=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=D0(a);if(y!==null){y.flags&=-257,O0(y,a,l,o,e),y.mode&1&&M0(o,d,e),e=y,c=d;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){M0(o,d,e),Zg();break e}c=Error(H(426))}}else if(Te&&l.mode&1){var N=D0(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),O0(N,a,l,o,e),Rg(fi(c,l));break e}}o=c=fi(c,l),qe!==4&&(qe=2),Ba===null?Ba=[o]:Ba.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=RE(o,c,e);j0(o,b);break e;case 1:l=c;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(cs===null||!cs.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=ME(o,l,e);j0(o,P);break e}}o=o.return}while(o!==null)}ZE(n)}catch(j){e=j,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function XE(){var t=td.current;return td.current=ed,t===null?ed:t}function Zg(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||!(ro&268435455)&&!(Jd&268435455)||Yr(tt,ct)}function sd(t,e){var n=ve;ve|=2;var r=XE();(tt!==t||ct!==e)&&(ur=null,Ws(t,e));do try{sA();break}catch(s){QE(t,s)}while(!0);if(Dg(),ve=n,td.current=r,ze!==null)throw Error(H(261));return tt=null,ct=0,qe}function sA(){for(;ze!==null;)JE(ze)}function oA(){for(;ze!==null&&!II();)JE(ze)}function JE(t){var e=tS(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?ZE(t):ze=e,qg.current=null}function ZE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JP(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,ze=null;return}}else if(n=XP(n,e,zt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);qe===0&&(qe=5)}function Vs(t,e,n){var r=_e,s=an.transition;try{an.transition=null,_e=1,iA(t,e,n,r)}finally{an.transition=s,_e=r}return null}function iA(t,e,n,r){do ei();while(ts!==null);if(ve&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($I(t,o),t===tt&&(ze=tt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$c||($c=!0,nS(Vu,function(){return ei(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var a=_e;_e=1;var l=ve;ve|=4,qg.current=null,eA(t,n),KE(n,t),NP(Bp),zu=!!Up,Bp=Up=null,t.current=n,tA(n),PI(),ve=l,_e=a,an.transition=o}else t.current=n;if($c&&($c=!1,ts=t,rd=s),o=t.pendingLanes,o===0&&(cs=null),MI(n.stateNode),Ft(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nd)throw nd=!1,t=cm,cm=null,t;return rd&1&&t.tag!==0&&ei(),o=t.pendingLanes,o&1?t===um?Ha++:(Ha=0,um=t):Ha=0,Ns(),null}function ei(){if(ts!==null){var t=R_(rd),e=an.transition,n=_e;try{if(an.transition=null,_e=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,rd=0,ve&6)throw Error(H(331));var s=ve;for(ve|=4,X=t.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Ua(8,h,o)}var m=h.child;if(m!==null)m.return=h,X=m;else for(;X!==null;){h=X;var f=h.sibling,y=h.return;if(HE(h),h===d){X=null;break}if(f!==null){f.return=y,X=f;break}X=y}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ua(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,X=b;break e}X=o.return}}var w=t.current;for(X=w;X!==null;){a=X;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,X=S;else e:for(a=w;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xd(9,l)}}catch(j){Le(l,l.return,j)}if(l===a){X=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,X=P;break e}X=l.return}}if(ve=s,Ns(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Bd,t)}catch{}r=!0}return r}finally{_e=n,an.transition=e}}return!1}function Y0(t,e,n){e=fi(n,e),e=RE(t,e,1),t=ls(t,e,1),e=Ct(),t!==null&&($l(t,1,e),Ft(t,e))}function Le(t,e,n){if(t.tag===3)Y0(t,t,n);else for(;e!==null;){if(e.tag===3){Y0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=fi(n,t),t=ME(e,t,1),e=ls(e,t,1),t=Ct(),e!==null&&($l(e,1,t),Ft(e,t));break}}e=e.return}}function aA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(ct&n)===n&&(qe===4||qe===3&&(ct&130023424)===ct&&500>Fe()-Qg?Ws(t,0):Yg|=n),Ft(t,e)}function eS(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=Ct();t=Sr(t,e),t!==null&&($l(t,e,n),Ft(t,n))}function lA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eS(t,n)}function cA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),eS(t,n)}var tS;tS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,QP(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Te&&e.flags&1048576&&oE(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xu(t,e),t=e.pendingProps;var s=ci(e,xt.current);Zo(e,n),s=Bg(null,e,r,t,s,n);var o=Hg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(o=!0,Wu(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fg(e),s.updater=Qd,e.stateNode=s,s._reactInternals=e,Jp(e,r,t,n),e=tm(null,e,r,!0,o,n)):(e.tag=0,Te&&o&&Pg(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=dA(r),t=vn(r,t),s){case 0:e=em(null,e,r,t,n);break e;case 1:e=V0(null,e,r,t,n);break e;case 11:e=L0(null,e,r,t,n);break e;case 14:e=F0(null,e,r,vn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),em(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),V0(t,e,r,s,n);case 3:e:{if(FE(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,s=o.element,dE(t,e),Xu(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=fi(Error(H(423)),e),e=$0(t,e,r,n,s);break e}else if(r!==s){s=fi(Error(H(424)),e),e=$0(t,e,r,n,s);break e}else for(Gt=as(e.stateNode.containerInfo.firstChild),Wt=e,Te=!0,wn=null,n=cE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===s){e=Cr(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return hE(e),t===null&&Yp(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Hp(r,s)?a=null:o!==null&&Hp(r,o)&&(e.flags|=32),LE(t,e),Et(t,e,a,n),e.child;case 6:return t===null&&Yp(e),null;case 13:return VE(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=di(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),L0(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Ce(Yu,r._currentValue),r._currentValue=a,o!==null)if(In(o.value,a)){if(o.children===s.children&&!Ot.current){e=Cr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=xr(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Qp(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Qp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zo(e,n),s=un(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=vn(r,e.pendingProps),s=vn(r.type,s),F0(t,e,r,s,n);case 15:return DE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),xu(t,e),e.tag=1,Lt(r)?(t=!0,Wu(e)):t=!1,Zo(e,n),AE(e,r,s),Jp(e,r,s,n),tm(null,e,r,!0,t,n);case 19:return $E(t,e,n);case 22:return OE(t,e,n)}throw Error(H(156,e.tag))};function nS(t,e){return T_(t,e)}function uA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new uA(t,e,n,r)}function ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dA(t){if(typeof t=="function")return ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xg)return 11;if(t===wg)return 14}return 2}function ds(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _u(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")ey(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oo:return Ks(n.children,s,o,e);case vg:a=8,s|=8;break;case _p:return t=on(12,n,e,s|2),t.elementType=_p,t.lanes=o,t;case Ep:return t=on(13,n,e,s),t.elementType=Ep,t.lanes=o,t;case Sp:return t=on(19,n,e,s),t.elementType=Sp,t.lanes=o,t;case h_:return Zd(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u_:a=10;break e;case d_:a=9;break e;case xg:a=11;break e;case wg:a=14;break e;case Wr:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=on(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Ks(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=on(22,t,r,e),t.elementType=h_,t.lanes=n,t.stateNode={isHidden:!1},t}function Df(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Of(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ty(t,e,n,r,s,o,a,l,c){return t=new hA(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(o),t}function fA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rS(t){if(!t)return vs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Lt(n))return rE(t,n,e)}return e}function sS(t,e,n,r,s,o,a,l,c){return t=ty(n,r,!0,t,s,o,a,l,c),t.context=rS(null),n=t.current,r=Ct(),s=us(n),o=xr(r,s),o.callback=e??null,ls(n,o,s),t.current.lanes=s,$l(t,s,r),Ft(t,r),t}function eh(t,e,n,r){var s=e.current,o=Ct(),a=us(s);return n=rS(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ls(s,e,a),t!==null&&(kn(t,s,a,o),gu(t,s,a)),a}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ny(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function pA(){return null}var oS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ry(t){this._internalRoot=t}th.prototype.render=ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));eh(t,e,null,null)};th.prototype.unmount=ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){eh(null,t,null,null)}),e[Er]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=O_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&F_(t)}};function sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X0(){}function mA(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var d=od(a);o.call(d)}}var a=sS(e,r,t,0,null,!1,!1,"",X0);return t._reactRootContainer=a,t[Er]=a.current,ul(t.nodeType===8?t.parentNode:t),so(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=od(c);l.call(d)}}var c=ty(t,0,!1,null,null,!1,!1,"",X0);return t._reactRootContainer=c,t[Er]=c.current,ul(t.nodeType===8?t.parentNode:t),so(function(){eh(e,c,n,r)}),c}function rh(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=od(a);l.call(c)}}eh(e,a,t,s)}else a=mA(n,e,t,s,r);return od(a)}M_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(Eg(e,n|1),Ft(e,Fe()),!(ve&6)&&(pi=Fe()+500,Ns()))}break;case 13:so(function(){var r=Sr(t,1);if(r!==null){var s=Ct();kn(r,t,1,s)}}),ny(t,1)}};Sg=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ct();kn(e,t,134217728,n)}ny(t,134217728)}};D_=function(t){if(t.tag===13){var e=us(t),n=Sr(t,e);if(n!==null){var r=Ct();kn(n,t,e,r)}ny(t,e)}};O_=function(){return _e};L_=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Mp=function(t,e,n){switch(e){case"input":if(kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kd(r);if(!s)throw Error(H(90));p_(r),kp(r,s)}}}break;case"textarea":g_(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};E_=Xg;S_=so;var gA={usingClientEntryPoint:!1,Events:[Ul,$o,Kd,b_,__,Xg]},xa={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yA={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k_(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Bd=zc.inject(yA),qn=zc}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(e))throw Error(H(200));return fA(t,e,null,n)};Xt.createRoot=function(t,e){if(!sy(t))throw Error(H(299));var n=!1,r="",s=oS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ty(t,1,!1,null,null,n,!1,r,s),t[Er]=e.current,ul(t.nodeType===8?t.parentNode:t),new ry(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=k_(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return so(t)};Xt.hydrate=function(t,e,n){if(!nh(e))throw Error(H(200));return rh(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!sy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=oS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=sS(e,null,t,1,n??null,s,!1,o,a),t[Er]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new th(e)};Xt.render=function(t,e,n){if(!nh(e))throw Error(H(200));return rh(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!nh(t))throw Error(H(40));return t._reactRootContainer?(so(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};Xt.unstable_batchedUpdates=Xg;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return rh(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),i_.exports=Xt;var sh=i_.exports;const vA=K1(sh);var aS,J0=sh;aS=J0.createRoot,J0.hydrateRoot;const xA="modulepreload",wA=function(t){return"/"+t},Z0={},hn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.all(n.map(l=>{if(l=wA(l),l in Z0)return;Z0[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":xA,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var ew="popstate";function bA(t={}){function e(r,s){let{pathname:o,search:a,hash:l}=r.location;return fm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xl(s)}return EA(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function tw(t,e){return{usr:t.state,key:t.key,idx:e}}function fm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Di(e):e,state:n,key:e&&e.key||r||_A()}}function xl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function EA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l="POP",c=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function m(){l="POP";let N=h(),b=N==null?null:N-d;d=N,c&&c({action:l,location:x.location,delta:b})}function f(N,b){l="PUSH";let w=fm(x.location,N,b);d=h()+1;let S=tw(w,d),P=x.createHref(w);try{a.pushState(S,"",P)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(P)}o&&c&&c({action:l,location:x.location,delta:1})}function y(N,b){l="REPLACE";let w=fm(x.location,N,b);d=h();let S=tw(w,d),P=x.createHref(w);a.replaceState(S,"",P),o&&c&&c({action:l,location:x.location,delta:0})}function v(N){return SA(N)}let x={get action(){return l},get location(){return t(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,m),c=N,()=>{s.removeEventListener(ew,m),c=null}},createHref(N){return e(s,N)},createURL:v,encodeLocation(N){let b=v(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:y,go(N){return a.go(N)}};return x}function SA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lS(t,e,n="/"){return CA(t,e,n,!1)}function CA(t,e,n,r){let s=typeof e=="string"?Di(e):e,o=Nr(s.pathname||"/",n);if(o==null)return null;let a=cS(t);NA(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=LA(o);l=DA(a[c],d,r)}return l}function cS(t,e=[],n=[],r="",s=!1){let o=(a,l,c=s,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Ie(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=wr([r,h.relativePath]),f=n.concat(h);a.children&&a.children.length>0&&(Ie(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),cS(a.children,e,f,m,c)),!(a.path==null&&!a.index)&&e.push({path:m,score:RA(m,a.index),routesMeta:f})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))o(a,l);else for(let c of uS(a.path))o(a,l,!0,c)}),e}function uS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=uS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function NA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kA=/^:[\w-]+$/,jA=3,TA=2,IA=1,PA=10,AA=-2,nw=t=>t==="*";function RA(t,e){let n=t.split("/"),r=n.length;return n.some(nw)&&(r+=AA),e&&(r+=TA),n.filter(s=>!nw(s)).reduce((s,o)=>s+(kA.test(o)?jA:o===""?IA:PA),r)}function MA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DA(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",m=id({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=id({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:wr([o,m.pathname]),pathnameBase:zA(wr([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=wr([o,m.pathnameBase]))}return a}function id(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},f)=>{if(h==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function OA(t,e=!1,n=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:UA(r),hash:BA(s)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oy(t){let e=$A(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function iy(t,e,n,r=!1){let s;typeof t=="string"?s=Di(t):(s={...t},Ie(!s.pathname||!s.pathname.includes("?"),Lf("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),Lf("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),Lf("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=FA(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var wr=t=>t.join("/").replace(/\/\/+/g,"/"),zA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var GA=["GET",...dS];new Set(GA);var Oi=p.createContext(null);Oi.displayName="DataRouter";var oh=p.createContext(null);oh.displayName="DataRouterState";p.createContext(!1);var hS=p.createContext({isTransitioning:!1});hS.displayName="ViewTransition";var WA=p.createContext(new Map);WA.displayName="Fetchers";var KA=p.createContext(null);KA.displayName="Await";var Dn=p.createContext(null);Dn.displayName="Navigation";var Hl=p.createContext(null);Hl.displayName="Location";var nr=p.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var ay=p.createContext(null);ay.displayName="RouteError";function qA(t,{relative:e}={}){Ie(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Dn),{hash:s,pathname:o,search:a}=Gl(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:wr([n,o])),r.createHref({pathname:l,search:a,hash:s})}function Li(){return p.useContext(Hl)!=null}function ks(){return Ie(Li(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Hl).location}var fS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(t){p.useContext(Dn).static||p.useLayoutEffect(t)}function mS(){let{isDataRoute:t}=p.useContext(nr);return t?aR():YA()}function YA(){Ie(Li(),"useNavigate() may be used only in the context of a <Router> component.");let t=p.useContext(Oi),{basename:e,navigator:n}=p.useContext(Dn),{matches:r}=p.useContext(nr),{pathname:s}=ks(),o=JSON.stringify(oy(r)),a=p.useRef(!1);return pS(()=>{a.current=!0}),p.useCallback((c,d={})=>{if(Pn(a.current,fS),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=iy(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,s,t])}p.createContext(null);function Gl(t,{relative:e}={}){let{matches:n}=p.useContext(nr),{pathname:r}=ks(),s=JSON.stringify(oy(n));return p.useMemo(()=>iy(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function QA(t,e){return gS(t,e)}function gS(t,e,n,r,s){Ie(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Dn),{matches:a}=p.useContext(nr),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";yS(d,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=ks(),y;if(e){let w=typeof e=="string"?Di(e):e;Ie(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=f;let v=y.pathname||"/",x=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=lS(t,{pathname:x});Pn(m||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Pn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=tR(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:wr([h,o.encodeLocation?o.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:wr([h,o.encodeLocation?o.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,s);return e&&b?p.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function XA(){let t=iR(),e=HA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,a)}var JA=p.createElement(XA,null),ZA=class extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?p.createElement(nr.Provider,{value:this.props.routeContext},p.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eR({routeContext:t,match:e,children:n}){let r=p.useContext(Oi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),p.createElement(nr.Provider,{value:t},n)}function tR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n?.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);Ie(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:f}=n,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let f,y=!1,v=null,x=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||JA,l&&(c<0&&m===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===m&&(y=!0,x=h.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,m+1)),b=()=>{let w;return f?w=v:y?w=x:h.route.Component?w=p.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,p.createElement(eR,{match:h,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:b(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):b()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(t){let e=p.useContext(Oi);return Ie(e,ly(t)),e}function rR(t){let e=p.useContext(oh);return Ie(e,ly(t)),e}function sR(t){let e=p.useContext(nr);return Ie(e,ly(t)),e}function cy(t){let e=sR(t),n=e.matches[e.matches.length-1];return Ie(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oR(){return cy("useRouteId")}function iR(){let t=p.useContext(ay),e=rR("useRouteError"),n=cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function aR(){let{router:t}=nR("useNavigate"),e=cy("useNavigate"),n=p.useRef(!1);return pS(()=>{n.current=!0}),p.useCallback(async(s,o={})=>{Pn(n.current,fS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var rw={};function yS(t,e,n){!e&&!rw[t]&&(rw[t]=!0,Pn(!1,n))}p.memo(lR);function lR({routes:t,future:e,state:n,unstable_onError:r}){return gS(t,void 0,n,r,e)}function cR({to:t,replace:e,state:n,relative:r}){Ie(Li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Dn);Pn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=p.useContext(nr),{pathname:a}=ks(),l=mS(),c=iy(t,oy(o),a,r==="path"),d=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function pm(t){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Ie(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);typeof n=="string"&&(n=Di(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:f="default"}=n,y=p.useMemo(()=>{let v=Nr(c,a);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:f},navigationType:r}},[a,c,d,h,m,f,r]);return Pn(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:p.createElement(Dn.Provider,{value:l},p.createElement(Hl.Provider,{children:e,value:y}))}function dR({children:t,location:e}){return QA(mm(t),e)}function mm(t,e=[]){let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,mm(r.props.children,o));return}Ie(r.type===pm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mm(r.props.children,o)),n.push(a)}),n}var Eu="get",Su="application/x-www-form-urlencoded";function ih(t){return t!=null&&typeof t.tagName=="string"}function hR(t){return ih(t)&&t.tagName.toLowerCase()==="button"}function fR(t){return ih(t)&&t.tagName.toLowerCase()==="form"}function pR(t){return ih(t)&&t.tagName.toLowerCase()==="input"}function mR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gR(t,e){return t.button===0&&(!e||e==="_self")&&!mR(t)}var Uc=null;function yR(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var vR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(t){return t!=null&&!vR.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):t}function xR(t,e){let n,r,s,o,a;if(fR(t)){let l=t.getAttribute("action");r=l?Nr(l,e):null,n=t.getAttribute("method")||Eu,s=Ff(t.getAttribute("enctype"))||Su,o=new FormData(t)}else if(hR(t)||pR(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Nr(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Eu,s=Ff(t.getAttribute("formenctype"))||Ff(l.getAttribute("enctype"))||Su,o=new FormData(l,t),!yR()){let{name:d,type:h,value:m}=t;if(h==="image"){let f=d?`${d}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else d&&o.append(d,m)}}else{if(ih(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eu,r=null,s=Su,a=t}return o&&s==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Nr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function bR(t,e){if(t.id in e)return e[t.id];try{let n=await hn(()=>import(t.module),__vite__mapDeps([]));return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ER(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let a=await bR(o,n);return a.links?a.links():[]}return[]}));return kR(r.flat(1).filter(_R).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sw(t,e,n,r,s,o){let a=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return o==="assets"?e.filter((c,d)=>a(c,d)||l(c,d)):o==="data"?e.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function SR(t,e,{includeHydrateFallback:n}={}){return CR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function CR(t){return[...new Set(t)]}function NR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(NR(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function vS(){let t=p.useContext(Oi);return uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jR(){let t=p.useContext(oh);return uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dy=p.createContext(void 0);dy.displayName="FrameworkContext";function xS(){let t=p.useContext(dy);return uy(t,"You must render this element inside a <HydratedRouter> element"),t}function TR(t,e){let n=p.useContext(dy),[r,s]=p.useState(!1),[o,a]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,f=p.useRef(null);p.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=b=>{b.forEach(w=>{a(w.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return f.current&&N.observe(f.current),()=>{N.disconnect()}}},[t]),p.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{s(!0)},v=()=>{s(!1),a(!1)};return n?t!=="intent"?[o,f,{}]:[o,f,{onFocus:wa(l,y),onBlur:wa(c,v),onMouseEnter:wa(d,y),onMouseLeave:wa(h,v),onTouchStart:wa(m,y)}]:[!1,f,{}]}function wa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IR({page:t,...e}){let{router:n}=vS(),r=p.useMemo(()=>lS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?p.createElement(AR,{page:t,matches:r,...e}):null}function PR(t){let{manifest:e,routeModules:n}=xS(),[r,s]=p.useState([]);return p.useEffect(()=>{let o=!1;return ER(t,e,n).then(a=>{o||s(a)}),()=>{o=!0}},[t,e,n]),r}function AR({page:t,matches:e,...n}){let r=ks(),{manifest:s,routeModules:o}=xS(),{basename:a}=vS(),{loaderData:l,matches:c}=jR(),d=p.useMemo(()=>sw(t,e,c,s,r,"data"),[t,e,c,s,r]),h=p.useMemo(()=>sw(t,e,c,s,r,"assets"),[t,e,c,s,r]),m=p.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(e.forEach(b=>{let w=s.routes[b.route.id];!w||!w.hasLoader||(!d.some(S=>S.route.id===b.route.id)&&b.route.id in l&&o[b.route.id]?.shouldRevalidate||w.hasClientLoader?x=!0:v.add(b.route.id))}),v.size===0)return[];let N=wR(t,a,"data");return x&&v.size>0&&N.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[a,l,r,s,d,e,t,o]),f=p.useMemo(()=>SR(h,s),[h,s]),y=PR(h);return p.createElement(p.Fragment,null,m.map(v=>p.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>p.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:x})=>p.createElement("link",{key:v,nonce:n.nonce,...x})))}function RR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.9.4")}catch{}function MR({basename:t,children:e,window:n}){let r=p.useRef();r.current==null&&(r.current=bA({window:n,v5Compat:!0}));let s=r.current,[o,a]=p.useState({action:s.action,location:s.location}),l=p.useCallback(c=>{p.startTransition(()=>a(c))},[a]);return p.useLayoutEffect(()=>s.listen(l),[s,l]),p.createElement(uR,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_S=p.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...f},y){let{basename:v}=p.useContext(Dn),x=typeof d=="string"&&bS.test(d),N,b=!1;if(typeof d=="string"&&x&&(N=d,wS))try{let k=new URL(window.location.href),I=d.startsWith("//")?new URL(k.protocol+d):new URL(d),M=Nr(I.pathname,v);I.origin===k.origin&&M!=null?d=M+I.search+I.hash:b=!0}catch{Pn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=qA(d,{relative:s}),[S,P,j]=TR(r,f),D=FR(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function C(k){e&&e(k),k.defaultPrevented||D(k)}let E=p.createElement("a",{...f,...j,href:N||w,onClick:b||o?e:C,ref:RR(y,P),target:c,"data-discover":!x&&n==="render"?"true":void 0});return S&&!x?p.createElement(p.Fragment,null,E,p.createElement(IR,{page:w})):E});_S.displayName="Link";var DR=p.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:a,viewTransition:l,children:c,...d},h){let m=Gl(a,{relative:d.relative}),f=ks(),y=p.useContext(oh),{navigator:v,basename:x}=p.useContext(Dn),N=y!=null&&BR(m)&&l===!0,b=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=f.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&x&&(S=Nr(S,x)||S);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",D=S!=null&&(S===b||!s&&S.startsWith(b)&&S.charAt(b.length)==="/"),C={isActive:j,isPending:D,isTransitioning:N},E=j?e:void 0,k;typeof r=="function"?k=r(C):k=[r,j?"active":null,D?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(C):o;return p.createElement(_S,{...d,"aria-current":E,className:k,ref:h,style:I,to:a,viewTransition:l},typeof c=="function"?c(C):c)});DR.displayName="NavLink";var OR=p.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:a=Eu,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...f},y)=>{let v=zR(),x=UR(l,{relative:d}),N=a.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&bS.test(l),w=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let P=S.nativeEvent.submitter,j=P?.getAttribute("formmethod")||a;v(P||S.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:o,relative:d,preventScrollReset:h,viewTransition:m})};return p.createElement("form",{ref:y,method:N,action:x,onSubmit:r?c:w,...f,"data-discover":!b&&t==="render"?"true":void 0})});OR.displayName="Form";function LR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ES(t){let e=p.useContext(Oi);return Ie(e,LR(t)),e}function FR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}={}){let l=mS(),c=ks(),d=Gl(t,{relative:o});return p.useCallback(h=>{if(gR(h,e)){h.preventDefault();let m=n!==void 0?n:xl(c)===xl(d);l(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,n,r,e,t,s,o,a])}var VR=0,$R=()=>`__${String(++VR)}__`;function zR(){let{router:t}=ES("useSubmit"),{basename:e}=p.useContext(Dn),n=oR();return p.useCallback(async(r,s={})=>{let{action:o,method:a,encType:l,formData:c,body:d}=xR(r,e);if(s.navigate===!1){let h=s.fetcherKey||$R();await t.fetch(h,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function UR(t,{relative:e}={}){let{basename:n}=p.useContext(Dn),r=p.useContext(nr);Ie(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Gl(t||".",{relative:e})},a=ks();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:wr([n,o.pathname])),xl(o)}function BR(t,{relative:e}={}){let n=p.useContext(hS);Ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ES("useViewTransitionState"),s=Gl(t,{relative:e});if(!n.isTransitioning)return!1;let o=Nr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Nr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return id(s.pathname,a)!=null||id(s.pathname,o)!=null}const HR=()=>{};var ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},CS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=o>>2,m=(o&3)<<4|l>>4;let f=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(f=64)),r.push(n[h],n[m],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||d==null||m==null)throw new WR;const f=o<<2|l>>4;if(r.push(f),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const v=d<<6&192|m;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(t){const e=SS(t);return CS.encodeByteArray(e,!0)},ad=function(t){return KR(t).replace(/\./g,"")},NS=function(t){try{return CS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>qR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof ow>"u")return;const t=ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return HR()||YR()||QR()||XR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>ah()?.emulatorHosts?.[t],JR=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jS=()=>ah()?.config,TS=t=>ah()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ad(JSON.stringify(n)),ad(JSON.stringify(a)),""].join(".")}const Ga={};function t4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ga))Ga[e]?t.emulator.push(e):t.prod.push(e);return t}function n4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iw=!1;function PS(t,e){if(typeof window>"u"||typeof document>"u"||!Fi(window.location.host)||Ga[t]===e||Ga[t]||iw)return;Ga[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=t4().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{iw=!0,a()},f}function h(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=n4(r),y=n("text"),v=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),N=document.getElementById(x)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;l(S),h(N,x);const P=d();c(w,b),S.append(w,v,N,P),document.body.appendChild(S)}o?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function s4(){const t=ah()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l4(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c4(){return!s4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function d4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h4,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?f4(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Rr(s,l,r)}}function f4(t,e){return t.replace(p4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p4=/\{\$([^}]+)}/g;function m4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(aw(o)&&aw(a)){if(!oo(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g4(t,e){const n=new y4(t,e);return n.subscribe.bind(n)}class y4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vf),s.error===void 0&&(s.error=Vf),s.complete===void 0&&(s.complete=Vf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b4(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function w4(t){return t===$s?void 0:t}function b4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const E4={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},S4=fe.INFO,C4={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},N4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=C4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=S4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const k4=(t,e)=>e.some(n=>t instanceof n);let lw,cw;function j4(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,gm=new WeakMap,RS=new WeakMap,$f=new WeakMap,fy=new WeakMap;function I4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(hs(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AS.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function P4(t){if(gm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});gm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A4(t){ym=t(ym)}function R4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zf(this),e,...n);return RS.set(r,e.sort?e.sort():[e]),hs(r)}:T4().includes(t)?function(...e){return t.apply(zf(this),e),hs(AS.get(this))}:function(...e){return hs(t.apply(zf(this),e))}}function M4(t){return typeof t=="function"?R4(t):(t instanceof IDBTransaction&&P4(t),k4(t,j4())?new Proxy(t,ym):t)}function hs(t){if(t instanceof IDBRequest)return I4(t);if($f.has(t))return $f.get(t);const e=M4(t);return e!==t&&($f.set(t,e),fy.set(e,t)),e}const zf=t=>fy.get(t);function D4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=hs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(hs(a.result),c.oldVersion,c.newVersion,hs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const O4=["get","getKey","getAll","getAllKeys","count"],L4=["put","add","delete","clear"],Uf=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=L4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||O4.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Uf.set(e,o),o}A4(t=>({...t,get:(e,n,r)=>uw(e,n)||t.get(e,n,r),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V4(t){return t.getComponent()?.type==="VERSION"}const vm="@firebase/app",dw="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new hy("@firebase/app"),$4="@firebase/app-compat",z4="@firebase/analytics-compat",U4="@firebase/analytics",B4="@firebase/app-check-compat",H4="@firebase/app-check",G4="@firebase/auth",W4="@firebase/auth-compat",K4="@firebase/database",q4="@firebase/data-connect",Y4="@firebase/database-compat",Q4="@firebase/functions",X4="@firebase/functions-compat",J4="@firebase/installations",Z4="@firebase/installations-compat",eM="@firebase/messaging",tM="@firebase/messaging-compat",nM="@firebase/performance",rM="@firebase/performance-compat",sM="@firebase/remote-config",oM="@firebase/remote-config-compat",iM="@firebase/storage",aM="@firebase/storage-compat",lM="@firebase/firestore",cM="@firebase/ai",uM="@firebase/firestore-compat",dM="firebase",hM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",fM={[vm]:"fire-core",[$4]:"fire-core-compat",[U4]:"fire-analytics",[z4]:"fire-analytics-compat",[H4]:"fire-app-check",[B4]:"fire-app-check-compat",[G4]:"fire-auth",[W4]:"fire-auth-compat",[K4]:"fire-rtdb",[q4]:"fire-data-connect",[Y4]:"fire-rtdb-compat",[Q4]:"fire-fn",[X4]:"fire-fn-compat",[J4]:"fire-iid",[Z4]:"fire-iid-compat",[eM]:"fire-fcm",[tM]:"fire-fcm-compat",[nM]:"fire-perf",[rM]:"fire-perf-compat",[sM]:"fire-rc",[oM]:"fire-rc-compat",[iM]:"fire-gcs",[aM]:"fire-gcs-compat",[lM]:"fire-fst",[uM]:"fire-fst-compat",[cM]:"fire-vertex","fire-js":"fire-js",[dM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,pM=new Map,xm=new Map;function hw(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(xm.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(const n of cd.values())hw(n,t);for(const n of pM.values())hw(n,t);return!0}function lh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mM(t,e,n=ld){lh(t,e).clearInstance(n)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Wl("app","Firebase",gM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=hM;function py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ld,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(n||(n=jS()),!n)throw fs.create("no-options");const o=cd.get(s);if(o){if(oo(n,o.options)&&oo(r,o.config))return o;throw fs.create("duplicate-app",{appName:s})}const a=new _4(s);for(const c of xm.values())a.addComponent(c);const l=new yM(n,r,a);return cd.set(s,l),l}function MS(t=ld){const e=cd.get(t);if(!e&&t===ld&&jS())return py();if(!e)throw fs.create("no-app",{appName:t});return e}function ps(t,e,n){let r=fM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(a.join(" "));return}mi(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="firebase-heartbeat-database",xM=1,wl="firebase-heartbeat-store";let Bf=null;function DS(){return Bf||(Bf=D4(vM,xM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),Bf}async function wM(t){try{const n=(await DS()).transaction(wl),r=await n.objectStore(wl).get(OS(t));return await n.done,r}catch(e){if(e instanceof Rr)kr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});kr.warn(n.message)}}}async function fw(t,e){try{const r=(await DS()).transaction(wl,"readwrite");await r.objectStore(wl).put(e,OS(t)),await r.done}catch(n){if(n instanceof Rr)kr.warn(n.message);else{const r=fs.create("idb-set",{originalErrorMessage:n?.message});kr.warn(r.message)}}}function OS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1024,_M=30;class EM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_M){const s=NM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pw(),{heartbeatsToSend:n,unsentEntries:r}=SM(this._heartbeatsCache.heartbeats),s=ad(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return kr.warn(e),""}}}function pw(){return new Date().toISOString().substring(0,10)}function SM(t,e=bM){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),mw(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?d4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mw(t){return ad(JSON.stringify({version:2,heartbeats:t})).length}function NM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){mi(new io("platform-logger",e=>new F4(e),"PRIVATE")),mi(new io("heartbeat",e=>new EM(e),"PRIVATE")),ps(vm,dw,t),ps(vm,dw,"esm2020"),ps("fire-js","")}kM("");function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jM=LS,FS=new Wl("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new hy("@firebase/auth");function TM(t,...e){ud.logLevel<=fe.WARN&&ud.warn(`Auth (${Vi}): ${t}`,...e)}function Cu(t,...e){ud.logLevel<=fe.ERROR&&ud.error(`Auth (${Vi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw my(t,...e)}function Qn(t,...e){return my(t,...e)}function VS(t,e,n){const r={...jM(),[e]:n};return new Wl("auth","Firebase",r).create(e,{appName:t.name})}function ms(t){return VS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FS.create(t,...e)}function re(t,e,...n){if(!t)throw my(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function jr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof self<"u"&&self.location?.href||""}function IM(){return gw()==="http:"||gw()==="https:"}function gw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||i4()||"connection"in navigator)?navigator.onLine:!0}function AM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=r4()||a4()}get(){return PM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DM=new ql(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function js(t,e,n,r,s={}){return zS(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Kl({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...o};return o4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Fi(t.emulatorConfig.host)&&(d.credentials="include"),$S.fetch()(await US(t,t.config.apiHost,n,l),d)})}async function zS(t,e,n){t._canInitEmulator=!1;const r={...RM,...e};try{const s=new LM(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Bc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Bc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Bc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw VS(t,h,d);An(t,h)}}catch(s){if(s instanceof Rr)throw s;An(t,"network-request-failed",{message:String(s)})}}async function ch(t,e,n,r,s={}){const o=await js(t,e,n,r,s);return"mfaPendingCredential"in o&&An(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function US(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?gy(t.config,s):`${t.config.apiScheme}://${s}`;return MM.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function OM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),DM.get())})}}function Bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qn(t,e,r);return s.customData._tokenResponse=n,s}function yw(t){return t!==void 0&&t.enterprise!==void 0}class FM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VM(t,e){return js(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zM(t,e=!1){const n=rr(t),r=await n.getIdToken(e),s=yy(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:r,authTime:Wa(Hf(s.auth_time)),issuedAtTime:Wa(Hf(s.iat)),expirationTime:Wa(Hf(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Hf(t){return Number(t)*1e3}function yy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=NS(n);return s?JSON.parse(s):(Cu("Failed to decode base64 JWT payload"),null)}catch(s){return Cu("Caught error parsing JWT payload as JSON",s?.toString()),null}}function vw(t){const e=yy(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&UM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){const e=t.auth,n=await t.getIdToken(),r=await bl(t,dd(e,{idToken:n}));re(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?BS(s.providerUserInfo):[],a=GM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function HM(t){const e=rr(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){const n=await zS(t,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await US(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Fi(t.emulatorConfig.host)&&(c.credentials="include"),$S.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KM(t,e){return js(t,"POST","/v2/accounts:revokeToken",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await WM(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new ti;return r&&(re(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(re(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new BM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zM(this,e)}reload(){return HM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await bl(this,$M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:y,providerData:v,stsTokenManager:x}=n;re(m&&x,e,"internal-error");const N=ti.fromJSON(this.name,x);re(typeof m=="string",e,"internal-error"),Br(r,e.name),Br(s,e.name),re(typeof f=="boolean",e,"internal-error"),re(typeof y=="boolean",e,"internal-error"),Br(o,e.name),Br(a,e.name),Br(l,e.name),Br(c,e.name),Br(d,e.name),Br(h,e.name);const b=new Sn({uid:m,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:N,createdAt:d,lastLoginAt:h});return v&&Array.isArray(v)&&(b.providerData=v.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new ti;s.updateFromServerResponse(n);const o=new Sn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?BS(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!o?.length,l=new ti;l.updateFromIdToken(r);const c=new Sn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new bm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function yr(t){jr(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HS.type="NONE";const ww=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return`firebase:${t}:${e}:${n}`}class ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Nu(this.userKey,s.apiKey,o),this.fullPersistenceKey=Nu("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?Sn._fromGetAccountInfoResponse(this.auth,n,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ni(yr(ww),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||yr(ww);const a=Nu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let m;if(typeof h=="string"){const f=await dd(e,{idToken:h}).catch(()=>{});if(!f)break;m=await Sn._fromGetAccountInfoResponse(e,f,h)}else m=Sn._fromJSON(e,h);d!==o&&(l=m),o=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new ni(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new ni(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QS(e))return"Blackberry";if(XS(e))return"Webos";if(WS(e))return"Safari";if((e.includes("chrome/")||KS(e))&&!e.includes("edge/"))return"Chrome";if(YS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GS(t=wt()){return/firefox\//i.test(t)}function WS(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KS(t=wt()){return/crios\//i.test(t)}function qS(t=wt()){return/iemobile/i.test(t)}function YS(t=wt()){return/android/i.test(t)}function QS(t=wt()){return/blackberry/i.test(t)}function XS(t=wt()){return/webos/i.test(t)}function vy(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qM(t=wt()){return vy(t)&&!!window.navigator?.standalone}function YM(){return l4()&&document.documentMode===10}function JS(t=wt()){return vy(t)||YS(t)||XS(t)||QS(t)||/windows phone/i.test(t)||qS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e=[]){let n;switch(t){case"Browser":n=bw(wt());break;case"Worker":n=`${bw(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e={}){return js(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class ZM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new QM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ni.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),r=await Sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(ms(this));const n=e?rr(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XM(this),n=new ZM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ni.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $i(t){return rr(t)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=g4(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tD(t){uh=t}function eC(t){return uh.loadJS(t)}function nD(){return uh.recaptchaEnterpriseScript}function rD(){return uh.gapiScript}function sD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oD{constructor(){this.enterprise=new iD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aD="recaptcha-enterprise",tC="NO_RECAPTCHA";class lD{constructor(e){this.type=aD,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{VM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new FM(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(o,a,l){const c=window.grecaptcha;yw(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(tC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oD().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&yw(window.grecaptcha))s(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nD();c.length!==0&&(c+=l),eC(c).then(()=>{s(l,o,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function Ew(t,e,n,r=!1,s=!1){const o=new lD(t);let a;if(s)a=tC;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Sw(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ew(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ew(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){const n=lh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(oo(o,e??{}))return s;An(s,"already-initialized")}return n.initialize({options:e})}function uD(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dD(t,e,n){const r=$i(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=nC(e),{host:a,port:l}=hD(e),c=l===null?"":`:${l}`,d={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(oo(d,r.config.emulator)&&oo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Fi(a)?(IS(`${o}//${a}${c}`),PS("Auth",!0)):fD()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hD(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Cw(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Cw(a)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function pD(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e){return ch(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function yD(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends xy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,n,"signInWithPassword",mD);case"emailLink":return gD(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,r,"signUpPassword",pD);case"emailLink":return yD(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(t,e){return ch(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class ao extends xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new ao(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ri(e,n)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wD(t){const e=Ia(Pa(t)).link,n=e?Ia(Pa(e)).deep_link_id:null,r=Ia(Pa(t)).deep_link_id;return(r?Ia(Pa(r)).link:null)||r||n||e||t}class wy{constructor(e){const n=Ia(Pa(e)),r=n.apiKey??null,s=n.oobCode??null,o=xD(n.mode??null);re(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wD(e);try{return new wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.providerId=zi.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wy.parseLink(n);return re(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}zi.PROVIDER_ID="password";zi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends rC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Yl{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Yl{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Yl{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Sn._fromIdTokenResponse(e,r,s),a=Nw(r);return new gi({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Nw(r);return new gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Rr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fd(e,n,r,s)}}function sC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,o,e,r):o})}async function bD(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e,n=!1){const{auth:r}=t;if(_n(r.app))return Promise.reject(ms(r));const s="reauthenticate";try{const o=await bl(t,sC(r,s,e,t),n);re(o.idToken,r,"internal-error");const a=yy(o.idToken);re(a,r,"internal-error");const{sub:l}=a;return re(t.uid===l,r,"user-mismatch"),gi._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&An(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e,n=!1){if(_n(t.app))return Promise.reject(ms(t));const r="signIn",s=await sC(t,r,e),o=await gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function ED(t,e){return oC($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CD(t,e,n){return _n(t.app)?Promise.reject(ms(t)):ED(rr(t),zi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){return rr(t).setPersistence(e)}function kD(t,e,n,r){return rr(t).onIdTokenChanged(e,n,r)}function jD(t,e,n){return rr(t).beforeAuthStateChanged(e,n)}function TD(t,e,n,r){return rr(t).onAuthStateChanged(e,n,r)}function ID(t){return rr(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,AD=10;class aC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);YM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aC.type="LOCAL";const lC=aC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cC.type="SESSION";const by=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,o)),c=await RD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const d=_y("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const f=m;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function DD(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function OD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){return navigator?.serviceWorker?.controller||null}function FD(){return uC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebaseLocalStorageDb",VD=1,md="firebaseLocalStorage",hC="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function $D(){const t=indexedDB.deleteDatabase(dC);return new Ql(t).toPromise()}function _m(){const t=indexedDB.open(dC,VD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(md,{keyPath:hC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await $D(),e(await _m()))})})}async function kw(t,e,n){const r=hh(t,!0).put({[hC]:e,value:n});return new Ql(r).toPromise()}async function zD(t,e){const n=hh(t,!1).get(e),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function jw(t,e){const n=hh(t,!0).delete(e);return new Ql(n).toPromise()}const UD=800,BD=3;class fC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OD(),!this.activeServiceWorker)return;this.sender=new MD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await kw(e,pd,"1"),await jw(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=hh(s,!1).getAll();return new Ql(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fC.type="LOCAL";const HD=fC;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){return e?yr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(t){return oC(t.auth,new Ey(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),_D(n,new Ey(t),t.bypassAuthState)}async function qD(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),bD(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:An(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new ql(2e3,1e4);class Ko extends pC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YD.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",ku=new Map;class XD extends pC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const r=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(t,e){const n=tO(e),r=eO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ZD(t,e){ku.set(t._key(),e)}function eO(t){return yr(t._redirectPersistence)}function tO(t){return Nu(QD,t.config.apiKey,t.name)}async function nO(t,e,n=!1){if(_n(t.app))return Promise.reject(ms(t));const r=$i(t),s=GD(r,e),a=await new XD(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*60*1e3;class sO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function cO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iO(t);for(const n of e)try{if(uO(n))return}catch{}An(t,"unauthorized-domain")}function uO(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!lO.test(n))return!1;if(aO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ql(3e4,6e4);function Iw(){const t=Xn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hO(t){return new Promise((e,n)=>{function r(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),n(Qn(t,"network-request-failed"))},timeout:dO.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)r();else{const s=sD("iframefcb");return Xn()[s]=()=>{gapi.load?r():n(Qn(t,"network-request-failed"))},eC(`${rD()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw ju=null,e})}let ju=null;function fO(t){return ju=ju||hO(t),ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new ql(5e3,15e3),mO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gy(e,gO):`https://${t.config.authDomain}/${mO}`,r={apiKey:e.apiKey,appName:t.name,v:Vi},s=vO.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kl(r).slice(1)}`}async function wO(t){const e=await fO(t),n=Xn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:xO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=Qn(t,"network-request-failed"),l=Xn().setTimeout(()=>{o(a)},pO.get());function c(){Xn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_O=500,EO=600,SO="_blank",CO="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(t,e,n,r=_O,s=EO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...bO,width:r.toString(),height:s.toString(),top:o,left:a},d=wt().toLowerCase();n&&(l=KS(d)?SO:n),GS(d)&&(e=e||CO,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[y,v])=>`${f}${y}=${v},`,"");if(qM(d)&&l!=="_self")return kO(e||"",l),new Pw(null);const m=window.open(e||"",l,h);re(m,t,"popup-blocked");try{m.focus()}catch{}return new Pw(m)}function kO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",TO="emulator/auth/handler",IO=encodeURIComponent("fac");async function Aw(t,e,n,r,s,o){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vi,eventId:s};if(e instanceof rC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",m4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof Yl){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${IO}=${encodeURIComponent(c)}`:"";return`${PO(t)}?${Kl(l).slice(1)}${d}`}function PO({config:t}){return t.emulator?gy(t,TO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class AO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=by,this._completeRedirectFn=nO,this._overrideRedirectResult=ZD}async _openPopup(e,n,r,s){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Aw(e,n,r,wm(),s);return NO(e,o,_y())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Aw(e,n,r,wm(),s);return DD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(jr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wO(e),r=new sO(e);return n.register("authEvent",s=>(re(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gf,{type:Gf},s=>{const o=s?.[0]?.[Gf];o!==void 0&&n(!!o),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JS()||WS()||vy()}}const RO=AO;var Rw="@firebase/auth",Mw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OO(t){mi(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;re(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(t)},d=new eD(r,s,o,c);return uD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new io("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new MO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Rw,Mw,DO(t)),ps(Rw,Mw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,FO=TS("authIdTokenMaxAge")||LO;let Dw=null;const VO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FO)return;const s=n?.token;Dw!==s&&(Dw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $O(t=MS()){const e=lh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cD(t,{popupRedirectResolver:RO,persistence:[HD,lC,by]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=VO(o.toString());jD(n,a,()=>a(n.currentUser)),kD(n,l=>a(l))}}const s=kS("auth");return s&&dD(n,`http://${s}`),n}function zO(){return document.getElementsByTagName("head")?.[0]??document}tD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Qn("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",zO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OO("Browser");var UO="firebase",BO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(UO,BO,"app");var Ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function k(){}k.prototype=E.prototype,C.F=E.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(I,M,R){for(var T=Array(arguments.length-2),$=2;$<arguments.length;$++)T[$-2]=arguments[$];return E.prototype[M].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,k){k||(k=0);const I=Array(16);if(typeof E=="string")for(var M=0;M<16;++M)I[M]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(M=0;M<16;++M)I[M]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=C.g[0],k=C.g[1],M=C.g[2];let R=C.g[3],T;T=E+(R^k&(M^R))+I[0]+3614090360&4294967295,E=k+(T<<7&4294967295|T>>>25),T=R+(M^E&(k^M))+I[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=M+(k^R&(E^k))+I[2]+606105819&4294967295,M=R+(T<<17&4294967295|T>>>15),T=k+(E^M&(R^E))+I[3]+3250441966&4294967295,k=M+(T<<22&4294967295|T>>>10),T=E+(R^k&(M^R))+I[4]+4118548399&4294967295,E=k+(T<<7&4294967295|T>>>25),T=R+(M^E&(k^M))+I[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=M+(k^R&(E^k))+I[6]+2821735955&4294967295,M=R+(T<<17&4294967295|T>>>15),T=k+(E^M&(R^E))+I[7]+4249261313&4294967295,k=M+(T<<22&4294967295|T>>>10),T=E+(R^k&(M^R))+I[8]+1770035416&4294967295,E=k+(T<<7&4294967295|T>>>25),T=R+(M^E&(k^M))+I[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=M+(k^R&(E^k))+I[10]+4294925233&4294967295,M=R+(T<<17&4294967295|T>>>15),T=k+(E^M&(R^E))+I[11]+2304563134&4294967295,k=M+(T<<22&4294967295|T>>>10),T=E+(R^k&(M^R))+I[12]+1804603682&4294967295,E=k+(T<<7&4294967295|T>>>25),T=R+(M^E&(k^M))+I[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=M+(k^R&(E^k))+I[14]+2792965006&4294967295,M=R+(T<<17&4294967295|T>>>15),T=k+(E^M&(R^E))+I[15]+1236535329&4294967295,k=M+(T<<22&4294967295|T>>>10),T=E+(M^R&(k^M))+I[1]+4129170786&4294967295,E=k+(T<<5&4294967295|T>>>27),T=R+(k^M&(E^k))+I[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=M+(E^k&(R^E))+I[11]+643717713&4294967295,M=R+(T<<14&4294967295|T>>>18),T=k+(R^E&(M^R))+I[0]+3921069994&4294967295,k=M+(T<<20&4294967295|T>>>12),T=E+(M^R&(k^M))+I[5]+3593408605&4294967295,E=k+(T<<5&4294967295|T>>>27),T=R+(k^M&(E^k))+I[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=M+(E^k&(R^E))+I[15]+3634488961&4294967295,M=R+(T<<14&4294967295|T>>>18),T=k+(R^E&(M^R))+I[4]+3889429448&4294967295,k=M+(T<<20&4294967295|T>>>12),T=E+(M^R&(k^M))+I[9]+568446438&4294967295,E=k+(T<<5&4294967295|T>>>27),T=R+(k^M&(E^k))+I[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=M+(E^k&(R^E))+I[3]+4107603335&4294967295,M=R+(T<<14&4294967295|T>>>18),T=k+(R^E&(M^R))+I[8]+1163531501&4294967295,k=M+(T<<20&4294967295|T>>>12),T=E+(M^R&(k^M))+I[13]+2850285829&4294967295,E=k+(T<<5&4294967295|T>>>27),T=R+(k^M&(E^k))+I[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=M+(E^k&(R^E))+I[7]+1735328473&4294967295,M=R+(T<<14&4294967295|T>>>18),T=k+(R^E&(M^R))+I[12]+2368359562&4294967295,k=M+(T<<20&4294967295|T>>>12),T=E+(k^M^R)+I[5]+4294588738&4294967295,E=k+(T<<4&4294967295|T>>>28),T=R+(E^k^M)+I[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=M+(R^E^k)+I[11]+1839030562&4294967295,M=R+(T<<16&4294967295|T>>>16),T=k+(M^R^E)+I[14]+4259657740&4294967295,k=M+(T<<23&4294967295|T>>>9),T=E+(k^M^R)+I[1]+2763975236&4294967295,E=k+(T<<4&4294967295|T>>>28),T=R+(E^k^M)+I[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=M+(R^E^k)+I[7]+4139469664&4294967295,M=R+(T<<16&4294967295|T>>>16),T=k+(M^R^E)+I[10]+3200236656&4294967295,k=M+(T<<23&4294967295|T>>>9),T=E+(k^M^R)+I[13]+681279174&4294967295,E=k+(T<<4&4294967295|T>>>28),T=R+(E^k^M)+I[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=M+(R^E^k)+I[3]+3572445317&4294967295,M=R+(T<<16&4294967295|T>>>16),T=k+(M^R^E)+I[6]+76029189&4294967295,k=M+(T<<23&4294967295|T>>>9),T=E+(k^M^R)+I[9]+3654602809&4294967295,E=k+(T<<4&4294967295|T>>>28),T=R+(E^k^M)+I[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=M+(R^E^k)+I[15]+530742520&4294967295,M=R+(T<<16&4294967295|T>>>16),T=k+(M^R^E)+I[2]+3299628645&4294967295,k=M+(T<<23&4294967295|T>>>9),T=E+(M^(k|~R))+I[0]+4096336452&4294967295,E=k+(T<<6&4294967295|T>>>26),T=R+(k^(E|~M))+I[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=M+(E^(R|~k))+I[14]+2878612391&4294967295,M=R+(T<<15&4294967295|T>>>17),T=k+(R^(M|~E))+I[5]+4237533241&4294967295,k=M+(T<<21&4294967295|T>>>11),T=E+(M^(k|~R))+I[12]+1700485571&4294967295,E=k+(T<<6&4294967295|T>>>26),T=R+(k^(E|~M))+I[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=M+(E^(R|~k))+I[10]+4293915773&4294967295,M=R+(T<<15&4294967295|T>>>17),T=k+(R^(M|~E))+I[1]+2240044497&4294967295,k=M+(T<<21&4294967295|T>>>11),T=E+(M^(k|~R))+I[8]+1873313359&4294967295,E=k+(T<<6&4294967295|T>>>26),T=R+(k^(E|~M))+I[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=M+(E^(R|~k))+I[6]+2734768916&4294967295,M=R+(T<<15&4294967295|T>>>17),T=k+(R^(M|~E))+I[13]+1309151649&4294967295,k=M+(T<<21&4294967295|T>>>11),T=E+(M^(k|~R))+I[4]+4149444226&4294967295,E=k+(T<<6&4294967295|T>>>26),T=R+(k^(E|~M))+I[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=M+(E^(R|~k))+I[2]+718787259&4294967295,M=R+(T<<15&4294967295|T>>>17),T=k+(R^(M|~E))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.v=function(C,E){E===void 0&&(E=C.length);const k=E-this.blockSize,I=this.C;let M=this.h,R=0;for(;R<E;){if(M==0)for(;R<=k;)s(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<E;)if(I[M++]=C.charCodeAt(R++),M==this.blockSize){s(this,I),M=0;break}}else for(;R<E;)if(I[M++]=C[R++],M==this.blockSize){s(this,I),M=0;break}}this.h=M,this.o+=E},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,k=0;k<4;++k)for(let I=0;I<32;I+=8)C[E++]=this.g[k]>>>I&255;return C};function o(C,E){var k=l;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=E(C)}function a(C,E){this.h=E;const k=[];let I=!0;for(let M=C.length-1;M>=0;M--){const R=C[M]|0;I&&R==E||(k[M]=R,I=!1)}this.g=k}var l={};function c(C){return-128<=C&&C<128?o(C,function(E){return new a([E|0],E<0?-1:0)}):new a([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return N(d(-C));const E=[];let k=1;for(let I=0;C>=k;I++)E[I]=C/k|0,k*=4294967296;return new a(E,0)}function h(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return N(h(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(E,8));let I=m;for(let R=0;R<C.length;R+=8){var M=Math.min(8,C.length-R);const T=parseInt(C.substring(R,R+M),E);M<8?(M=d(Math.pow(E,M)),I=I.j(M).add(d(T))):(I=I.j(k),I=I.add(d(T)))}return I}var m=c(0),f=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-N(this).m();let C=0,E=1;for(let k=0;k<this.g.length;k++){const I=this.i(k);C+=(I>=0?I:4294967296+I)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(x(this))return"-"+N(this).toString(C);const E=d(Math.pow(C,6));var k=this;let I="";for(;;){const M=P(k,E).g;k=b(k,M.j(E));let R=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=M,v(k))return R+I;for(;R.length<6;)R="0"+R;I=R+I}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=b(this,C),x(C)?-1:v(C)?0:1};function N(C){const E=C.g.length,k=[];for(let I=0;I<E;I++)k[I]=~C.g[I];return new a(k,~C.h).add(f)}t.abs=function(){return x(this)?N(this):this},t.add=function(C){const E=Math.max(this.g.length,C.g.length),k=[];let I=0;for(let M=0;M<=E;M++){let R=I+(this.i(M)&65535)+(C.i(M)&65535),T=(R>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);I=T>>>16,R&=65535,T&=65535,k[M]=T<<16|R}return new a(k,k[k.length-1]&-2147483648?-1:0)};function b(C,E){return C.add(N(E))}t.j=function(C){if(v(this)||v(C))return m;if(x(this))return x(C)?N(this).j(N(C)):N(N(this).j(C));if(x(C))return N(this.j(N(C)));if(this.l(y)<0&&C.l(y)<0)return d(this.m()*C.m());const E=this.g.length+C.g.length,k=[];for(var I=0;I<2*E;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(let M=0;M<C.g.length;M++){const R=this.i(I)>>>16,T=this.i(I)&65535,$=C.i(M)>>>16,L=C.i(M)&65535;k[2*I+2*M]+=T*L,w(k,2*I+2*M),k[2*I+2*M+1]+=R*L,w(k,2*I+2*M+1),k[2*I+2*M+1]+=T*$,w(k,2*I+2*M+1),k[2*I+2*M+2]+=R*$,w(k,2*I+2*M+2)}for(C=0;C<E;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=E;C<2*E;C++)k[C]=0;return new a(k,0)};function w(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function S(C,E){this.g=C,this.h=E}function P(C,E){if(v(E))throw Error("division by zero");if(v(C))return new S(m,m);if(x(C))return E=P(N(C),E),new S(N(E.g),N(E.h));if(x(E))return E=P(C,N(E)),new S(N(E.g),E.h);if(C.g.length>30){if(x(C)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var k=f,I=E;I.l(C)<=0;)k=j(k),I=j(I);var M=D(k,1),R=D(I,1);for(I=D(I,2),k=D(k,2);!v(I);){var T=R.add(I);T.l(C)<=0&&(M=M.add(k),R=T),I=D(I,1),k=D(k,1)}return E=b(C,M.j(E)),new S(M,E)}for(M=m;C.l(E)>=0;){for(k=Math.max(1,Math.floor(C.m()/E.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),R=d(k),T=R.j(E);x(T)||T.l(C)>0;)k-=I,R=d(k),T=R.j(E);v(R)&&(R=f),M=M.add(R),C=b(C,T)}return new S(M,C)}t.B=function(C){return P(this,C).h},t.and=function(C){const E=Math.max(this.g.length,C.g.length),k=[];for(let I=0;I<E;I++)k[I]=this.i(I)&C.i(I);return new a(k,this.h&C.h)},t.or=function(C){const E=Math.max(this.g.length,C.g.length),k=[];for(let I=0;I<E;I++)k[I]=this.i(I)|C.i(I);return new a(k,this.h|C.h)},t.xor=function(C){const E=Math.max(this.g.length,C.g.length),k=[];for(let I=0;I<E;I++)k[I]=this.i(I)^C.i(I);return new a(k,this.h^C.h)};function j(C){const E=C.g.length+1,k=[];for(let I=0;I<E;I++)k[I]=C.i(I)<<1|C.i(I-1)>>>31;return new a(k,C.h)}function D(C,E){const k=E>>5;E%=32;const I=C.g.length-k,M=[];for(let R=0;R<I;R++)M[R]=E>0?C.i(R+k)>>>E|C.i(R+k+1)<<32-E:C.i(R+k);return new a(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Sy=a}).apply(typeof Ow<"u"?Ow:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gC,Aa,yC,Tu,Em,vC,xC,wC;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in _))break e;_=_[F]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var _=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&_.push([A,g[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function c(u,g,_){return u.call.apply(u.bind,arguments)}function d(u,g,_){return d=c,d.apply(null,arguments)}function h(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function m(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,F,V){for(var G=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)G[ae-2]=arguments[ae];return g.prototype[F].apply(A,G)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const g=u.length;if(g>0){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function v(u,g){for(let A=1;A<arguments.length;A++){const F=arguments[A];var _=typeof F;if(_=_!="object"?_:F?Array.isArray(F)?"array":_:"null",_=="array"||_=="object"&&typeof F.length=="number"){_=u.length||0;const V=F.length||0;u.length=_+V;for(let G=0;G<V;G++)u[_+G]=F[G]}else u.push(F)}}class x{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function N(u){a.setTimeout(()=>{throw u},0)}function b(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,_){const A=S.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var S=new x(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let j,D=!1,C=new w,E=()=>{const u=Promise.resolve(void 0);j=()=>{u.then(k)}};function k(){for(var u;u=b();){try{u.h.call(u.g)}catch(_){N(_)}var g=S;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}D=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return u}();function T(u){return/^[\s\xa0]*$/.test(u)}function $(u,g){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}m($,M),$.prototype.init=function(u,g){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),B=0;function q(u,g,_,A,F){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=F,this.key=++B,this.da=this.fa=!1}function O(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function z(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function W(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function ne(u){const g={};for(const _ in u)g[_]=u[_];return g}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(u,g){let _,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(_ in A)u[_]=A[_];for(let V=0;V<ue.length;V++)_=ue[V],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,g,_,A,F){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const G=De(u,g,A,F);return G>-1?(g=u[G],_||(g.fa=!1)):(g=new q(g,this.src,V,!!A,F),g.fa=_,u.push(g)),g};function rt(u,g){const _=g.type;if(_ in u.g){var A=u.g[_],F=Array.prototype.indexOf.call(A,g,void 0),V;(V=F>=0)&&Array.prototype.splice.call(A,F,1),V&&(O(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function De(u,g,_,A){for(let F=0;F<u.length;++F){const V=u[F];if(!V.da&&V.listener==g&&V.capture==!!_&&V.ha==A)return F}return-1}var se="closure_lm_"+(Math.random()*1e6|0),Zt={};function ir(u,g,_,A,F){if(Array.isArray(g)){for(let V=0;V<g.length;V++)ir(u,g[V],_,A,F);return null}return _=Yv(_),u&&u[L]?u.J(g,_,l(A)?!!A.capture:!1,F):Mr(u,g,_,!1,A,F)}function Mr(u,g,_,A,F,V){if(!g)throw Error("Invalid event type");const G=l(F)?!!F.capture:!!F;let ae=Gh(u);if(ae||(u[se]=ae=new he(u)),_=ae.add(g,_,A,G,V),_.proxy)return _;if(A=Ps(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)R||(F=G),F===void 0&&(F=!1),u.addEventListener(g.toString(),A,F);else if(u.attachEvent)u.attachEvent(qv(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ps(){function u(_){return g.call(u.src,u.listener,_)}const g=xT;return u}function ar(u,g,_,A,F){if(Array.isArray(g))for(var V=0;V<g.length;V++)ar(u,g[V],_,A,F);else A=l(A)?!!A.capture:!!A,_=Yv(_),u&&u[L]?(u=u.i,V=String(g).toString(),V in u.g&&(g=u.g[V],_=De(g,_,A,F),_>-1&&(O(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[V],u.h--)))):u&&(u=Gh(u))&&(g=u.g[g.toString()],u=-1,g&&(u=De(g,_,A,F)),(_=u>-1?g[u]:null)&&Dr(_))}function Dr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[L])rt(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(qv(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Gh(g))?(rt(_,u),_.h==0&&(_.src=null,g[se]=null)):O(u)}}}function qv(u){return u in Zt?Zt[u]:Zt[u]="on"+u}function xT(u,g){if(u.da)u=!0;else{g=new $(g,this);const _=u.listener,A=u.ha||u.src;u.fa&&Dr(u),u=_.call(A,g)}return u}function Gh(u){return u=u[se],u instanceof he?u:null}var Wh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yv(u){return typeof u=="function"?u:(u[Wh]||(u[Wh]=function(g){return u.handleEvent(g)}),u[Wh])}function ft(){I.call(this),this.i=new he(this),this.M=this,this.G=null}m(ft,I),ft.prototype[L]=!0,ft.prototype.removeEventListener=function(u,g,_,A){ar(this,u,g,_,A)};function bt(u,g){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new M(g,u);else if(g instanceof M)g.target=g.target||u;else{var F=g;g=new M(A,u),ge(g,F)}F=!0;let V,G;if(_)for(G=_.length-1;G>=0;G--)V=g.g=_[G],F=fc(V,A,!0,g)&&F;if(V=g.g=u,F=fc(V,A,!0,g)&&F,F=fc(V,A,!1,g)&&F,_)for(G=0;G<_.length;G++)V=g.g=_[G],F=fc(V,A,!1,g)&&F}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let A=0;A<_.length;A++)O(_[A]);delete u.g[g],u.h--}}this.G=null},ft.prototype.J=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},ft.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function fc(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let F=!0;for(let V=0;V<g.length;++V){const G=g[V];if(G&&!G.da&&G.capture==_){const ae=G.listener,He=G.ha||G.src;G.fa&&rt(u.i,G),F=ae.call(He,A)!==!1&&F}}return F&&!A.defaultPrevented}function wT(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:a.setTimeout(u,g||0)}function Qv(u){u.g=wT(()=>{u.g=null,u.i&&(u.i=!1,Qv(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class bT extends I{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(u){I.call(this),this.h=u,this.g={}}m(Qi,I);var Xv=[];function Jv(u){z(u.g,function(g,_){this.g.hasOwnProperty(_)&&Dr(g)},u),u.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),Jv(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kh=a.JSON.stringify,_T=a.JSON.parse,ET=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Zv(){}function ex(){}var Xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qh(){M.call(this,"d")}m(qh,M);function Yh(){M.call(this,"c")}m(Yh,M);var As={},tx=null;function pc(){return tx=tx||new ft}As.Ia="serverreachability";function nx(u){M.call(this,As.Ia,u)}m(nx,M);function Ji(u){const g=pc();bt(g,new nx(g))}As.STAT_EVENT="statevent";function rx(u,g){M.call(this,As.STAT_EVENT,u),this.stat=g}m(rx,M);function _t(u){const g=pc();bt(g,new rx(g,u))}As.Ja="timingevent";function sx(u,g){M.call(this,As.Ja,u),this.size=g}m(sx,M);function Zi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function ea(){this.g=!0}ea.prototype.ua=function(){this.g=!1};function ST(u,g,_,A,F,V){u.info(function(){if(u.g)if(V){var G="",ae=V.split("&");for(let Ee=0;Ee<ae.length;Ee++){var He=ae[Ee].split("=");if(He.length>1){const Ye=He[0];He=He[1];const Fn=Ye.split("_");G=Fn.length>=2&&Fn[1]=="type"?G+(Ye+"="+He+"&"):G+(Ye+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+g+`
`+_+`
`+G})}function CT(u,g,_,A,F,V,G){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+g+`
`+_+`
`+V+" "+G})}function So(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+kT(u,_)+(A?" "+A:"")})}function NT(u,g){u.info(function(){return"TIMEOUT: "+g})}ea.prototype.info=function(){};function kT(u,g){if(!u.g)return g;if(!g)return null;try{const V=JSON.parse(g);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var _=V[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let G=1;G<A.length;G++)A[G]=""}}}}return Kh(V)}catch{return g}}var mc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ox={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ix;function Qh(){}m(Qh,Zv),Qh.prototype.g=function(){return new XMLHttpRequest},ix=new Qh;function ta(u){return encodeURIComponent(String(u))}function jT(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function Or(u,g,_,A){this.j=u,this.i=g,this.l=_,this.S=A||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ax}function ax(){this.i=null,this.g="",this.h=!1}var lx={},Xh={};function Jh(u,g,_){u.M=1,u.A=yc(Ln(g)),u.u=_,u.R=!0,cx(u,null)}function cx(u,g){u.F=Date.now(),gc(u),u.B=Ln(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),_x(_.i,"t",A),u.C=0,_=u.j.L,u.h=new ax,u.g=$x(u.j,_?g:null,!u.u),u.P>0&&(u.O=new bT(d(u.Y,u,u.g),u.P)),g=u.V,_=u.g,A=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Xv[0]=F.toString()),F=Xv);for(let V=0;V<F.length;V++){const G=ir(_,F[V],A||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=u.J?ne(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Ji(),ST(u.i,u.v,u.B,u.l,u.S,u.u)}Or.prototype.ba=function(u){u=u.target;const g=this.O;g&&Vr(u)==3?g.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{const ae=Vr(this.g),He=this.g.ya(),Ee=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||Tx(this.g)))){this.K||ae!=4||He==7||(He==8||Ee<=0?Ji(3):Ji(2)),Zh(this);var g=this.g.ca();this.X=g;var _=TT(this);if(this.o=g==200,CT(this.i,this.v,this.B,this.l,this.S,ae,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(A)){var V=A;break t}}V=null}if(u=V)So(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ef(this,u);else{this.o=!1,this.m=3,_t(12),Rs(this),na(this);break e}}if(this.R){u=!0;let Ye;for(;!this.K&&this.C<_.length;)if(Ye=IT(this,_),Ye==Xh){ae==4&&(this.m=4,_t(14),u=!1),So(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==lx){this.m=4,_t(15),So(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else So(this.i,this.l,Ye,null),ef(this,Ye);if(ux(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||_.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)So(this.i,this.l,_,"[Invalid Chunked Response]"),Rs(this),na(this);else if(_.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),cf(G),G.P=!0,_t(11))}}else So(this.i,this.l,_,null),ef(this,_);ae==4&&Rs(this),this.o&&!this.K&&(ae==4?Ox(this.j,this):(this.o=!1,gc(this)))}else HT(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Rs(this),na(this)}}}catch{}finally{}};function TT(u){if(!ux(u))return u.g.la();const g=Tx(u.g);if(g==="")return"";let _="";const A=g.length,F=Vr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rs(u),na(u),"";u.h.i=new a.TextDecoder}for(let V=0;V<A;V++)u.h.h=!0,_+=u.h.i.decode(g[V],{stream:!(F&&V==A-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function ux(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function IT(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Xh:(_=Number(g.substring(_,A)),isNaN(_)?lx:(A+=1,A+_>g.length?Xh:(g=g.slice(A,A+_),u.C=A+_,g)))}Or.prototype.cancel=function(){this.K=!0,Rs(this)};function gc(u){u.T=Date.now()+u.H,dx(u,u.H)}function dx(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zi(d(u.aa,u),g)}function Zh(u){u.D&&(a.clearTimeout(u.D),u.D=null)}Or.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(NT(this.i,this.B),this.M!=2&&(Ji(),_t(17)),Rs(this),this.m=2,na(this)):dx(this,this.T-u)};function na(u){u.j.I==0||u.K||Ox(u.j,u)}function Rs(u){Zh(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Jv(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function ef(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||tf(_.h,u))){if(!u.L&&tf(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)_c(_),wc(_);else break e;lf(_),_t(18)}}else _.xa=F[1],0<_.xa-_.K&&F[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Zi(d(_.Va,_),6e3));px(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ds(_,11)}else if((u.L||_.g==u)&&_c(_),!T(g))for(F=_.Ba.g.parse(g),g=0;g<F.length;g++){let Ee=F[g];const Ye=Ee[0];if(!(Ye<=_.K))if(_.K=Ye,Ee=Ee[1],_.I==2)if(Ee[0]=="c"){_.M=Ee[1],_.ba=Ee[2];const Fn=Ee[3];Fn!=null&&(_.ka=Fn,_.j.info("VER="+_.ka));const Os=Ee[4];Os!=null&&(_.za=Os,_.j.info("SVER="+_.za));const $r=Ee[5];$r!=null&&typeof $r=="number"&&$r>0&&(A=1.5*$r,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zr=u.g;if(zr){const Sc=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var V=A.h;V.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(nf(V,V.h),V.h=null))}if(A.G){const uf=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(A.wa=uf,Ne(A.J,A.G,uf))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var G=u;if(A.na=Vx(A,A.L?A.ba:null,A.W),G.L){mx(A.h,G);var ae=G,He=A.O;He&&(ae.H=He),ae.D&&(Zh(ae),gc(ae)),A.g=G}else Mx(A);_.i.length>0&&bc(_)}else Ee[0]!="stop"&&Ee[0]!="close"||Ds(_,7);else _.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ds(_,7):af(_):Ee[0]!="noop"&&_.l&&_.l.qa(Ee),_.A=0)}}Ji(4)}catch{}}var PT=class{constructor(u,g){this.g=u,this.map=g}};function hx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function px(u){return u.h?1:u.g?u.g.size:0}function tf(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function nf(u,g){u.g?u.g.add(g):u.h=g}function mx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}hx.prototype.cancel=function(){if(this.i=gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gx(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return y(u.i)}var yx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AT(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let F,V=null;A>=0?(F=u[_].substring(0,A),V=u[_].substring(A+1)):F=u[_],g(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Lr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Lr?(this.l=u.l,ra(this,u.j),this.o=u.o,this.g=u.g,sa(this,u.u),this.h=u.h,rf(this,Ex(u.i)),this.m=u.m):u&&(g=String(u).match(yx))?(this.l=!1,ra(this,g[1]||"",!0),this.o=oa(g[2]||""),this.g=oa(g[3]||"",!0),sa(this,g[4]),this.h=oa(g[5]||"",!0),rf(this,g[6]||"",!0),this.m=oa(g[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}Lr.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ia(g,vx,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ia(g,vx,!0),"@"),u.push(ta(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ia(_,_.charAt(0)=="/"?DT:MT,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ia(_,LT)),u.join("")},Lr.prototype.resolve=function(u){const g=Ln(this);let _=!!u.j;_?ra(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var A=u.h;if(_)sa(g,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=g.h.lastIndexOf("/");F!=-1&&(A=g.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const V=[];for(let G=0;G<F.length;){const ae=F[G++];ae=="."?A&&G==F.length&&V.push(""):ae==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),A&&G==F.length&&V.push("")):(V.push(ae),A=!0)}A=V.join("/")}else A=F}return _?g.h=A:_=u.i.toString()!=="",_?rf(g,Ex(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Ln(u){return new Lr(u)}function ra(u,g,_){u.j=_?oa(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function sa(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function rf(u,g,_){g instanceof aa?(u.i=g,FT(u.i,u.l)):(_||(g=ia(g,OT)),u.i=new aa(g,u.l))}function Ne(u,g,_){u.i.set(g,_)}function yc(u){return Ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oa(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,RT),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function RT(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vx=/[#\/\?@]/g,MT=/[#\?:]/g,DT=/[#\?]/g,OT=/[#\?@]/g,LT=/#/g;function aa(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ms(u){u.g||(u.g=new Map,u.h=0,u.i&&AT(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=aa.prototype,t.add=function(u,g){Ms(this),this.i=null,u=Co(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function xx(u,g){Ms(u),g=Co(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wx(u,g){return Ms(u),g=Co(u,g),u.g.has(g)}t.forEach=function(u,g){Ms(this),this.g.forEach(function(_,A){_.forEach(function(F){u.call(g,F,A,this)},this)},this)};function bx(u,g){Ms(u);let _=[];if(typeof g=="string")wx(u,g)&&(_=_.concat(u.g.get(Co(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}t.set=function(u,g){return Ms(this),this.i=null,u=Co(this,u),wx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=bx(this,u),u.length>0?String(u[0]):g):g};function _x(u,g,_){xx(u,g),_.length>0&&(u.i=null,u.g.set(Co(u,g),y(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var _=g[A];const F=ta(_);_=bx(this,_);for(let V=0;V<_.length;V++){let G=F;_[V]!==""&&(G+="="+ta(_[V])),u.push(G)}}return this.i=u.join("&")};function Ex(u){const g=new aa;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Co(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function FT(u,g){g&&!u.j&&(Ms(u),u.i=null,u.g.forEach(function(_,A){const F=A.toLowerCase();A!=F&&(xx(this,A),_x(this,F,_))},u)),u.j=g}function VT(u,g){const _=new ea;if(a.Image){const A=new Image;A.onload=h(Fr,_,"TestLoadImage: loaded",!0,g,A),A.onerror=h(Fr,_,"TestLoadImage: error",!1,g,A),A.onabort=h(Fr,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=h(Fr,_,"TestLoadImage: timeout",!1,g,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function $T(u,g){const _=new ea,A=new AbortController,F=setTimeout(()=>{A.abort(),Fr(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(F),V.ok?Fr(_,"TestPingServer: ok",!0,g):Fr(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),Fr(_,"TestPingServer: error",!1,g)})}function Fr(u,g,_,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(_)}catch{}}function zT(){this.g=new ET}function sf(u){this.i=u.Sb||null,this.h=u.ab||!1}m(sf,Zv),sf.prototype.g=function(){return new vc(this.i,this.h)};function vc(u,g){ft.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(vc,ft),t=vc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,ca(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||a).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sx(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sx(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?la(this):ca(this),this.readyState==3&&Sx(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,la(this))},t.Na=function(u){this.g&&(this.response=u,la(this))},t.ga=function(){this.g&&la(this)};function la(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ca(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function ca(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cx(u){let g="";return z(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function of(u,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Cx(_),typeof u=="string"?_!=null&&ta(_):Ne(u,g,_))}function Oe(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Oe,ft);var UT=/^https?$/i,BT=["POST","PUT"];t=Oe.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ix.g(),this.g.onreadystatechange=f(d(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(V){Nx(this,V);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)_.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())_.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(BT,g,void 0)>=0)||A||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of _)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){Nx(this,V)}};function Nx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,kx(u),xc(u)}function kx(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xc(this,!0)),Oe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jx(this):this.Xa())},t.Xa=function(){jx(this)};function jx(u){if(u.h&&typeof o<"u"){if(u.v&&Vr(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),Vr(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=V===0){let G=String(u.D).match(yx)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),A=!UT.test(G?G.toLowerCase():"")}_=A}if(_)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var F=Vr(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",kx(u)}}finally{xc(u)}}}}function xc(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||bt(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),_T(g)}};function Tx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HT(u){const g={};u=(u.g&&Vr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(T(u[A]))continue;var _=jT(u[A]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=g[F]||[];g[F]=V,V.push(_)}W(g,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ix(u){this.za=0,this.i=[],this.j=new ea,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ua("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ua("baseRetryDelayMs",5e3,u),this.Za=ua("retryDelaySeedMs",1e4,u),this.Ta=ua("forwardChannelMaxRetries",2,u),this.va=ua("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new hx(u&&u.concurrentRequestLimit),this.Ba=new zT,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ix.prototype,t.ka=8,t.I=1,t.connect=function(u,g,_,A){_t(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Vx(this,null,this.W),bc(this)};function af(u){if(Px(u),u.I==3){var g=u.V++,_=Ln(u.J);if(Ne(_,"SID",u.M),Ne(_,"RID",g),Ne(_,"TYPE","terminate"),da(u,_),g=new Or(u,u.j,g),g.M=2,g.A=yc(Ln(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.A,_=!0),_||(g.g=$x(g.j,null),g.g.ea(g.A)),g.F=Date.now(),gc(g)}Fx(u)}function wc(u){u.g&&(cf(u),u.g.cancel(),u.g=null)}function Px(u){wc(u),u.v&&(a.clearTimeout(u.v),u.v=null),_c(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function bc(u){if(!fx(u.h)&&!u.m){u.m=!0;var g=u.Ea;j||E(),D||(j(),D=!0),C.add(g,u),u.D=0}}function GT(u,g){return px(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zi(d(u.Ea,u,g),Lx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new Or(this,this.j,u);let V=this.o;if(this.U&&(V?(V=ne(V),ge(V,this.U)):V=this.U),this.u!==null||this.R||(F.J=V,V=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Rx(this,F,g),_=Ln(this.J),Ne(_,"RID",u),Ne(_,"CVER",22),this.G&&Ne(_,"X-HTTP-Session-Id",this.G),da(this,_),V&&(this.R?g="headers="+ta(Cx(V))+"&"+g:this.u&&of(_,this.u,V)),nf(this.h,F),this.Ra&&Ne(_,"TYPE","init"),this.S?(Ne(_,"$req",g),Ne(_,"SID","null"),F.U=!0,Jh(F,_,null)):Jh(F,_,g),this.I=2}}else this.I==3&&(u?Ax(this,u):this.i.length==0||fx(this.h)||Ax(this))};function Ax(u,g){var _;g?_=g.l:_=u.V++;const A=Ln(u.J);Ne(A,"SID",u.M),Ne(A,"RID",_),Ne(A,"AID",u.K),da(u,A),u.u&&u.o&&of(A,u.u,u.o),_=new Or(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Rx(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),nf(u.h,_),Jh(_,A,g)}function da(u,g){u.H&&z(u.H,function(_,A){Ne(g,A,_)}),u.l&&z({},function(_,A){Ne(g,A,_)})}function Rx(u,g,_){_=Math.min(u.i.length,_);const A=u.l?d(u.l.Ka,u.l,u):null;e:{var F=u.i;let ae=-1;for(;;){const He=["count="+_];ae==-1?_>0?(ae=F[0].g,He.push("ofs="+ae)):ae=0:He.push("ofs="+ae);let Ee=!0;for(let Ye=0;Ye<_;Ye++){var V=F[Ye].g;const Fn=F[Ye].map;if(V-=ae,V<0)ae=Math.max(0,F[Ye].g-100),Ee=!1;else try{V="req"+V+"_"||"";try{var G=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Os,$r]of G){let zr=$r;l($r)&&(zr=Kh($r)),He.push(V+Os+"="+encodeURIComponent(zr))}}catch(Os){throw He.push(V+"type="+encodeURIComponent("_badmap")),Os}}catch{A&&A(Fn)}}if(Ee){G=He.join("&");break e}}G=void 0}return u=u.i.splice(0,_),g.G=u,G}function Mx(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;j||E(),D||(j(),D=!0),C.add(g,u),u.A=0}}function lf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zi(d(u.Da,u),Lx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Dx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zi(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),wc(this),Dx(this))};function cf(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function Dx(u){u.g=new Or(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ln(u.na);Ne(g,"RID","rpc"),Ne(g,"SID",u.M),Ne(g,"AID",u.K),Ne(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ne(g,"TO",u.ia),Ne(g,"TYPE","xmlhttp"),da(u,g),u.u&&u.o&&of(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=yc(Ln(g)),_.u=null,_.R=!0,cx(_,u)}t.Va=function(){this.C!=null&&(this.C=null,wc(this),lf(this),_t(19))};function _c(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ox(u,g){var _=null;if(u.g==g){_c(u),cf(u),u.g=null;var A=2}else if(tf(u.h,g))_=g.G,mx(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var F=u.D;A=pc(),bt(A,new sx(A,_)),bc(u)}else Mx(u);else if(F=g.m,F==3||F==0&&g.X>0||!(A==1&&GT(u,g)||A==2&&lf(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),F){case 1:Ds(u,5);break;case 4:Ds(u,10);break;case 3:Ds(u,6);break;default:Ds(u,2)}}}function Lx(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function Ds(u,g){if(u.j.info("Error code "+g),g==2){var _=d(u.bb,u),A=u.Ua;const F=!A;A=new Lr(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ra(A,"https"),yc(A),F?VT(A.toString(),_):$T(A.toString(),_)}else _t(2);u.I=0,u.l&&u.l.pa(g),Fx(u),Px(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Fx(u){if(u.I=0,u.ja=[],u.l){const g=gx(u.h);(g.length!=0||u.i.length!=0)&&(v(u.ja,g),v(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function Vx(u,g,_){var A=_ instanceof Lr?Ln(_):new Lr(_);if(A.g!="")g&&(A.g=g+"."+A.g),sa(A,A.u);else{var F=a.location;A=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;const V=new Lr(null);A&&ra(V,A),g&&(V.g=g),F&&sa(V,F),_&&(V.h=_),A=V}return _=u.G,g=u.wa,_&&g&&Ne(A,_,g),Ne(A,"VER",u.ka),da(u,A),A}function $x(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Oe(new sf({ab:_})):new Oe(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zx(){}t=zx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ec(){}Ec.prototype.g=function(u,g){return new $t(u,g)};function $t(u,g){ft.call(this),this.g=new Ix(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!T(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!T(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new No(this)}m($t,ft),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){af(this.g)},$t.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Kh(u),u=_);g.i.push(new PT(g.Ya++,u)),g.I==3&&bc(g)},$t.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,$t.Z.N.call(this)};function Ux(u){qh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}m(Ux,qh);function Bx(){Yh.call(this),this.status=1}m(Bx,Yh);function No(u){this.g=u}m(No,zx),No.prototype.ra=function(){bt(this.g,"a")},No.prototype.qa=function(u){bt(this.g,new Ux(u))},No.prototype.pa=function(u){bt(this.g,new Bx)},No.prototype.oa=function(){bt(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,wC=function(){return new Ec},xC=function(){return pc()},vC=As,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,Tu=mc,ox.COMPLETE="complete",yC=ox,ex.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Aa=ex,Oe.prototype.listenOnce=Oe.prototype.K,Oe.prototype.getLastError=Oe.prototype.Ha,Oe.prototype.getLastErrorCode=Oe.prototype.ya,Oe.prototype.getStatus=Oe.prototype.ca,Oe.prototype.getResponseJson=Oe.prototype.La,Oe.prototype.getResponseText=Oe.prototype.la,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Fa,gC=Oe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Fw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new hy("@firebase/firestore");function Ro(){return lo.logLevel}function te(t,...e){if(lo.logLevel<=fe.DEBUG){const n=e.map(Cy);lo.debug(`Firestore (${Ui}): ${t}`,...n)}}function Xl(t,...e){if(lo.logLevel<=fe.ERROR){const n=e.map(Cy);lo.error(`Firestore (${Ui}): ${t}`,...n)}}function fh(t,...e){if(lo.logLevel<=fe.WARN){const n=e.map(Cy);lo.warn(`Firestore (${Ui}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bC(t,r,n)}function bC(t,e,n){let r=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xl(r),new Error(r)}function Nt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bC(e,s,r)}function ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class GO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new _C(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class KO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nt(this.o===void 0,3512);const r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=QO(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Sm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Wf(s)===Wf(o)?be(s,o):Wf(s)?1:-1}return be(t.length,e.length)}const XO=55296,JO=57343;function Wf(t){const e=t.charCodeAt(0);return e>=XO&&e<=JO}function yi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__name__";class Un{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Un.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return be(e.length,n.length)}static compareSegments(e,n){const r=Un.isNumericId(e),s=Un.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Un.extractNumericId(e).compare(Un.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sy.fromString(e.substring(4,e.length-2))}}class Ze extends Un{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const ZO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Un{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return ZO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$w}static keyField(){return new St([$w])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new oe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new oe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ze.fromString(e))}static fromName(e){return new pe(Ze.fromString(e).popFirst(5))}static empty(){return new pe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ze(e.slice()))}}function e3(t,e,n,r){if(e===!0&&r===!0)throw new oe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function n3(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye(12329,{type:typeof t})}function Ny(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=n3(t);throw new oe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jl(t,e){if(!t3(t))throw new oe(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new oe(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Uw=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Uw);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zw)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Be("string",Ke._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ke(0,0))}static max(){return new Pe(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function r3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new xs(s,pe.empty(),e)}function s3(t){return new xs(t.readTime,t.key,El)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(Pe.min(),pe.empty(),El)}static max(){return new xs(Pe.max(),pe.empty(),El)}}function o3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==i3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,o=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&n()},c=>r(c))}),a=!0,o===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===o&&r(a)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function c3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ky.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=-1;function jy(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="";function d3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bw(e)),e=h3(t.get(n),e);return Bw(e)}function h3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case SC:n+="";break;default:n+=o}}return n}function Bw(t){return t+SC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=o??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new it(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new ns([])}unionWith(e){let n=new ut(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new p3("Invalid base64 string: "+o):o}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const m3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(Nt(!!t,39018),typeof t=="string"){let e=0;const n=m3.exec(t);if(Nt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="server_timestamp",NC="__type__",kC="__previous_value__",jC="__local_write_time__";function Ty(t){return(t?.mapValue?.fields||{})[NC]?.stringValue===CC}function Iy(t){const e=t.mapValue.fields[kC];return Ty(e)?Iy(e):e}function gd(t){const e=co(t.mapValue.fields[jC].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,s,o,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const yd="(default)";class vd{constructor(e,n){this.projectId=e,this.database=n||yd}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===yd}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="__type__",v3="__max__",Wc={mapValue:{}},x3="__vector__",Ww="value";function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:b3(t)?9007199254740991:w3(t)?10:11:ye(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gd(t).isEqual(gd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=co(s.timestampValue),l=co(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return vi(s.bytesValue).isEqual(vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return at(s.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return at(s.integerValue)===at(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=at(s.doubleValue),l=at(o.doubleValue);return a===l?Cm(a)===Cm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return yi(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(Hw(a)!==Hw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!er(a[c],l[c])))return!1;return!0}(t,e);default:return ye(52216,{left:t})}}function Sl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function xi(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=at(o.integerValue||o.doubleValue),c=at(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(gd(t),gd(e));case 5:return Sm(t.stringValue,e.stringValue);case 6:return function(o,a){const l=vi(o),c=vi(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=be(l[d],c[d]);if(h!==0)return h}return be(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=be(at(o.latitude),at(a.latitude));return l!==0?l:be(at(o.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qw(t.arrayValue,e.arrayValue);case 10:return function(o,a){const l=o.fields||{},c=a.fields||{},d=l[Ww]?.arrayValue,h=c[Ww]?.arrayValue,m=be(d?.values?.length||0,h?.values?.length||0);return m!==0?m:qw(d,h)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Wc.mapValue&&a===Wc.mapValue)return 0;if(o===Wc.mapValue)return 1;if(a===Wc.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=Sm(c[m],h[m]);if(f!==0)return f;const y=xi(l[c[m]],d[h[m]]);if(y!==0)return y}return be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=co(t),r=co(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function qw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=xi(n[s],r[s]);if(o)return o}return be(n.length,r.length)}function wi(t){return Nm(t)}function Nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Nm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Nm(n.fields[a])}`;return s+"}"}(t.mapValue):ye(61005,{value:t})}function Iu(t){switch(uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Iy(t);return e?16+Iu(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Iu(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return mh(r.fields,(o,a)=>{s+=o.length+Iu(a)}),s}(t.mapValue);default:throw ye(13486,{value:t})}}function km(t){return!!t&&"integerValue"in t}function Py(t){return!!t&&"arrayValue"in t}function Kf(t){return!!t&&"mapValue"in t}function w3(t){return(t?.mapValue?.fields||{})[y3]?.stringValue===x3}function Ka(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return{...t}}function b3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===v3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Ka(a):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){mh(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new hr(Ka(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,s,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new bn(e,0,Pe.min(),Pe.min(),Pe.min(),hr.empty(),0)}static newFoundDocument(e,n,r,s){return new bn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new bn(e,2,n,Pe.min(),Pe.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Pe.min(),Pe.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.position=e,this.inclusive=n}}function Yw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=xi(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function _3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{}class et extends TC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new k3(e,r):n==="in"?new j3(e,r):n==="not-in"?new T3(e,r):n==="array-contains-any"?new I3(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C3(e,r):new N3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xi(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends TC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ws(e,n)}matches(e){return IC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IC(t){return t.op==="and"}function PC(t){return E3(t)&&IC(t)}function E3(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function jm(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+wi(t.value);if(PC(t))return t.filters.map(e=>jm(e)).join(",");{const e=t.filters.map(n=>jm(n)).join(",");return`${t.op}(${e})`}}function AC(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof ws?function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&AC(a,s.filters[l]),!0):!1}(t,e):void ye(19439)}function RC(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${wi(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(RC).join(" ,")+"}"}(t):"Filter"}class S3 extends et{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class C3 extends et{constructor(e,n){super(e,"in",n),this.keys=MC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N3 extends et{constructor(e,n){super(e,"not-in",n),this.keys=MC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MC(t,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class k3 extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Py(n)&&Sl(n.arrayValue,this.value)}}class j3 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class T3 extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sl(this.value.arrayValue,n)}}class I3 extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n=null,r=[],s=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function Xw(t,e=null,n=[],r=[],s=null,o=null,a=null){return new P3(t,e,n,r,s,o,a)}function Ay(t){const e=ht(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),jy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wi(r)).join(",")),e.Te=n}return e.Te}function Ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qw(t.startAt,e.startAt)&&Qw(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A3(t,e,n,r,s,o,a,l){return new gh(t,e,n,r,s,o,a,l)}function R3(t){return new gh(t)}function Jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M3(t){return t.collectionGroup!==null}function qa(t){const e=ht(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ut(St.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wd(o,r))}),n.has(St.keyField().canonicalString())||e.Ie.push(new wd(St.keyField(),r))}return e.Ie}function qs(t){const e=ht(t);return e.Ee||(e.Ee=D3(e,qa(t))),e.Ee}function D3(t,e){if(t.limitType==="F")return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new wd(s.field,o)});const n=t.endAt?new xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xd(t.startAt.position,t.startAt.inclusive):null;return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function DC(t,e){return Ry(qs(t),qs(e))&&t.limitType===e.limitType}function OC(t){return`${Ay(qs(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>RC(s)).join(", ")}]`),jy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wi(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function My(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of qa(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=Yw(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,qa(r),s)||r.endAt&&!function(a,l,c){const d=Yw(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,qa(r),s))}(t,e)}function O3(t){return(e,n)=>{let r=!1;for(const s of qa(t)){const o=L3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function L3(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),d=l.data.field(o);return c!==null&&d!==null?xi(c,d):ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mh(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return f3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new fn(pe.comparator);function Im(){return F3}const LC=new fn(pe.comparator);function Kc(...t){let e=LC;for(const n of t)e=e.insert(n.key,n);return e}function V3(t){let e=LC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return Ya()}function FC(){return Ya()}function Ya(){return new bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const $3=new ut(pe.comparator);function Ut(...t){let e=$3;for(const n of t)e=e.add(n);return e}const z3=new ut(be);function U3(){return z3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function H3(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function G3(t,e,n){return t instanceof Pm?function(s,o){const a={fields:{[NC]:{stringValue:CC},[jC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ty(o)&&(o=Iy(o)),o&&(a.fields[kC]=o),{mapValue:a}}(n,e):t instanceof bd?VC(t,e):t instanceof _d?$C(t,e):function(s,o){const a=K3(s,o),l=Zw(a)+Zw(s.Ae);return km(a)&&km(s.Ae)?H3(l):B3(s.serializer,l)}(t,e)}function W3(t,e,n){return t instanceof bd?VC(t,e):t instanceof _d?$C(t,e):n}function K3(t,e){return t instanceof Am?function(r){return km(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Pm extends yh{}class bd extends yh{constructor(e){super(),this.elements=e}}function VC(t,e){const n=zC(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class _d extends yh{constructor(e){super(),this.elements=e}}function $C(t,e){let n=zC(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class Am extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zw(t){return at(t.integerValue||t.doubleValue)}function zC(t){return Py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bd&&s instanceof bd||r instanceof _d&&s instanceof _d?yi(r.elements,s.elements,er):r instanceof Am&&s instanceof Am?er(r.Ae,s.Ae):r instanceof Pm&&s instanceof Pm}(t.transform,e.transform)}class Ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dy{}function UC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q3(t.key,Ys.none()):new Oy(t.key,t.data,Ys.none());{const n=t.data,r=hr.empty();let s=new ut(St.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new vh(t.key,r,new ns(s.toArray()),Ys.none())}}function Y3(t,e,n){t instanceof Oy?function(s,o,a){const l=s.value.clone(),c=tb(s.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof vh?function(s,o,a){if(!Pu(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=tb(s.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(BC(s)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof Oy?function(o,a,l,c){if(!Pu(o.precondition,a))return l;const d=o.value.clone(),h=nb(o.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof vh?function(o,a,l,c){if(!Pu(o.precondition,a))return l;const d=nb(o.fieldTransforms,c,a),h=a.data;return h.setAll(BC(o)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,l){return Pu(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function eb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yi(r,s,(o,a)=>q3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oy extends Dy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vh extends Dy{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tb(t,e,n){const r=new Map;Nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,l=e.data.field(o.field);r.set(o.field,W3(a,l,n[s]))}return r}function nb(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,G3(o,a,e))}return r}class Q3 extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Y3(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FC();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(s.key)?null:l;const c=UC(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&yi(this.mutations,e.mutations,(n,r)=>eb(n,r))&&yi(this.baseMutations,e.baseMutations,(n,r)=>eb(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,me;function Z3(t){if(t===void 0)return Xl("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Ve.OK:return Y.OK;case Ve.CANCELLED:return Y.CANCELLED;case Ve.UNKNOWN:return Y.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return Y.INTERNAL;case Ve.UNAVAILABLE:return Y.UNAVAILABLE;case Ve.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ve.NOT_FOUND:return Y.NOT_FOUND;case Ve.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ve.ABORTED:return Y.ABORTED;case Ve.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ve.DATA_LOSS:return Y.DATA_LOSS;default:return ye(39323,{code:t})}}(me=Ve||(Ve={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Sy([4294967295,4294967295],0);class e5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rb(t){return Nt(!!t,49232),Pe.fromTimestamp(function(n){const r=co(n);return new Ke(r.seconds,r.nanos)}(t))}function sb(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t5(t){const e=Ze.fromString(t);return Nt(o5(e),10190,{key:e.toString()}),e}function n5(t){const e=t5(t);return e.length===4?Ze.emptyPath():r5(e)}function r5(t){return Nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s5(t){let e=n5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Nt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(m){const f=HC(m);return f instanceof ws&&PC(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(f=>function(v){return new wd(Mo(v.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,jy(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,y=m.values||[];return new xd(y,f)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const f=!m.before,y=m.values||[];return new xd(y,f)}(n.endAt)),A3(e,s,a,o,l,"F",c,d)}function HC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mo(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mo(n.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Mo(n.unaryFilter.field);return et.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>HC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(t):ye(30097,{filter:t})}function Mo(t){return St.fromServerFormat(t.fieldPath)}function o5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.yt=e}}function a5(t){const e=s5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.Cn=new c5}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(xs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class c5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(Ze.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GC=41943040;class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(GC,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bi(0)}static cr(){return new bi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",u5=1048576;function ab([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class d5{constructor(e){this.Ir=e,this.buffer=new ut(ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ph(n)?te(ib,"Ignoring IndexedDB error during garbage collection: ",n):await l3(n)}await this.Vr(3e5)})}}class f5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ky.ce);const r=new d5(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(ob)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ob):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,a=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),Ro()<=fe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:m})))}}function p5(t,e){return new f5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.changes=new bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qa(r.mutation,s,ns.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=Kc();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let o=Im();const a=Ya(),l=function(){return Ya()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof vh)?o=o.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Qa(h.mutation,d,h.mutation.getFieldMask(),Ke.now())):a.set(d.key,ns.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new g5(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ya();let s=new fn((a,l)=>a-l),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||ns.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(s.get(l.batchId)||Ut()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=FC();h.forEach(f=>{if(!o.has(f)){const y=UC(n.get(f),r.get(f));y!==null&&m.set(f,y),o=o.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):U.resolve(Gs());let l=El,c=o;return a.next(d=>U.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,Ut())).next(h=>({batchId:l,changes:V3(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=Kc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=Kc();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,c=>{const d=function(m,f){return new gh(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,f)=>{a=a.insert(m,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,bn.newInvalidDocument(h)))});let l=Kc();return a.forEach((c,d)=>{const h=o.get(c);h!==void 0&&Qa(h.mutation,d,ns.empty(),Ke.now()),My(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rb(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:a5(s.bundledQuery),readTime:rb(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.overlays=new fn(pe.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return U.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),o=n.length+1,a=new pe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new fn((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Gs(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Gs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new J3(n,r));let o=this.qr.get(n);o===void 0&&(o=Ut(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Qr=new ut(Xe.$r),this.Ur=new ut(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new pe(new Ze([])),r=new Xe(n,e),s=new Xe(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Ze([])),r=new Xe(n,e),s=new Xe(n,e+1);let o=Ut();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(Xe.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new X3(o,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Xe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?u3:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(be);return n.forEach(s=>{const o=new Xe(s,0),a=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const a=new Xe(new pe(o),0);let l=new ut(be);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},a),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const o=new Xe(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.ri=e,this.docs=function(){return new fn(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=Im();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():bn.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Im();const a=n.path,l=new pe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||o3(s3(h),r)<=0||(s.has(h.key)||My(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ye(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E5(this)}getSize(e){return U.resolve(this.size)}}class E5 extends m5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.persistence=e,this.si=new bo(n=>Ay(n),Ry),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ly,this.targetCount=0,this.ai=bi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(o).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.ui={},this.overlays={},this.ci=new ky(0),this.li=!1,this.li=!0,this.hi=new w5,this.referenceDelegate=e(this),this.Pi=new S5(this),this.indexManager=new l5,this.remoteDocumentCache=function(s){return new _5(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new i5(n),this.Ii=new v5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new C5(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class C5 extends a3{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ri=new Ly,this.Vi=null}static mi(e){return new Fy(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=pe.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.pi=new bo(r=>d3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=p5(this,n)}static mi(e,n){return new Ed(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,o.removeEntry(a,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Iu(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ut(),s=Ut();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Vy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return c4()?8:c3(wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new N5;return this.Ss(e,n,a).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ro()<=fe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Ro()<=fe.DEBUG&&te("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ro()<=fe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):U.resolve())}ys(e,n){if(Jw(n))return U.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tm(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ut(...o);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,Tm(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Jw(n)||s.isEqual(Pe.min())?U.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?U.resolve(null):(Ro()<=fe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ba(n)),this.vs(e,a,n,r3(s,El)).next(l=>l))})}Ds(e,n){let r=new ut(O3(e));return n.forEach((s,o)=>{My(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Ro()<=fe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ba(n)),this.ps.getDocumentsMatchingQuery(e,n,xs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="LocalStore";class T5{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new fn(be),this.xs=new bo(o=>Ay(o),Ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function I5(t,e,n,r){return new T5(t,e,n,r)}async function KC(t,e){const n=ht(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=Ut();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}class lb{constructor(){this.activeTargetIds=U3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P5{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Rm(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",R5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===yd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=Rm(),l=this.zo(e,n.toUriEncodedString());te(qf,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:d}=new URL(l),h=Fi(d);return this.Jo(e,l,c,r,h).then(m=>(te(qf,`Received RPC '${e}' ${a}: `,m),m),m=>{throw fh(qf,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ui}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=R5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class O5 extends M5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=Rm();return new Promise((l,c)=>{const d=new gC;d.setWithCredentials(!0),d.listenOnce(yC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Tu.NO_ERROR:const m=d.getResponseJson();te(gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Tu.TIMEOUT:te(gt,`RPC '${e}' ${a} timed out`),c(new oe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const f=d.getStatus();if(te(gt,`RPC '${e}' ${a} failed with status:`,f,"response text:",d.getResponseText()),f>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const x=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(w)>=0?w:Y.UNKNOWN}(v.status);c(new oe(x,v.message))}else c(new oe(Y.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new oe(Y.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{te(gt,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);te(gt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Rm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wC(),l=xC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");te(gt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=a.createWebChannel(h,c);this.I_(m);let f=!1,y=!1;const v=new D5({Yo:N=>{y?te(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(f||(te(gt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),f=!0),te(gt,`RPC '${e}' stream ${s} sending:`,N),m.send(N))},Zo:()=>m.close()}),x=(N,b,w)=>{N.listen(b,S=>{try{w(S)}catch(P){setTimeout(()=>{throw P},0)}})};return x(m,Aa.EventType.OPEN,()=>{y||(te(gt,`RPC '${e}' stream ${s} transport opened.`),v.o_())}),x(m,Aa.EventType.CLOSE,()=>{y||(y=!0,te(gt,`RPC '${e}' stream ${s} transport closed`),v.a_(),this.E_(m))}),x(m,Aa.EventType.ERROR,N=>{y||(y=!0,fh(gt,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),v.a_(new oe(Y.UNAVAILABLE,"The operation could not be completed")))}),x(m,Aa.EventType.MESSAGE,N=>{if(!y){const b=N.data[0];Nt(!!b,16349);const w=b,S=w?.error||w[0]?.error;if(S){te(gt,`RPC '${e}' stream ${s} received error:`,S);const P=S.status;let j=function(E){const k=Ve[E];if(k!==void 0)return Z3(k)}(P),D=S.message;j===void 0&&(j=Y.INTERNAL,D="Unknown error status: "+P+" with message "+S.message),y=!0,v.a_(new oe(j,D)),m.close()}else te(gt,`RPC '${e}' stream ${s} received:`,b),v.u_(b)}}),x(l,vC.STAT_EVENT,N=>{N.stat===Em.PROXY?te(gt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Em.NOPROXY&&te(gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){return new e5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{}class V5 extends F5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,sb(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Y.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,sb(n,r),s,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new oe(Y.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xl(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="RemoteStore";class z5{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{zy(this)&&(te($y,"Restarting streams for network reachability change."),await async function(c){const d=ht(c);d.Ea.add(4),await Zl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await xh(d)}(this))})}),this.Ra=new $5(r,s)}}async function xh(t){if(zy(t))for(const e of t.da)await e(!0)}async function Zl(t){for(const e of t.da)await e(!1)}function zy(t){return ht(t).Ea.size===0}async function db(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),te($y,"RemoteStore received new credentials");const r=zy(n);n.Ea.add(3),await Zl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xh(n)}async function U5(t,e){const n=ht(t);e?(n.Ea.delete(2),await xh(n)):e||(n.Ea.add(2),await Zl(n),n.Ra.set("Unknown"))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new Uy(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B5(t,e){if(Xl("AsyncQueue",`${e}: ${t}`),ph(t))return new oe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}class H5{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ht(n),o=s.queries;s.queries=hb(),o.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new oe(Y.ABORTED,"Firestore shutting down"))}}function hb(){return new bo(t=>OC(t),DC)}function G5(t){t.Ca.forEach(e=>{e.next()})}var fb,pb;(pb=fb||(fb={})).Ma="default",pb.Cache="cache";const W5="SyncEngine";class K5{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new bo(l=>OC(l),DC),this.Iu=new Map,this.Eu=new Set,this.du=new fn(pe.comparator),this.Au=new Map,this.Ru=new Ly,this.Vu={},this.mu=new Map,this.fu=bi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function mb(t,e,n){const r=ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=ht(a);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(l)&&(d=!0)}),d&&G5(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q5(t,e,n){const r=ht(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){s.push(d);const h=Vy.As(c.targetId,d);o.push(h)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,d){const h=ht(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(d,f=>U.forEach(f.Es,y=>h.persistence.referenceDelegate.addReference(m,f.targetId,y)).next(()=>U.forEach(f.ds,y=>h.persistence.referenceDelegate.removeReference(m,f.targetId,y)))))}catch(m){if(!ph(m))throw m;te(j5,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const y=h.Ms.get(f),v=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(f,x)}}}(r.localStore,o))}async function Y5(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){te(W5,"User change. New user:",e.toKey());const r=await KC(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new oe(Y.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await q5(n,r.Ls)}}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qC(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I5(this.persistence,new k5,e.initialUser,this.serializer)}Cu(e){return new WC(Fy.mi,this.serializer)}Du(e){return new P5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class Q5 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nt(this.persistence.referenceDelegate instanceof Ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new WC(r=>Ed.mi(r,n),this.serializer)}}class Mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,this.syncEngine),await U5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H5}()}createDatastore(e){const n=qC(e.databaseInfo.databaseId),r=function(o){return new O5(o)}(e.databaseInfo);return function(o,a,l,c){return new V5(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,l){return new z5(r,s,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>mb(this.syncEngine,n,0),function(){return ub.v()?new ub:new A5}())}createSyncEngine(e,n){return function(s,o,a,l,c,d,h){const m=new K5(s,o,a,l,c,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=ht(n);te($y,"RemoteStore shutting down."),r.Ea.add(5),await Zl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class X5{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=EC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{te(bs,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(te(bs,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=B5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),te(bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YC(t);te(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>db(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>db(e.remoteStore,s)),t._onlineComponents=e}async function YC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(bs,"Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fh("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new Sd)}}else te(bs,"Using default OfflineComponentProvider"),await Qf(t,new Q5(void 0));return t._offlineComponents}async function J5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(bs,"Using user provided OnlineComponentProvider"),await gb(t,t._uninitializedComponentsProvider._online)):(te(bs,"Using default OnlineComponentProvider"),await gb(t,new Mm))),t._onlineComponents}function QC(t){return YC(t).then(e=>e.persistence)}function XC(t){return J5(t).then(e=>e.remoteStore)}function Z5(t){return t.asyncQueue.enqueue(async()=>{const e=await QC(t),n=await XC(t);return e.setNetworkEnabled(!0),function(s){const o=ht(s);return o.Ea.delete(0),xh(o)}(n)})}function eL(t){return t.asyncQueue.enqueue(async()=>{const e=await QC(t),n=await XC(t);return e.setNetworkEnabled(!1),async function(s){const o=ht(s);o.Ea.add(0),await Zl(o),o.Ra.set("Offline")}(n)})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firestore.googleapis.com",vb=!0;class xb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZC,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u5)throw new oe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eN{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HO;switch(r.type){case"firstParty":return new qO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yb.get(n);r&&(te("ComponentProvider","Removing Datastore"),yb.delete(n),r.terminate())}(this),Promise.resolve()}}function tL(t,e,n,r={}){t=Ny(t,eN);const s=Fi(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(IS(`https://${l}`),PS("Firestore",!0)),o.host!==ZC&&o.host!==l&&fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!oo(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=yt.MOCK_USER;else{d=e4(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new oe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yt(m)}t._authCredentials=new GO(new _C(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new By(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jl(n,Wn._jsonSchema))return new Wn(e,r||null,new pe(Ze.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:Be("string",Wn._jsonSchemaVersion),referencePath:Be("string")};class Hy extends By{constructor(e,n,r){super(e,n,R3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new pe(e))}withConverter(e){return new Hy(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="AsyncQueue";class bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L5(this,"async_queue_retry"),this._c=()=>{const r=Yf();r&&te(wb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ph(e))throw e;te(wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xl("INTERNAL UNHANDLED ERROR: ",_b(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Uy.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&ye(47125,{Pc:_b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _b(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gy extends eN{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new bb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function Wy(t,e){const n=typeof t=="object"?t:MS(),r=typeof t=="string"?t:yd,s=lh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=JR("firestore");o&&tL(s,...o)}return s}function tN(t){if(t._terminated)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nL(t),t._firestoreClient}function nL(t){const e=t._freezeSettings(),n=function(s,o,a,l){return new g3(s,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,JC(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}}(t._componentsProvider))}function Ky(t){return Z5(tN(t=Ny(t,Gy)))}function Cl(t){return eL(tN(t=Ny(t,Gy)))}function rL(t){return mM(t.app,"firestore",t._databaseId.database),t._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(Zn.fromBase64String(e))}catch(n){throw new oe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fr(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:Be("string",fr._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:Be("string",Qs._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xs(e.vectorValues);throw new oe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:Be("string",Xs._jsonSchemaVersion),vectorValues:Be("object")};const sL=new RegExp("[~\\*/\\[\\]]");function oL(t,e,n){if(e.search(sL)>=0)throw Eb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new nN(...e.split("."))._internalPath}catch{throw Eb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Eb(t,e,n,r,s){let o=`Function ${e}() called with invalid data`;o+=". ";let a="";return new oe(Y.INVALID_ARGUMENT,o+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iL extends rN{data(){return super.data()}}function sN(t,e){return typeof e=="string"?oL(t,e):e instanceof nN?e._internalPath:e._delegate._internalPath}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oi extends rN{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oi._jsonSchemaVersion="firestore/documentSnapshot/1.0",oi._jsonSchema={type:Be("string",oi._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Au extends oi{data(e={}){return super.data(e)}}class Xa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Au(this._firestore,this._userDataWriter,r.key,r,new Yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Au(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Au(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:aL(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=EC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:t})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Be("string",Xa._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};(function(e,n=!0){(function(s){Ui=s})(Vi),mi(new io("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Gy(new WO(r.getProvider("auth-internal")),new YO(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(d.options.projectId,h)}(a,s),a);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),ps(Lw,Fw,e),ps(Lw,Fw,"esm2020")})();const lL={apiKey:"AIzaSyBOx_8NdxOOgqEiG7FHjbqWyQrkiaVa_wg",authDomain:"em-estudio-865c5.firebaseapp.com",projectId:"em-estudio-865c5",storageBucket:"em-estudio-865c5.firebasestorage.app",messagingSenderId:"322727128507",appId:"1:322727128507:web:c07f80d9554b2179a4289e"},oN=py(lL);Wy(oN);const Ra=$O(oN);var cL={};const iN=p.createContext(null),uL=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[o,a]=p.useState(null);p.useEffect(()=>{const h=TD(Ra,m=>{m&&m.email===cL.VITE_ADMIN_EMAIL?n(m):n(null),s(!1)},m=>{a(m),s(!1)});return()=>h()},[]);const d={user:e,isLoading:r,error:o,login:async(h,m,f=!1)=>{s(!0),a(null);try{await ND(Ra,f?lC:by),await CD(Ra,h,m)}catch(y){a(y)}finally{s(!1)}},logout:async()=>{s(!0),a(null);try{await ID(Ra)}catch(h){a(h)}finally{s(!1)}}};return i.jsx(iN.Provider,{value:d,children:t})},aN=()=>p.useContext(iN);function Sb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wh(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Sb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Sb(t[s],null)}}}}function xe(...t){return p.useCallback(wh(...t),t)}function ho(t){const e=dL(t),n=p.forwardRef((r,s)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(fL);if(c){const d=c.props.children,h=l.map(m=>m===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:m);return i.jsx(e,{...a,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var lN=ho("Slot");function dL(t){const e=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const a=mL(s),l=pL(o,s.props);return s.type!==p.Fragment&&(l.ref=r?wh(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cN=Symbol("radix.slottable");function hL(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cN,e}function fL(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cN}function pL(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function mL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uN(t))&&(r&&(r+=" "),r+=e);return r}const Cb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nb=dN,qy=(t,e)=>n=>{var r;if(e?.variants==null)return Nb(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(d=>{const h=n?.[d],m=o?.[d];if(h===null)return null;const f=Cb(h)||Cb(m);return s[d][f]}),l=n&&Object.entries(n).reduce((d,h)=>{let[m,f]=h;return f===void 0||(d[m]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:f,...y}=h;return Object.entries(y).every(v=>{let[x,N]=v;return Array.isArray(N)?N.includes({...o,...l}[x]):{...o,...l}[x]===N})?[...d,m,f]:d},[]);return Nb(t,a,c,n?.class,n?.className)},Yy="-",gL=t=>{const e=vL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Yy);return l[0]===""&&l.length!==1&&l.shift(),hN(l,e)||yL(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},hN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?hN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Yy);return e.validators.find(({validator:a})=>a(o))?.classGroupId},kb=/^\[(.+)\]$/,yL=t=>{if(kb.test(t)){const e=kb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vL=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Dm(n[s],r,s,e);return r},Dm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:jb(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(xL(s)){Dm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{Dm(a,jb(e,o),n,r)})})},jb=(t,e)=>{let n=t;return e.split(Yy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xL=t=>t.isThemeGetter,wL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},Om="!",Lm=":",bL=Lm.length,_L=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let a=0,l=0,c=0,d;for(let v=0;v<s.length;v++){let x=s[v];if(a===0&&l===0){if(x===Lm){o.push(s.slice(c,v)),c=v+bL;continue}if(x==="/"){d=v;continue}}x==="["?a++:x==="]"?a--:x==="("?l++:x===")"&&l--}const h=o.length===0?s:s.substring(c),m=EL(h),f=m!==h,y=d&&d>c?d-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const s=e+Lm,o=r;r=a=>a.startsWith(s)?o(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},EL=t=>t.endsWith(Om)?t.substring(0,t.length-1):t.startsWith(Om)?t.substring(1):t,SL=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...o.sort(),a),o=[]):o.push(a)}),s.push(...o.sort()),s}},CL=t=>({cache:wL(t.cacheSize),parseClassName:_L(t),sortModifiers:SL(t),...gL(t)}),NL=/\s+/,kL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,a=[],l=t.trim().split(NL);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:m,modifiers:f,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:x}=n(h);if(m){c=h+(c.length>0?" "+c:c);continue}let N=!!x,b=r(N?v.substring(0,x):v);if(!b){if(!N){c=h+(c.length>0?" "+c:c);continue}if(b=r(v),!b){c=h+(c.length>0?" "+c:c);continue}N=!1}const w=o(f).join(":"),S=y?w+Om:w,P=S+b;if(a.includes(P))continue;a.push(P);const j=s(b,N);for(let D=0;D<j.length;++D){const C=j[D];a.push(S+C)}c=h+(c.length>0?" "+c:c)}return c};function jL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fN(e))&&(r&&(r+=" "),r+=n);return r}const fN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fN(t[r]))&&(n&&(n+=" "),n+=e);return n};function TL(t,...e){let n,r,s,o=a;function a(c){const d=e.reduce((h,m)=>m(h),t());return n=CL(d),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=kL(c,n);return s(c,h),h}return function(){return o(jL.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IL=/^\d+\/\d+$/,PL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ML=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jo=t=>IL.test(t),le=t=>!!t&&!Number.isNaN(Number(t)),Hr=t=>!!t&&Number.isInteger(Number(t)),Xf=t=>t.endsWith("%")&&le(t.slice(0,-1)),lr=t=>PL.test(t),OL=()=>!0,LL=t=>AL.test(t)&&!RL.test(t),gN=()=>!1,FL=t=>ML.test(t),VL=t=>DL.test(t),$L=t=>!J(t)&&!Z(t),zL=t=>Bi(t,xN,gN),J=t=>pN.test(t),Ls=t=>Bi(t,wN,LL),Jf=t=>Bi(t,WL,le),Tb=t=>Bi(t,yN,gN),UL=t=>Bi(t,vN,VL),Qc=t=>Bi(t,bN,FL),Z=t=>mN.test(t),_a=t=>Hi(t,wN),BL=t=>Hi(t,KL),Ib=t=>Hi(t,yN),HL=t=>Hi(t,xN),GL=t=>Hi(t,vN),Xc=t=>Hi(t,bN,!0),Bi=(t,e,n)=>{const r=pN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Hi=(t,e,n=!1)=>{const r=mN.exec(t);return r?r[1]?e(r[1]):n:!1},yN=t=>t==="position"||t==="percentage",vN=t=>t==="image"||t==="url",xN=t=>t==="length"||t==="size"||t==="bg-size",wN=t=>t==="length",WL=t=>t==="number",KL=t=>t==="family-name",bN=t=>t==="shadow",qL=()=>{const t=Ge("color"),e=Ge("font"),n=Ge("text"),r=Ge("font-weight"),s=Ge("tracking"),o=Ge("leading"),a=Ge("breakpoint"),l=Ge("container"),c=Ge("spacing"),d=Ge("radius"),h=Ge("shadow"),m=Ge("inset-shadow"),f=Ge("text-shadow"),y=Ge("drop-shadow"),v=Ge("blur"),x=Ge("perspective"),N=Ge("aspect"),b=Ge("ease"),w=Ge("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...P(),Z,J],D=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],E=()=>[Z,J,c],k=()=>[jo,"full","auto",...E()],I=()=>[Hr,"none","subgrid",Z,J],M=()=>["auto",{span:["full",Hr,Z,J]},Hr,Z,J],R=()=>[Hr,"auto",Z,J],T=()=>["auto","min","max","fr",Z,J],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...E()],q=()=>[jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],O=()=>[t,Z,J],z=()=>[...P(),Ib,Tb,{position:[Z,J]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",HL,zL,{size:[Z,J]}],ue=()=>[Xf,_a,Ls],ge=()=>["","none","full",d,Z,J],he=()=>["",le,_a,Ls],rt=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[le,Xf,Ib,Tb],Zt=()=>["","none",v,Z,J],ir=()=>["none",le,Z,J],Mr=()=>["none",le,Z,J],Ps=()=>[le,Z,J],ar=()=>[jo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[lr],breakpoint:[lr],color:[OL],container:[lr],"drop-shadow":[lr],ease:["in","out","in-out"],font:[$L],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[lr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[lr],shadow:[lr],spacing:["px",le],text:[lr],"text-shadow":[lr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jo,J,Z,N]}],container:["container"],columns:[{columns:[le,J,Z,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Hr,"auto",Z,J]}],basis:[{basis:[jo,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[le,jo,"auto","initial","none",J]}],grow:[{grow:["",le,Z,J]}],shrink:[{shrink:["",le,Z,J]}],order:[{order:[Hr,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,_a,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,Jf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xf,J]}],"font-family":[{font:[BL,J,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Z,J]}],"line-clamp":[{"line-clamp":[le,"none",Z,Jf]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...rt(),"wavy"]}],"text-decoration-thickness":[{decoration:[le,"from-font","auto",Z,Ls]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[le,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hr,Z,J],radial:["",Z,J],conic:[Hr,Z,J]},GL,UL]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...rt(),"hidden","none"]}],"divide-style":[{divide:[...rt(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...rt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[le,Z,J]}],"outline-w":[{outline:["",le,_a,Ls]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",h,Xc,Qc]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",m,Xc,Qc]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[le,Ls]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",f,Xc,Qc]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[le,Z,J]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[le]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[le]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:Zt()}],brightness:[{brightness:[le,Z,J]}],contrast:[{contrast:[le,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",y,Xc,Qc]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",le,Z,J]}],"hue-rotate":[{"hue-rotate":[le,Z,J]}],invert:[{invert:["",le,Z,J]}],saturate:[{saturate:[le,Z,J]}],sepia:[{sepia:["",le,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":Zt()}],"backdrop-brightness":[{"backdrop-brightness":[le,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[le,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",le,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[le,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",le,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[le,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[le,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",le,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[le,"initial",Z,J]}],ease:[{ease:["linear","initial",b,Z,J]}],delay:[{delay:[le,Z,J]}],animate:[{animate:["none",w,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Z,J]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:ir()}],"rotate-x":[{"rotate-x":ir()}],"rotate-y":[{"rotate-y":ir()}],"rotate-z":[{"rotate-z":ir()}],scale:[{scale:Mr()}],"scale-x":[{"scale-x":Mr()}],"scale-y":[{"scale-y":Mr()}],"scale-z":[{"scale-z":Mr()}],"scale-3d":["scale-3d"],skew:[{skew:Ps()}],"skew-x":[{"skew-x":Ps()}],"skew-y":[{"skew-y":Ps()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ar()}],"translate-x":[{"translate-x":ar()}],"translate-y":[{"translate-y":ar()}],"translate-z":[{"translate-z":ar()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[le,_a,Ls,Jf]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},YL=TL(qL);function ce(...t){return YL(dN(t))}const QL=qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ee=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?lN:"button";return i.jsx(a,{"data-slot":"button",className:ce(QL({variant:e,size:n,className:t})),ref:o,...s})});ee.displayName="Button";function XL(t,e){const n=p.createContext(e),r=o=>{const{children:a,...l}=o,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(o){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Tt(t,e=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const d=m=>{const{scope:f,children:y,...v}=m,x=f?.[t]?.[c]||l,N=p.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:N,children:y})};d.displayName=o+"Provider";function h(m,f){const y=f?.[t]?.[c]||l,v=p.useContext(y);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,h]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=l?.[t]||o;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,JL(s,...e)]}function JL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function lt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>e.current?.(...n),[])}var pn=globalThis?.document?p.useLayoutEffect:()=>{},ZL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=ZL.reduce((t,e)=>{const n=ho(`Primitive.${e}`),r=p.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _N(t,e){t&&sh.flushSync(()=>t.dispatchEvent(e))}var EN={exports:{}},SN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=p;function e6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var t6=typeof Object.is=="function"?Object.is:e6,n6=_i.useState,r6=_i.useEffect,s6=_i.useLayoutEffect,o6=_i.useDebugValue;function i6(t,e){var n=e(),r=n6({inst:{value:n,getSnapshot:e}}),s=r[0].inst,o=r[1];return s6(function(){s.value=n,s.getSnapshot=e,Zf(s)&&o({inst:s})},[t,n,e]),r6(function(){return Zf(s)&&o({inst:s}),t(function(){Zf(s)&&o({inst:s})})},[t]),o6(n),n}function Zf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!t6(t,n)}catch{return!0}}function a6(t,e){return e()}var l6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a6:i6;SN.useSyncExternalStore=_i.useSyncExternalStore!==void 0?_i.useSyncExternalStore:l6;EN.exports=SN;var c6=EN.exports;function u6(){return c6.useSyncExternalStore(d6,()=>!0,()=>!1)}function d6(){return()=>{}}var Qy="Avatar",[h6]=Tt(Qy),[f6,CN]=h6(Qy),NN=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=p.useState("idle");return i.jsx(f6,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(ie.span,{...r,ref:e})})});NN.displayName=Qy;var kN="AvatarImage",p6=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,a=CN(kN,n),l=m6(r,o),c=lt(d=>{s(d),a.onImageLoadingStatusChange(d)});return pn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ie.img,{...o,ref:e,src:r}):null});p6.displayName=kN;var jN="AvatarFallback",TN=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=CN(jN,n),[a,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(ie.span,{...s,ref:e}):null});TN.displayName=jN;function Pb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function m6(t,{referrerPolicy:e,crossOrigin:n}){const r=u6(),s=p.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=p.useState(()=>Pb(o,t));return pn(()=>{l(Pb(o,t))},[o,t]),pn(()=>{const c=m=>()=>{l(m)};if(!o)return;const d=c("loaded"),h=c("error");return o.addEventListener("load",d),o.addEventListener("error",h),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",h)}},[o,n,e]),a}var g6=NN,y6=TN;function v6({className:t,...e}){return i.jsx(g6,{"data-slot":"avatar",className:ce("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function x6({className:t,...e}){return i.jsx(y6,{"data-slot":"avatar-fallback",className:ce("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const w6=qy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),$e=p.forwardRef(({className:t,variant:e,asChild:n=!1,...r},s)=>{const o=n?lN:"span";return i.jsx(o,{ref:s,"data-slot":"badge",className:ce(w6({variant:e}),t),...r})});$e.displayName="Badge";function Q(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function b6(t,e=globalThis?.document){const n=lt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _6="DismissableLayer",Fm="dismissableLayer.update",E6="dismissableLayer.pointerDownOutside",S6="dismissableLayer.focusOutside",Ab,IN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ec=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=p.useContext(IN),[h,m]=p.useState(null),f=h?.ownerDocument??globalThis?.document,[,y]=p.useState({}),v=xe(e,C=>m(C)),x=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(N),w=h?x.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,P=w>=b,j=k6(C=>{const E=C.target,k=[...d.branches].some(I=>I.contains(E));!P||k||(s?.(C),a?.(C),C.defaultPrevented||l?.())},f),D=j6(C=>{const E=C.target;[...d.branches].some(I=>I.contains(E))||(o?.(C),a?.(C),C.defaultPrevented||l?.())},f);return b6(C=>{w===d.layers.size-1&&(r?.(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ab=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Rb(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ab)}},[h,f,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Rb())},[h,d]),p.useEffect(()=>{const C=()=>y({});return document.addEventListener(Fm,C),()=>document.removeEventListener(Fm,C)},[]),i.jsx(ie.div,{...c,ref:v,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,j.onPointerDownCapture)})});ec.displayName=_6;var C6="DismissableLayerBranch",N6=p.forwardRef((t,e)=>{const n=p.useContext(IN),r=p.useRef(null),s=xe(e,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(ie.div,{...t,ref:s})});N6.displayName=C6;function k6(t,e=globalThis?.document){const n=lt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){PN(E6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function j6(t,e=globalThis?.document){const n=lt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&PN(S6,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rb(){const t=new CustomEvent(Fm);document.dispatchEvent(t)}function PN(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_N(s,o):s.dispatchEvent(o)}var T6=s_[" useId ".trim().toString()]||(()=>{}),I6=0;function jn(t){const[e,n]=p.useState(T6());return pn(()=>{n(r=>r??String(I6++))},[t]),t||(e?`radix-${e}`:"")}const P6=["top","right","bottom","left"],_s=Math.min,Bt=Math.max,Cd=Math.round,Jc=Math.floor,Jn=t=>({x:t,y:t}),A6={left:"right",right:"left",bottom:"top",top:"bottom"},R6={start:"end",end:"start"};function Vm(t,e,n){return Bt(t,_s(e,n))}function Tr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return t.split("-")[0]}function Gi(t){return t.split("-")[1]}function Xy(t){return t==="x"?"y":"x"}function Jy(t){return t==="y"?"height":"width"}const M6=new Set(["top","bottom"]);function Kn(t){return M6.has(Ir(t))?"y":"x"}function Zy(t){return Xy(Kn(t))}function D6(t,e,n){n===void 0&&(n=!1);const r=Gi(t),s=Zy(t),o=Jy(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Nd(a)),[a,Nd(a)]}function O6(t){const e=Nd(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>R6[e])}const Mb=["left","right"],Db=["right","left"],L6=["top","bottom"],F6=["bottom","top"];function V6(t,e,n){switch(t){case"top":case"bottom":return n?e?Db:Mb:e?Mb:Db;case"left":case"right":return e?L6:F6;default:return[]}}function $6(t,e,n,r){const s=Gi(t);let o=V6(Ir(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map($m)))),o}function Nd(t){return t.replace(/left|right|bottom|top/g,e=>A6[e])}function z6(t){return{top:0,right:0,bottom:0,left:0,...t}}function AN(t){return typeof t!="number"?z6(t):{top:t,right:t,bottom:t,left:t}}function kd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ob(t,e,n){let{reference:r,floating:s}=t;const o=Kn(e),a=Zy(e),l=Jy(a),c=Ir(e),d=o==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Gi(e)){case"start":y[a]-=f*(n&&d?-1:1);break;case"end":y[a]+=f*(n&&d?-1:1);break}return y}const U6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=Ob(d,r,c),f=r,y={},v=0;for(let x=0;x<l.length;x++){const{name:N,fn:b}=l[x],{x:w,y:S,data:P,reset:j}=await b({x:h,y:m,initialPlacement:r,placement:f,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});h=w??h,m=S??m,y={...y,[N]:{...y[N],...P}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(d=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:m}=Ob(d,f,c)),x=-1)}return{x:h,y:m,placement:f,strategy:s,middlewareData:y}};async function Nl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:f=!1,padding:y=0}=Tr(e,t),v=AN(y),N=l[f?m==="floating"?"reference":"floating":m],b=kd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),w=m==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),P=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},j=kd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:c}):w);return{top:(b.top-j.top+v.top)/P.y,bottom:(j.bottom-b.bottom+v.bottom)/P.y,left:(b.left-j.left+v.left)/P.x,right:(j.right-b.right+v.right)/P.x}}const B6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Tr(t,e)||{};if(d==null)return{};const m=AN(h),f={x:n,y:r},y=Zy(s),v=Jy(y),x=await a.getDimensions(d),N=y==="y",b=N?"top":"left",w=N?"bottom":"right",S=N?"clientHeight":"clientWidth",P=o.reference[v]+o.reference[y]-f[y]-o.floating[v],j=f[y]-o.reference[y],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let C=D?D[S]:0;(!C||!await(a.isElement==null?void 0:a.isElement(D)))&&(C=l.floating[S]||o.floating[v]);const E=P/2-j/2,k=C/2-x[v]/2-1,I=_s(m[b],k),M=_s(m[w],k),R=I,T=C-x[v]-M,$=C/2-x[v]/2+E,L=Vm(R,$,T),B=!c.arrow&&Gi(s)!=null&&$!==L&&o.reference[v]/2-($<R?I:M)-x[v]/2<0,q=B?$<R?$-R:$-T:0;return{[y]:f[y]+q,data:{[y]:L,centerOffset:$-L-q,...B&&{alignmentOffset:q}},reset:B}}}),H6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...N}=Tr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Ir(s),w=Kn(l),S=Ir(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=f||(S||!x?[Nd(l)]:O6(l)),D=v!=="none";!f&&D&&j.push(...$6(l,x,v,P));const C=[l,...j],E=await Nl(e,N),k=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&k.push(E[b]),m){const $=D6(s,a,P);k.push(E[$[0]],E[$[1]])}if(I=[...I,{placement:s,overflows:k}],!k.every($=>$<=0)){var M,R;const $=(((M=o.flip)==null?void 0:M.index)||0)+1,L=C[$];if(L&&(!(m==="alignment"?w!==Kn(L):!1)||I.every(O=>Kn(O.placement)===w?O.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:L}};let B=(R=I.filter(q=>q.overflows[0]<=0).sort((q,O)=>q.overflows[1]-O.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(y){case"bestFit":{var T;const q=(T=I.filter(O=>{if(D){const z=Kn(O.placement);return z===w||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,W)=>z+W,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:T[0];q&&(B=q);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Lb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Fb(t){return P6.some(e=>t[e]>=0)}const G6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Tr(t,e);switch(r){case"referenceHidden":{const o=await Nl(e,{...s,elementContext:"reference"}),a=Lb(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Fb(a)}}}case"escaped":{const o=await Nl(e,{...s,altBoundary:!0}),a=Lb(o,n.floating);return{data:{escapedOffsets:a,escaped:Fb(a)}}}default:return{}}}}},RN=new Set(["left","top"]);async function W6(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ir(n),l=Gi(n),c=Kn(n)==="y",d=RN.has(a)?-1:1,h=o&&c?-1:1,m=Tr(e,t);let{mainAxis:f,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*h,y:f*d}:{x:f*d,y:y*h}}const K6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await W6(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},q6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:N=>{let{x:b,y:w}=N;return{x:b,y:w}}},...c}=Tr(t,e),d={x:n,y:r},h=await Nl(e,c),m=Kn(Ir(s)),f=Xy(m);let y=d[f],v=d[m];if(o){const N=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=y+h[N],S=y-h[b];y=Vm(w,y,S)}if(a){const N=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=v+h[N],S=v-h[b];v=Vm(w,v,S)}const x=l.fn({...e,[f]:y,[m]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:o,[m]:a}}}}}},Y6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Tr(t,e),h={x:n,y:r},m=Kn(s),f=Xy(m);let y=h[f],v=h[m];const x=Tr(l,e),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=f==="y"?"height":"width",P=o.reference[f]-o.floating[S]+N.mainAxis,j=o.reference[f]+o.reference[S]-N.mainAxis;y<P?y=P:y>j&&(y=j)}if(d){var b,w;const S=f==="y"?"width":"height",P=RN.has(Ir(s)),j=o.reference[m]-o.floating[S]+(P&&((b=a.offset)==null?void 0:b[m])||0)+(P?0:N.crossAxis),D=o.reference[m]+o.reference[S]+(P?0:((w=a.offset)==null?void 0:w[m])||0)-(P?N.crossAxis:0);v<j?v=j:v>D&&(v=D)}return{[f]:y,[m]:v}}}},Q6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...d}=Tr(t,e),h=await Nl(e,d),m=Ir(s),f=Gi(s),y=Kn(s)==="y",{width:v,height:x}=o.floating;let N,b;m==="top"||m==="bottom"?(N=m,b=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,N=f==="end"?"top":"bottom");const w=x-h.top-h.bottom,S=v-h.left-h.right,P=_s(x-h[N],w),j=_s(v-h[b],S),D=!e.middlewareData.shift;let C=P,E=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),D&&!f){const I=Bt(h.left,0),M=Bt(h.right,0),R=Bt(h.top,0),T=Bt(h.bottom,0);y?E=v-2*(I!==0||M!==0?I+M:Bt(h.left,h.right)):C=x-2*(R!==0||T!==0?R+T:Bt(h.top,h.bottom))}await c({...e,availableWidth:E,availableHeight:C});const k=await a.getDimensions(l.floating);return v!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function Wi(t){return MN(t)?(t.nodeName||"").toLowerCase():"#document"}function Kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(MN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MN(t){return bh()?t instanceof Node||t instanceof Kt(t).Node:!1}function Rn(t){return bh()?t instanceof Element||t instanceof Kt(t).Element:!1}function tr(t){return bh()?t instanceof HTMLElement||t instanceof Kt(t).HTMLElement:!1}function Vb(t){return!bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kt(t).ShadowRoot}const X6=new Set(["inline","contents"]);function tc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!X6.has(s)}const J6=new Set(["table","td","th"]);function Z6(t){return J6.has(Wi(t))}const eF=[":popover-open",":modal"];function _h(t){return eF.some(e=>{try{return t.matches(e)}catch{return!1}})}const tF=["transform","translate","scale","rotate","perspective"],nF=["transform","translate","scale","rotate","perspective","filter"],rF=["paint","layout","strict","content"];function ev(t){const e=tv(),n=Rn(t)?Mn(t):t;return tF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||nF.some(r=>(n.willChange||"").includes(r))||rF.some(r=>(n.contain||"").includes(r))}function sF(t){let e=Es(t);for(;tr(e)&&!Ei(e);){if(ev(e))return e;if(_h(e))return null;e=Es(e)}return null}function tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oF=new Set(["html","body","#document"]);function Ei(t){return oF.has(Wi(t))}function Mn(t){return Kt(t).getComputedStyle(t)}function Eh(t){return Rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Es(t){if(Wi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vb(t)&&t.host||sr(t);return Vb(e)?e.host:e}function DN(t){const e=Es(t);return Ei(e)?t.ownerDocument?t.ownerDocument.body:t.body:tr(e)&&tc(e)?e:DN(e)}function kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DN(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Kt(s);if(o){const l=zm(a);return e.concat(a,a.visualViewport||[],tc(s)?s:[],l&&n?kl(l):[])}return e.concat(s,kl(s,[],n))}function zm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ON(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=tr(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Cd(n)!==o||Cd(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function nv(t){return Rn(t)?t:t.contextElement}function ii(t){const e=nv(t);if(!tr(e))return Jn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=ON(e);let a=(o?Cd(n.width):n.width)/r,l=(o?Cd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const iF=Jn(0);function LN(t){const e=Kt(t);return!tv()||!e.visualViewport?iF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kt(t)?!1:e}function fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=nv(t);let a=Jn(1);e&&(r?Rn(r)&&(a=ii(r)):a=ii(t));const l=aF(o,n,r)?LN(o):Jn(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,m=s.height/a.y;if(o){const f=Kt(o),y=r&&Rn(r)?Kt(r):r;let v=f,x=zm(v);for(;x&&r&&y!==v;){const N=ii(x),b=x.getBoundingClientRect(),w=Mn(x),S=b.left+(x.clientLeft+parseFloat(w.paddingLeft))*N.x,P=b.top+(x.clientTop+parseFloat(w.paddingTop))*N.y;c*=N.x,d*=N.y,h*=N.x,m*=N.y,c+=S,d+=P,v=Kt(x),x=zm(v)}}return kd({width:h,height:m,x:c,y:d})}function Sh(t,e){const n=Eh(t).scrollLeft;return e?e.left+n:fo(sr(t)).left+n}function FN(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Sh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function lF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=sr(r),l=e?_h(e.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=Jn(1);const h=Jn(0),m=tr(r);if((m||!m&&!o)&&((Wi(r)!=="body"||tc(a))&&(c=Eh(r)),tr(r))){const y=fo(r);d=ii(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const f=a&&!m&&!o?FN(a,c):Jn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:n.y*d.y-c.scrollTop*d.y+h.y+f.y}}function cF(t){return Array.from(t.getClientRects())}function uF(t){const e=sr(t),n=Eh(t),r=t.ownerDocument.body,s=Bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Sh(t);const l=-n.scrollTop;return Mn(r).direction==="rtl"&&(a+=Bt(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}const $b=25;function dF(t,e){const n=Kt(t),r=sr(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const h=tv();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Sh(r);if(d<=0){const h=r.ownerDocument,m=h.body,f=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-m.clientWidth-y);v<=$b&&(o-=v)}else d<=$b&&(o+=d);return{width:o,height:a,x:l,y:c}}const hF=new Set(["absolute","fixed"]);function fF(t,e){const n=fo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=tr(t)?ii(t):Jn(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,d=r*o.y;return{width:a,height:l,x:c,y:d}}function zb(t,e,n){let r;if(e==="viewport")r=dF(t,n);else if(e==="document")r=uF(sr(t));else if(Rn(e))r=fF(e,n);else{const s=LN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kd(r)}function VN(t,e){const n=Es(t);return n===e||!Rn(n)||Ei(n)?!1:Mn(n).position==="fixed"||VN(n,e)}function pF(t,e){const n=e.get(t);if(n)return n;let r=kl(t,[],!1).filter(l=>Rn(l)&&Wi(l)!=="body"),s=null;const o=Mn(t).position==="fixed";let a=o?Es(t):t;for(;Rn(a)&&!Ei(a);){const l=Mn(a),c=ev(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&hF.has(s.position)||tc(a)&&!c&&VN(t,a))?r=r.filter(h=>h!==a):s=l,a=Es(a)}return e.set(t,r),r}function mF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?_h(e)?[]:pF(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,h)=>{const m=zb(e,h,s);return d.top=Bt(m.top,d.top),d.right=_s(m.right,d.right),d.bottom=_s(m.bottom,d.bottom),d.left=Bt(m.left,d.left),d},zb(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gF(t){const{width:e,height:n}=ON(t);return{width:e,height:n}}function yF(t,e,n){const r=tr(e),s=sr(e),o=n==="fixed",a=fo(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Jn(0);function d(){c.x=Sh(s)}if(r||!r&&!o)if((Wi(e)!=="body"||tc(s))&&(l=Eh(e)),r){const y=fo(e,!0,o,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();o&&!r&&s&&d();const h=s&&!r&&!o?FN(s,l):Jn(0),m=a.left+l.scrollLeft-c.x-h.x,f=a.top+l.scrollTop-c.y-h.y;return{x:m,y:f,width:a.width,height:a.height}}function ep(t){return Mn(t).position==="static"}function Ub(t,e){if(!tr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sr(t)===n&&(n=n.ownerDocument.body),n}function $N(t,e){const n=Kt(t);if(_h(t))return n;if(!tr(t)){let s=Es(t);for(;s&&!Ei(s);){if(Rn(s)&&!ep(s))return s;s=Es(s)}return n}let r=Ub(t,e);for(;r&&Z6(r)&&ep(r);)r=Ub(r,e);return r&&Ei(r)&&ep(r)&&!ev(r)?n:r||sF(t)||n}const vF=async function(t){const e=this.getOffsetParent||$N,n=this.getDimensions,r=await n(t.floating);return{reference:yF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xF(t){return Mn(t).direction==="rtl"}const wF={convertOffsetParentRelativeRectToViewportRelativeRect:lF,getDocumentElement:sr,getClippingRect:mF,getOffsetParent:$N,getElementRects:vF,getClientRects:cF,getDimensions:gF,getScale:ii,isElement:Rn,isRTL:xF};function zN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bF(t,e){let n=null,r;const s=sr(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=t.getBoundingClientRect(),{left:h,top:m,width:f,height:y}=d;if(l||e(),!f||!y)return;const v=Jc(m),x=Jc(s.clientWidth-(h+f)),N=Jc(s.clientHeight-(m+y)),b=Jc(h),S={rootMargin:-v+"px "+-x+"px "+-N+"px "+-b+"px",threshold:Bt(0,_s(1,c))||1};let P=!0;function j(D){const C=D[0].intersectionRatio;if(C!==c){if(!P)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!zN(d,t.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(j,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,S)}n.observe(t)}return a(!0),o}function _F(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=nv(t),h=s||o?[...d?kl(d):[],...kl(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const m=d&&l?bF(d,n):null;let f=-1,y=null;a&&(y=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let v,x=c?fo(t):null;c&&N();function N(){const b=fo(t);x&&!zN(x,b)&&n(),x=b,v=requestAnimationFrame(N)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),m?.(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const EF=K6,SF=q6,CF=H6,NF=Q6,kF=G6,Bb=B6,jF=Y6,TF=(t,e,n)=>{const r=new Map,s={platform:wF,...n},o={...s.platform,_c:r};return U6(t,e,{...s,platform:o})};var IF=typeof document<"u",PF=function(){},Ru=IF?p.useLayoutEffect:PF;function jd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!jd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function UN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hb(t,e){const n=UN(t);return Math.round(e*n)/n}function tp(t){const e=p.useRef(t);return Ru(()=>{e.current=t}),e}function AF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,y]=p.useState(r);jd(f,r)||y(r);const[v,x]=p.useState(null),[N,b]=p.useState(null),w=p.useCallback(O=>{O!==D.current&&(D.current=O,x(O))},[]),S=p.useCallback(O=>{O!==C.current&&(C.current=O,b(O))},[]),P=o||v,j=a||N,D=p.useRef(null),C=p.useRef(null),E=p.useRef(h),k=c!=null,I=tp(c),M=tp(s),R=tp(d),T=p.useCallback(()=>{if(!D.current||!C.current)return;const O={placement:e,strategy:n,middleware:f};M.current&&(O.platform=M.current),TF(D.current,C.current,O).then(z=>{const W={...z,isPositioned:R.current!==!1};$.current&&!jd(E.current,W)&&(E.current=W,sh.flushSync(()=>{m(W)}))})},[f,e,n,M,R]);Ru(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[d]);const $=p.useRef(!1);Ru(()=>($.current=!0,()=>{$.current=!1}),[]),Ru(()=>{if(P&&(D.current=P),j&&(C.current=j),P&&j){if(I.current)return I.current(P,j,T);T()}},[P,j,T,I,k]);const L=p.useMemo(()=>({reference:D,floating:C,setReference:w,setFloating:S}),[w,S]),B=p.useMemo(()=>({reference:P,floating:j}),[P,j]),q=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const z=Hb(B.floating,h.x),W=Hb(B.floating,h.y);return l?{...O,transform:"translate("+z+"px, "+W+"px)",...UN(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:W}},[n,l,B.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:T,refs:L,elements:B,floatingStyles:q}),[h,T,L,B,q])}const RF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Bb({element:r.current,padding:s}).fn(n):{}:r?Bb({element:r,padding:s}).fn(n):{}}}},MF=(t,e)=>({...EF(t),options:[t,e]}),DF=(t,e)=>({...SF(t),options:[t,e]}),OF=(t,e)=>({...jF(t),options:[t,e]}),LF=(t,e)=>({...CF(t),options:[t,e]}),FF=(t,e)=>({...NF(t),options:[t,e]}),VF=(t,e)=>({...kF(t),options:[t,e]}),$F=(t,e)=>({...RF(t),options:[t,e]});var zF="Arrow",BN=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return i.jsx(ie.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});BN.displayName=zF;var UF=BN;function rv(t){const[e,n]=p.useState(void 0);return pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sv="Popper",[HN,Ki]=Tt(sv),[BF,GN]=HN(sv),WN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return i.jsx(BF,{scope:e,anchor:r,onAnchorChange:s,children:n})};WN.displayName=sv;var KN="PopperAnchor",qN=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=GN(KN,n),a=p.useRef(null),l=xe(e,a),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=r?.current||a.current,d!==c.current&&o.onAnchorChange(c.current)}),r?null:i.jsx(ie.div,{...s,ref:l})});qN.displayName=KN;var ov="PopperContent",[HF,GF]=HN(ov),YN=p.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:y="optimized",onPlaced:v,...x}=t,N=GN(ov,n),[b,w]=p.useState(null),S=xe(e,se=>w(se)),[P,j]=p.useState(null),D=rv(P),C=D?.width??0,E=D?.height??0,k=r+(o!=="center"?"-"+o:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(d)?d:[d],R=M.length>0,T={padding:I,boundary:M.filter(KF),altBoundary:R},{refs:$,floatingStyles:L,placement:B,isPositioned:q,middlewareData:O}=AF({strategy:"fixed",placement:k,whileElementsMounted:(...se)=>_F(...se,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[MF({mainAxis:s+E,alignmentAxis:a}),c&&DF({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?OF():void 0,...T}),c&&LF({...T}),FF({...T,apply:({elements:se,rects:Zt,availableWidth:ir,availableHeight:Mr})=>{const{width:Ps,height:ar}=Zt.reference,Dr=se.floating.style;Dr.setProperty("--radix-popper-available-width",`${ir}px`),Dr.setProperty("--radix-popper-available-height",`${Mr}px`),Dr.setProperty("--radix-popper-anchor-width",`${Ps}px`),Dr.setProperty("--radix-popper-anchor-height",`${ar}px`)}}),P&&$F({element:P,padding:l}),qF({arrowWidth:C,arrowHeight:E}),f&&VF({strategy:"referenceHidden",...T})]}),[z,W]=JN(B),ne=lt(v);pn(()=>{q&&ne?.()},[q,ne]);const ue=O.arrow?.x,ge=O.arrow?.y,he=O.arrow?.centerOffset!==0,[rt,De]=p.useState();return pn(()=>{b&&De(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:q?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(HF,{scope:n,placedSide:z,onArrowChange:j,arrowX:ue,arrowY:ge,shouldHideArrow:he,children:i.jsx(ie.div,{"data-side":z,"data-align":W,...x,ref:S,style:{...x.style,animation:q?void 0:"none"}})})})});YN.displayName=ov;var QN="PopperArrow",WF={top:"bottom",right:"left",bottom:"top",left:"right"},XN=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=GF(QN,r),a=WF[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(UF,{...s,ref:n,style:{...s.style,display:"block"}})})});XN.displayName=QN;function KF(t){return t!==null}var qF=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=JN(n),m={start:"0%",center:"50%",end:"100%"}[h],f=(s.arrow?.x??0)+l/2,y=(s.arrow?.y??0)+c/2;let v="",x="";return d==="bottom"?(v=a?m:`${f}px`,x=`${-c}px`):d==="top"?(v=a?m:`${f}px`,x=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=a?m:`${y}px`):d==="left"&&(v=`${r.floating.width+c}px`,x=a?m:`${y}px`),{data:{x:v,y:x}}}});function JN(t){const[e,n="center"]=t.split("-");return[e,n]}var iv=WN,Ch=qN,av=YN,lv=XN,YF="Portal",nc=p.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=p.useState(!1);pn(()=>o(!0),[]);const a=n||s&&globalThis?.document?.body;return a?vA.createPortal(i.jsx(ie.div,{...r,ref:e}),a):null});nc.displayName=YF;function QF(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var nt=t=>{const{present:e,children:n}=t,r=XF(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=xe(r.ref,JF(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};nt.displayName="Presence";function XF(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),o=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=QF(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Zc(r.current);o.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=r.current,h=s.current;if(h!==t){const f=o.current,y=Zc(d);t?c("MOUNT"):y==="none"||d?.display==="none"?c("UNMOUNT"):c(h&&f!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=y=>{const x=Zc(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&x&&(c("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},f=y=>{y.target===e&&(o.current=Zc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Zc(t){return t?.animationName||"none"}function JF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZF=s_[" useInsertionEffect ".trim().toString()]||pn;function Ts({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=eV({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=p.useCallback(h=>{if(l){const m=tV(h)?h(t):h;m!==t&&a.current?.(m)}else o(h)},[l,t,o,a]);return[c,d]}function eV({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),o=p.useRef(e);return ZF(()=>{o.current=e},[e]),p.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function tV(t){return typeof t=="function"}var nV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rV="VisuallyHidden",ZN=p.forwardRef((t,e)=>i.jsx(ie.span,{...t,ref:e,style:{...nV,...t.style}}));ZN.displayName=rV;var sV=ZN,[Nh]=Tt("Tooltip",[Ki]),kh=Ki(),e2="TooltipProvider",oV=700,Um="tooltip.open",[iV,cv]=Nh(e2),t2=t=>{const{__scopeTooltip:e,delayDuration:n=oV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(iV,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};t2.displayName=e2;var jl="Tooltip",[aV,rc]=Nh(jl),n2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=t,c=cv(jl,t.__scopeTooltip),d=kh(e),[h,m]=p.useState(null),f=jn(),y=p.useRef(0),v=a??c.disableHoverableContent,x=l??c.delayDuration,N=p.useRef(!1),[b,w]=Ts({prop:r,defaultProp:s??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Um))):c.onClose(),o?.(C)},caller:jl}),S=p.useMemo(()=>b?N.current?"delayed-open":"instant-open":"closed",[b]),P=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N.current=!1,w(!0)},[w]),j=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w(!1)},[w]),D=p.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{N.current=!0,w(!0),y.current=0},x)},[x,w]);return p.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),i.jsx(iv,{...d,children:i.jsx(aV,{scope:e,contentId:f,open:b,stateAttribute:S,trigger:h,onTriggerChange:m,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?D():P()},[c.isOpenDelayedRef,D,P]),onTriggerLeave:p.useCallback(()=>{v?j():(window.clearTimeout(y.current),y.current=0)},[j,v]),onOpen:P,onClose:j,disableHoverableContent:v,children:n})})};n2.displayName=jl;var Bm="TooltipTrigger",r2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rc(Bm,n),o=cv(Bm,n),a=kh(n),l=p.useRef(null),c=xe(e,l,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),m=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(Ch,{asChild:!0,...a,children:i.jsx(ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Q(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Q(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Q(t.onBlur,s.onClose),onClick:Q(t.onClick,s.onClose)})})});r2.displayName=Bm;var uv="TooltipPortal",[lV,cV]=Nh(uv,{forceMount:void 0}),s2=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:s}=t,o=rc(uv,e);return i.jsx(lV,{scope:e,forceMount:n,children:i.jsx(nt,{present:n||o.open,children:i.jsx(nc,{asChild:!0,container:s,children:r})})})};s2.displayName=uv;var Si="TooltipContent",o2=p.forwardRef((t,e)=>{const n=cV(Si,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,a=rc(Si,t.__scopeTooltip);return i.jsx(nt,{present:r||a.open,children:a.disableHoverableContent?i.jsx(i2,{side:s,...o,ref:e}):i.jsx(uV,{side:s,...o,ref:e})})}),uV=p.forwardRef((t,e)=>{const n=rc(Si,t.__scopeTooltip),r=cv(Si,t.__scopeTooltip),s=p.useRef(null),o=xe(e,s),[a,l]=p.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:m}=r,f=p.useCallback(()=>{l(null),m(!1)},[m]),y=p.useCallback((v,x)=>{const N=v.currentTarget,b={x:v.clientX,y:v.clientY},w=pV(b,N.getBoundingClientRect()),S=mV(b,w),P=gV(x.getBoundingClientRect()),j=vV([...S,...P]);l(j),m(!0)},[m]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&h){const v=N=>y(N,h),x=N=>y(N,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",x)}}},[c,h,y,f]),p.useEffect(()=>{if(a){const v=x=>{const N=x.target,b={x:x.clientX,y:x.clientY},w=c?.contains(N)||h?.contains(N),S=!yV(b,a);w?f():S&&(f(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,d,f]),i.jsx(i2,{...t,ref:o})}),[dV,hV]=Nh(jl,{isInside:!1}),fV=hL("TooltipContent"),i2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=rc(Si,n),d=kh(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Um,h),()=>document.removeEventListener(Um,h)),[h]),p.useEffect(()=>{if(c.trigger){const m=f=>{f.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),i.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:i.jsxs(av,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(fV,{children:r}),i.jsx(dV,{scope:n,isInside:!0,children:i.jsx(sV,{id:c.contentId,role:"tooltip",children:s||r})})]})})});o2.displayName=Si;var a2="TooltipArrow",l2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kh(n);return hV(a2,n).isInside?null:i.jsx(lv,{...s,...r,ref:e})});l2.displayName=a2;function pV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function yV(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],d=l.x,h=l.y,m=c.x,f=c.y;h>r!=f>r&&n<(m-d)*(r-h)/(f-h)+d&&(s=!s)}return s}function vV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xV(e)}function xV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var wV=t2,bV=n2,_V=r2,EV=s2,SV=o2,CV=l2;function Ma({delayDuration:t=0,...e}){return i.jsx(wV,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function eu({...t}){return i.jsx(Ma,{children:i.jsx(bV,{"data-slot":"tooltip",...t})})}function tu({...t}){return i.jsx(_V,{"data-slot":"tooltip-trigger",...t})}function nu({className:t,sideOffset:e=0,children:n,...r}){return i.jsx(EV,{children:i.jsxs(SV,{"data-slot":"tooltip-content",sideOffset:e,className:ce("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,i.jsx(CV,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const c2=p.createContext(void 0);function NV({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!1),[o,a]=p.useState(!1),[l,c]=p.useState(null),[d,h]=p.useState(null),m=async(I=!0)=>{try{I&&s(!0),c(null);const M={id:"company_001",meta:{brandName:"Tu Marca",lastUpdated:"2025-09-28T15:30:00Z",version:1},colors:{primary:["#21EDE7","#112846"],secondary:["#FC9528"],alternatives:["#F4F6F8","#000000"],gradients:[{name:"Sunset",from:"#21EDE7",to:"#FC9528"}],rules:{allowedCombinations:[["#21EDE7","#112846"]],forbiddenColors:["#FF0000"]}},typography:{primary:{name:"Montserrat",weights:["Regular","Bold","ExtraBold"]},secondary:{name:"Inter",weights:["Regular","Medium"]},hierarchy:{h1:{font:"Montserrat",size:48},h2:{font:"Montserrat",size:32},body:{font:"Inter",size:16},caption:{font:"Inter",size:12}}},logos:[{name:"main",formats:["svg","png"],url:"https://storage.brandkit/logo_main.svg",usage:"default"},{name:"negative",formats:["svg"],url:"https://storage.brandkit/logo_negative.svg",usage:"darkBackground"}],iconography:{style:"outline",examples:["download","share","arrow"],rules:["usar solo íconos de la librería oficial"]},illustrations:{style:"flat",examples:["people_teamwork.png","delivery_box.svg"]},photography:{style:"natural_light",filters:["bright","highContrast"],examples:["office_team.jpg","warehouse.jpg"]},motion:{speed:"fast",transitions:["fade","slide"],rules:["no usar animaciones rebote"]},audio:{jingles:["intro.mp3","outro.mp3"],style:"corporate_but_friendly",rules:["usar en todos los podcasts y reels educativos"]},voiceTone:{style:"Profesional pero cercano",examples:{correct:["Bienvenido a la familia, estamos contigo"],incorrect:["Compra YA o te lo pierdes!!!"]}},messaging:{tagline:"Conectando tu mundo",slogans:["Más cerca de ti","Rápido y seguro"],differentiators:["Atención personalizada","Cobertura internacional"]},storytelling:{mission:"Facilitar la conexión entre personas y países",vision:"Ser la plataforma líder en envíos internacionales",values:["Transparencia","Rapidez","Cercanía"]},usageGuidelines:{posts:{formats:["1:1","4:5"],rules:["usar logo en esquina superior"]},stories:{formats:["9:16"],rules:["CTA obligatorio"]},videos:{formats:["16:9","9:16"],rules:["subtítulos obligatorios"]},podcasts:{coverFormat:"3000x3000px",rules:["logo siempre visible"]}},examples:{do:["Usar tipografía oficial","Mantener contraste alto","Respetar márgenes del logo"],dont:["Deformar el logo","Usar colores no autorizados","Cambiar tipografía"]},accessibility:{contrastRatio:"AA",minFontSize:14,videoSubtitles:!0,altTextRequired:!0},internationalization:{supportedLanguages:["es","en"],sloganTranslations:{en:"Connecting your world",es:"Conectando tu mundo"},cultureNotes:["Evitar modismos locales en inglés"]},validation:{coherenceReport:{lastScan:"2025-09-28",complianceRate:"92%",issues:["3 assets con colores fuera de paleta"]}}};await new Promise(R=>setTimeout(R,500)),n(M),h("hace unos minutos")}catch(M){const R=M instanceof Error?M.message:"Error cargando BrandKit";console.error("Error loading BrandKit:",M),c(R),n(null)}finally{I&&s(!1)}},f=async()=>{await m(!1)},y=async I=>{try{if(!e)return;const M={...e,...I,metadata:{...e.metadata,updatedAt:new Date}};n(M),h("hace unos momentos"),console.log("BrandKit updated:",M)}catch(M){console.error("Error updating BrandKit:",M),c("Error actualizando BrandKit")}},v=async I=>{const M=Date.now();try{a(!0),c(null),console.log("=== Starting Brand Manual Analysis ==="),console.log(`File: ${I.name} (${I.type}, ${I.size} bytes)`);const R=10*1024*1024;if(I.size>R)throw new Error(`Archivo demasiado grande (${Math.round(I.size/1024/1024)}MB). Máximo permitido: 10MB`);if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png","image/jpeg","image/jpg","image/webp"].includes(I.type))throw new Error(`Tipo de archivo no soportado: ${I.type}. Soportados: PDF, DOCX, PNG, JPG`);const $=new FormData;$.append("file",I),console.log("Calling backend analysis service...");const{functionsUrl:L,FUNCTIONS_TOKEN:B}=await hn(()=>Promise.resolve().then(()=>y1),void 0),q=new AbortController,O=setTimeout(()=>q.abort(),6e4),z=await fetch(L("/analyze-brand-manual"),{method:"POST",headers:{Authorization:`Bearer ${B}`},body:$,signal:q.signal});if(clearTimeout(O),console.log(`Backend response status: ${z.status}`),!z.ok){let ge=`HTTP ${z.status}: ${z.statusText}`;try{const he=await z.json();ge=he.error||ge,console.error("Backend error details:",he)}catch{console.error("Failed to parse error response")}throw new Error(ge)}const W=await z.json();if(console.log("Backend response received:",{success:W.success,processingTime:W.processingTime,extractedBy:W.extractedBy}),!W.success)throw new Error(W.error||"El análisis no fue exitoso");const ne=W.analysis,ue=((Date.now()-M)/1e3).toFixed(1);console.log("=== Analysis Completed Successfully ==="),console.log(`Total time: ${ue}s`),console.log(`Brand: ${ne.meta.brandName}`),console.log(`Colors: ${ne.colors.primary.length} primary, ${ne.colors.secondary.length} secondary`),console.log(`Typography: ${ne.typography.primary.name}`),console.log(`Logos: ${ne.logos.length}`),n(ne),h("hace unos momentos"),console.log("Saving to persistent storage..."),await x(ne)}catch(R){const T=((Date.now()-M)/1e3).toFixed(1);console.error("=== Analysis Failed ==="),console.error(`Total time: ${T}s`),console.error("Error details:",R);let $="Error analizando el manual de marca";R instanceof Error&&(R.name==="AbortError"?$="El análisis tardó demasiado tiempo (timeout). Intenta con un archivo más pequeño.":$=R.message),c($)}finally{a(!1)}},x=async I=>{try{const{functionsUrl:M,FUNCTIONS_TOKEN:R}=await hn(()=>Promise.resolve().then(()=>y1),void 0),T=await fetch(M("/save-brandkit"),{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(!T.ok){const L=await T.json();throw new Error(L.error||"Error saving BrandKit")}const $=await T.json();console.log("BrandKit saved successfully:",$)}catch(M){console.error("Error saving BrandKit:",M)}};p.useEffect(()=>{m()},[]);const N=p.useCallback(()=>e?.colors?.primary?e.colors.primary.map((I,M)=>({name:`Color Primario ${M+1}`,hex:I,usage:"Color principal de marca",type:"primary"})):[],[e?.colors]),b=p.useCallback(()=>{if(!e?.colors)return[];const I=[];return e.colors.secondary&&I.push(...e.colors.secondary.map((M,R)=>({name:`Color Secundario ${R+1}`,hex:M,usage:"Color secundario de marca",type:"secondary"}))),e.colors.alternatives&&I.push(...e.colors.alternatives.map((M,R)=>({name:`Color Alternativo ${R+1}`,hex:M,usage:"Color alternativo",type:"alternative"}))),I},[e?.colors]),w=p.useCallback(()=>e?.typography?.primary?{name:e.typography.primary.name,font:e.typography.primary.name,weight:e.typography.primary.weights[0]||"Regular",type:"primary"}:null,[e?.typography]),S=p.useCallback(()=>e?.typography?.secondary?{name:e.typography.secondary.name,font:e.typography.secondary.name,weight:e.typography.secondary.weights[0]||"Regular",type:"secondary"}:null,[e?.typography]),P=p.useCallback(()=>{if(!e?.logos?.length)return null;const I=e.logos.find(M=>M.name==="main")||e.logos[0];return{id:I.name,name:I.name,url:I.url,type:I.usage}},[e?.logos]),j=p.useCallback(()=>{if(!e?.voiceTone)return"";let I=`Estilo: ${e.voiceTone.style}. `;return e.voiceTone.examples?.correct?.length>0&&(I+=`Ejemplos correctos: ${e.voiceTone.examples.correct.join(", ")}. `),e.voiceTone.examples?.incorrect?.length>0&&(I+=`Evitar: ${e.voiceTone.examples.incorrect.join(", ")}. `),I.trim()},[e?.voiceTone]),D=p.useCallback(async(I="post")=>{if(!e)return"";const M=j(),R=N().map(L=>L.hex).join(", "),T=w()?.name||"Fuente por defecto",$=e.usageGuidelines;switch(I){case"post":return`${M} Formatos: ${$?.posts?.formats?.join(", ")||"1:1, 4:5"}. Reglas: ${$?.posts?.rules?.join(", ")||"Usar logo discreto"}. Colores: ${R}. Tipografía: ${T}.`;case"video":return`${M} Formatos: ${$?.videos?.formats?.join(", ")||"16:9, 9:16"}. Reglas: ${$?.videos?.rules?.join(", ")||"Subtítulos obligatorios"}. Colores: ${R}. Tipografía: ${T}.`;case"story":return`${M} Formatos: ${$?.stories?.formats?.join(", ")||"9:16"}. Reglas: ${$?.stories?.rules?.join(", ")||"CTA obligatorio"}. Colores: ${R}. Tipografía: ${T}.`;case"podcast":return`${M} Formato de portada: ${$?.podcasts?.coverFormat||"3000x3000px"}. Reglas: ${$?.podcasts?.rules?.join(", ")||"Logo visible"}. Audio: ${e.audio?.style||"Estilo corporativo amigable"}.`;case"chat":return`${M} Mantén el tono de voz consistente en todas las respuestas.`;default:return M}},[j,N,w,e]),C=p.useCallback(I=>{if(!e?.colors)return!0;const R=[...e.colors.primary||[],...e.colors.secondary||[],...e.colors.alternatives||[]].some($=>$.toUpperCase()===I.toUpperCase()),T=e.colors.rules?.forbiddenColors?.some($=>$.toUpperCase()===I.toUpperCase());return R&&!T},[e?.colors]),E=p.useCallback(()=>{if(!e)return{score:0,missing:[],recommendations:[]};if(e.validation?.coherenceReport){const $=parseInt(e.validation.coherenceReport.complianceRate.replace("%","")),L=e.validation.coherenceReport.issues||[],B=[];return $<95&&L.length>0&&B.push(`Corrige los siguientes problemas: ${L.join(", ")}`),$<85&&B.push("Revisa la consistencia en todos los assets"),{score:$,missing:L,recommendations:B}}const I=[{key:"colors",weight:15,exists:!!e.colors?.primary?.length},{key:"typography",weight:15,exists:!!e.typography?.primary},{key:"logos",weight:15,exists:!!e.logos?.length},{key:"voiceTone",weight:10,exists:!!e.voiceTone?.style},{key:"messaging",weight:10,exists:!!e.messaging?.tagline},{key:"storytelling",weight:10,exists:!!e.storytelling?.mission},{key:"guidelines",weight:10,exists:!!e.usageGuidelines?.posts},{key:"accessibility",weight:5,exists:!!e.accessibility?.contrastRatio},{key:"internationalization",weight:5,exists:!!e.internationalization?.supportedLanguages?.length},{key:"audio",weight:5,exists:!!e.audio?.style}],M=I.reduce(($,L)=>$+(L.exists?L.weight:0),0),R=I.filter($=>!$.exists).map($=>{switch($.key){case"colors":return"Paleta de colores";case"typography":return"Tipografías";case"logos":return"Logos";case"voiceTone":return"Tono de voz";case"messaging":return"Mensajes clave";case"storytelling":return"Historia de marca";case"guidelines":return"Guías de aplicación";case"accessibility":return"Reglas de accesibilidad";case"internationalization":return"Internacionalización";case"audio":return"Elementos de audio";default:return $.key}}),T=[];return M<60&&T.push("Completa los elementos básicos: colores, tipografías y logos"),M<80&&T.push("Añade tono de voz y mensajes clave para mayor consistencia"),M<95&&T.push("Completa elementos avanzados: audio, internacionalización"),{score:M,missing:R,recommendations:T}},[e]),k=p.useMemo(()=>({brandKit:e,isLoading:r,isAnalyzing:o,error:l,lastUpdated:d,hasBrandKit:!!e,refreshBrandKit:f,updateBrandKit:y,uploadAndAnalyzeManual:v,saveBrandKit:x,getPrimaryColors:N,getSecondaryColors:b,getPrimaryFont:w,getSecondaryFont:S,getPrimaryLogo:P,getVoiceToneInstructions:j,getBrandInstructions:D,validateBrandColor:C,getBrandCompliance:E}),[e,r,o,l,d,f,y,v,x,N,b,w,S,P,j,D,C,E]);return i.jsx(c2.Provider,{value:k,children:t})}function qi(){const t=p.useContext(c2);if(t===void 0)throw new Error("useBrandKit must be used within a BrandKitProvider");return t}function WH(){const{getPrimaryColors:t,getSecondaryColors:e,brandKit:n}=qi();return{primaryColors:t(),secondaryColors:e(),allColors:n?.colors||[],hasColors:!!n?.colors?.length}}function KH(){const{getPrimaryFont:t,getSecondaryFont:e,brandKit:n}=qi();return{primaryFont:t(),secondaryFont:e(),allFonts:n?.typography||[],hasFonts:!!n?.typography?.length}}function qH(){const{getVoiceToneInstructions:t,brandKit:e}=qi();return{voiceTone:e?.voiceTone,instructions:t(),hasVoiceTone:!!e?.voiceTone?.personality}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Gb=t=>{const e=jV(t);return e.charAt(0).toUpperCase()+e.slice(1)},u2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...TV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:u2("lucide",s),...l},[...a.map(([d,h])=>p.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(t,e)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(IV,{ref:o,iconNode:e,className:u2(`lucide-${kV(Gb(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Gb(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qt=K("arrow-left",PV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ln=K("arrow-right",AV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MV=K("badge-check",RV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dv=K("bot",DV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tl=K("calendar",OV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],FV=K("chart-column",LV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],br=K("check",VV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cn=K("chevron-down",$V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],UV=K("chevron-right",zV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ci=K("chevron-up",BV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pr=K("circle-alert",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ue=K("circle-check-big",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hm=K("circle-x",WV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qV=K("circle",KV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],QV=K("clipboard",YV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jh=K("clock",XV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Il=K("copy",JV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Wb=K("database",ZV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Tn=K("download",e$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],n$=K("ellipsis",t$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],s$=K("external-link",r$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i$=K("eye",o$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],d2=K("facebook",a$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],h2=K("file-image",l$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Td=K("file-text",c$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],Kb=K("file-video",u$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],qb=K("folder-plus",d$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],f$=K("folder",h$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],m$=K("git-branch",p$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hv=K("globe",g$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Gm=K("hash",y$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ni=K("image",v$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],np=K("info",x$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],f2=K("instagram",w$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],_$=K("languages",b$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Yb=K("layers",E$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],C$=K("list-checks",S$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vr=K("loader-circle",N$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],j$=K("menu",k$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],sc=K("message-circle",T$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],P$=K("message-square",I$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],p2=K("mic",A$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Pl=K("palette",R$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],D$=K("paperclip",M$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],m2=K("plus",O$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Qb=K("redo",L$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Th=K("refresh-cw",F$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],$$=K("rocket",V$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],g2=K("rotate-ccw",z$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],B$=K("rotate-cw",U$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xb=K("save",H$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],W$=K("scissors",G$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oc=K("send",K$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jb=K("settings",q$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qo=K("share-2",Y$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],Wm=K("share",Q$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],y2=K("shield",X$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Z$=K("smartphone",J$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],v2=K("smile",e9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ja=K("sparkles",t9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ki=K("square-check-big",n9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s9=K("square-pen",r9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Id=K("square",o9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],x2=K("sticker",i9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],l9=K("target",a9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],w2=K("trash-2",c9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vt=K("triangle-alert",u9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],fv=K("type",d9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Zb=K("undo",h9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],b2=K("upload",f9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_2=K("user",p9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],g9=K("video",m9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],e1=K("wifi-off",y9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],rp=K("wifi",v9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],po=K("x",x9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Km=K("zap",w9);function b9(){const{hasBrandKit:t,isLoading:e,error:n}=qi(),[r,s]=p.useState(null),[o,a]=p.useState(!0),[l,c]=p.useState(!1),d=async()=>{try{a(!0),c(!1);const f={hasColors:!0,colorsCount:4,hasTypography:!0,typographyCount:2,hasLogos:!1,logosCount:0,hasVoiceTone:!0,hasUsageRules:!1,completeness:60};await new Promise(y=>setTimeout(y,300)),s(f)}catch{c(!1),s({hasColors:!1,colorsCount:0,hasTypography:!1,typographyCount:0,hasLogos:!1,logosCount:0,hasVoiceTone:!1,hasUsageRules:!1,completeness:0})}finally{a(!1)}};if(p.useEffect(()=>{const f=setTimeout(()=>{t&&!e?d():(a(!1),s(null))},100);return()=>clearTimeout(f)},[t,e]),e||o)return i.jsx(Ma,{children:i.jsxs(eu,{children:[i.jsx(tu,{children:i.jsxs($e,{variant:"outline",className:"gap-2",children:[i.jsx(Th,{className:"w-3 h-3 animate-spin"}),"Cargando BrandKit..."]})}),i.jsx(nu,{children:i.jsx("p",{children:"Verificando estado del BrandKit"})})]})});if(l&&n&&!n.includes("offline"))return i.jsx(Ma,{children:i.jsxs(eu,{children:[i.jsx(tu,{children:i.jsxs($e,{variant:"outline",className:"gap-2 border-red-200 text-red-700",children:[i.jsx(Hm,{className:"w-3 h-3"}),"BrandKit no disponible"]})}),i.jsx(nu,{children:i.jsx("p",{children:n||"Error conectando con Firestore"})})]})});if(!t&&!e){const f=n&&n.includes("offline");return i.jsx(Ma,{children:i.jsxs(eu,{children:[i.jsx(tu,{children:i.jsx($e,{variant:"outline",className:`gap-2 ${f?"border-yellow-200 text-yellow-700":"border-gray-200 text-gray-700"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(Wb,{className:"w-3 h-3"}),"BrandKit (offline)"]}):i.jsxs(i.Fragment,{children:[i.jsx(Pl,{className:"w-3 h-3"}),"Sin BrandKit"]})})}),i.jsx(nu,{children:i.jsx("p",{children:f?"Modo offline - BrandKit disponible desde caché":"No hay BrandKit configurado. Ve al módulo BrandKit para crear uno."})})]})})}const h=()=>{const f=r?.completeness||0;return f>=80?i.jsxs($e,{className:"gap-2 bg-green-100 text-green-800 border-green-200",children:[i.jsx(Ue,{className:"w-3 h-3"}),"BrandKit Completo (",Math.round(f),"%)"]}):f>=40?i.jsxs($e,{className:"gap-2 bg-yellow-100 text-yellow-800 border-yellow-200",children:[i.jsx(Pr,{className:"w-3 h-3"}),"BrandKit Parcial (",Math.round(f),"%)"]}):f>0?i.jsxs($e,{className:"gap-2 bg-blue-100 text-blue-800 border-blue-200",children:[i.jsx(Pl,{className:"w-3 h-3"}),"BrandKit Básico (",Math.round(f),"%)"]}):i.jsxs($e,{variant:"outline",className:"gap-2 border-gray-300 text-gray-600",children:[i.jsx(Hm,{className:"w-3 h-3"}),"Sin BrandKit"]})},m=()=>!r||r.completeness===0?"No hay BrandKit configurado. Ve al módulo BrandKit para crear uno.":i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Estado del BrandKit:"}),i.jsxs("p",{children:["• Colores: ",r.hasColors?`${r.colorsCount} definidos`:"No definidos"]}),i.jsxs("p",{children:["• Tipografías: ",r.hasTypography?`${r.typographyCount} definidas`:"No definidas"]}),i.jsxs("p",{children:["• Logos: ",r.hasLogos?`${r.logosCount} disponibles`:"No disponibles"]}),i.jsxs("p",{children:["• Tono de voz: ",r.hasVoiceTone?"Definido":"No definido"]}),i.jsxs("p",{children:["• Reglas de uso: ",r.hasUsageRules?"Definidas":"No definidas"]}),i.jsxs("p",{className:"pt-1 border-t border-gray-200",children:[i.jsx(Wb,{className:"w-3 h-3 inline mr-1"}),"Sincronizado con Firestore"]})]});return i.jsx(Ma,{children:i.jsxs(eu,{children:[i.jsx(tu,{children:h()}),i.jsx(nu,{children:m()})]})})}const _9=qy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function t1({className:t,variant:e,...n}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:ce(_9({variant:e}),t),...n})}function n1({className:t,...e}){return i.jsx("div",{"data-slot":"alert-description",className:ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const E9={apiKey:"demo-api-key",authDomain:"brandkit-ai-studio.firebaseapp.com",projectId:"brandkit-ai-studio",storageBucket:"brandkit-ai-studio.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},S9=py(E9),Js=Wy(S9);let sn=!1;const sp=async()=>{if(typeof window>"u")return;const t=navigator.onLine;if(t&&sn)try{await Ky(Js),sn=!1}catch{sn=!0}else if(!t&&!sn)try{await Cl(Js),sn=!0}catch{sn=!0}};typeof window<"u"&&(navigator.onLine?(sn=!0,Cl(Js).catch(()=>{}),setTimeout(async()=>{try{await Ky(Js),sn=!1}catch{}},2e3)):(sn=!0,Cl(Js).catch(t=>console.warn("Failed to initially disable network:",t))),window.addEventListener("online",sp),window.addEventListener("offline",sp),setInterval(()=>{sp()},3e4));const To=()=>({isOffline:sn,isOnline:typeof window<"u"?navigator.onLine:!0}),C9=async()=>{try{await Cl(Js),sn=!0,console.log("Forced offline mode enabled")}catch(t){console.error("Failed to force offline mode:",t)}},N9=async()=>{try{await Ky(Js),sn=!1,console.log("Forced online mode enabled")}catch(t){console.error("Failed to force online mode:",t)}};let Za=!1,r1=!1;const k9=console.error,j9=console.warn;function T9(){if(r1)return;r1=!0;const t=[/firebase/i,/firestore/i,/webchannel/i,/transport errored/i,/listen stream/i,/rpc.*stream/i,/client is offline/i,/failed to get document/i,/unavailable.*code/i,/@firebase\/firestore/i,/grpc.*error/i,/network.*error/i,/connection.*failed/i,/timeout/i,/cancelled/i];console.error=(...e)=>{const n=e.join(" ").toLowerCase();t.some(s=>s.test(n))||k9.apply(console,e)},console.warn=(...e)=>{const n=e.join(" ").toLowerCase();t.some(s=>s.test(n))||j9.apply(console,e)}}async function s1(){if(!Za)try{const t=Wy();await Cl(t),await rL(t),Za=!0}catch{Za=!0}}function o1(){return Za}if(typeof window<"u"){T9(),navigator.onLine||s1(),window.addEventListener("offline",()=>{s1()});let t;window.addEventListener("online",()=>{clearTimeout(t),t=setTimeout(()=>{navigator.onLine&&(Za=!1)},5e3)})}function I9({className:t,showControls:e=!1}){const[n,r]=p.useState(To()),[s,o]=p.useState(!1),[a,l]=p.useState(!1),[c,d]=p.useState(o1());p.useEffect(()=>{const y=setInterval(()=>{r(To()),d(o1())},5e3),v=()=>r(To()),x=()=>r(To());return typeof window<"u"&&(window.addEventListener("online",v),window.addEventListener("offline",x)),()=>{clearInterval(y),typeof window<"u"&&(window.removeEventListener("online",v),window.removeEventListener("offline",x))}},[]);const h=async()=>{o(!0);try{await N9(),r(To())}catch(y){console.error("Failed to force online mode:",y)}finally{o(!1)}},m=async()=>{o(!0);try{await C9(),r(To())}catch(y){console.error("Failed to force offline mode:",y)}finally{o(!1)}},f=n.isOnline&&!n.isOffline&&!c;return!e&&f?null:i.jsxs("div",{className:`space-y-2 ${t}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($e,{variant:f?"default":"destructive",className:`flex items-center gap-1 ${f?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(rp,{className:"w-3 h-3"}),"Online"]}):i.jsxs(i.Fragment,{children:[i.jsx(e1,{className:"w-3 h-3"}),"Offline"]})}),e&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>l(!a),children:i.jsx(Jb,{className:"w-3 h-3"})})]}),!f&&i.jsxs(t1,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(Pr,{className:"h-4 w-4 text-yellow-600"}),i.jsx(n1,{className:"text-yellow-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Modo offline activo - Funcionalidad limitada"}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:h,disabled:s,className:"ml-4",children:[s?i.jsx(Th,{className:"w-3 h-3 animate-spin"}):i.jsx(rp,{className:"w-3 h-3"}),"Reconectar"]})]})})]}),a&&e&&i.jsxs(t1,{className:"border-blue-200 bg-blue-50",children:[i.jsx(Jb,{className:"h-4 w-4 text-blue-600"}),i.jsx(n1,{className:"text-blue-800",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Control de Red"}),i.jsxs("div",{className:"flex items-center gap-1",children:[f?i.jsx(Ue,{className:"w-4 h-4 text-green-600"}):i.jsx(Pr,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs",children:f?"Conectado a Firebase":"Desconectado de Firebase"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{variant:"outline",size:"sm",onClick:h,disabled:s||f,children:[i.jsx(rp,{className:"w-3 h-3 mr-1"}),"Conectar"]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:m,disabled:s||n.isOffline,children:[i.jsx(e1,{className:"w-3 h-3 mr-1"}),"Desconectar"]})]}),i.jsxs("div",{className:"text-xs text-blue-600",children:[i.jsx("p",{children:"• Online: Todas las funciones disponibles"}),i.jsx("p",{children:"• Offline: Usando datos en caché del BrandKit"})]})]})})]})]})}function pv(t){const e=t+"CollectionProvider",[n,r]=Tt(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:N,children:b}=x,w=Se.useRef(null),S=Se.useRef(new Map).current;return i.jsx(s,{scope:N,itemMap:S,collectionRef:w,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=ho(l),d=Se.forwardRef((x,N)=>{const{scope:b,children:w}=x,S=o(l,b),P=xe(N,S.collectionRef);return i.jsx(c,{ref:P,children:w})});d.displayName=l;const h=t+"CollectionItemSlot",m="data-radix-collection-item",f=ho(h),y=Se.forwardRef((x,N)=>{const{scope:b,children:w,...S}=x,P=Se.useRef(null),j=xe(N,P),D=o(h,b);return Se.useEffect(()=>(D.itemMap.set(P,{ref:P,...S}),()=>void D.itemMap.delete(P))),i.jsx(f,{[m]:"",ref:j,children:w})});y.displayName=h;function v(x){const N=o(t+"CollectionConsumer",x);return Se.useCallback(()=>{const w=N.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((D,C)=>S.indexOf(D.ref.current)-S.indexOf(C.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:a,Slot:d,ItemSlot:y},v,r]}var P9=p.createContext(void 0);function ic(t){const e=p.useContext(P9);return t||e||"ltr"}var op=0;function mv(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??i1()),document.body.insertAdjacentElement("beforeend",t[1]??i1()),op++,()=>{op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),op--}},[])}function i1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ip="focusScope.autoFocusOnMount",ap="focusScope.autoFocusOnUnmount",a1={bubbles:!1,cancelable:!0},A9="FocusScope",Ih=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=p.useState(null),d=lt(s),h=lt(o),m=p.useRef(null),f=xe(e,x=>c(x)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(S){if(y.paused||!l)return;const P=S.target;l.contains(P)?m.current=P:Gr(m.current,{select:!0})},N=function(S){if(y.paused||!l)return;const P=S.relatedTarget;P!==null&&(l.contains(P)||Gr(m.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const j of S)j.removedNodes.length>0&&Gr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),w.disconnect()}}},[r,l,y.paused]),p.useEffect(()=>{if(l){c1.add(y);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(ip,a1);l.addEventListener(ip,d),l.dispatchEvent(b),b.defaultPrevented||(R9(F9(E2(l)),{select:!0}),document.activeElement===x&&Gr(l))}return()=>{l.removeEventListener(ip,d),setTimeout(()=>{const b=new CustomEvent(ap,a1);l.addEventListener(ap,h),l.dispatchEvent(b),b.defaultPrevented||Gr(x??document.body,{select:!0}),l.removeEventListener(ap,h),c1.remove(y)},0)}}},[l,d,h,y]);const v=p.useCallback(x=>{if(!n&&!r||y.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(N&&b){const w=x.currentTarget,[S,P]=M9(w);S&&P?!x.shiftKey&&b===P?(x.preventDefault(),n&&Gr(S,{select:!0})):x.shiftKey&&b===S&&(x.preventDefault(),n&&Gr(P,{select:!0})):b===w&&x.preventDefault()}},[n,r,y.paused]);return i.jsx(ie.div,{tabIndex:-1,...a,ref:f,onKeyDown:v})});Ih.displayName=A9;function R9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gr(r,{select:e}),document.activeElement!==n)return}function M9(t){const e=E2(t),n=l1(e,t),r=l1(e.reverse(),t);return[n,r]}function E2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l1(t,e){for(const n of t)if(!D9(n,{upTo:e}))return n}function D9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O9(t){return t instanceof HTMLInputElement&&"select"in t}function Gr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O9(t)&&e&&t.select()}}var c1=L9();function L9(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=u1(t,e),t.unshift(e)},remove(e){t=u1(t,e),t[0]?.resume()}}}function u1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function F9(t){return t.filter(e=>e.tagName!=="A")}var lp="rovingFocusGroup.onEntryFocus",V9={bubbles:!1,cancelable:!0},ac="RovingFocusGroup",[qm,S2,$9]=pv(ac),[z9,Yi]=Tt(ac,[$9]),[U9,B9]=z9(ac),C2=p.forwardRef((t,e)=>i.jsx(qm.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(qm.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(H9,{...t,ref:e})})}));C2.displayName=ac;var H9=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=t,f=p.useRef(null),y=xe(e,f),v=ic(o),[x,N]=Ts({prop:a,defaultProp:l??null,onChange:c,caller:ac}),[b,w]=p.useState(!1),S=lt(d),P=S2(n),j=p.useRef(!1),[D,C]=p.useState(0);return p.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(lp,S),()=>E.removeEventListener(lp,S)},[S]),i.jsx(U9,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(E=>N(E),[N]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>C(E=>E-1),[]),children:i.jsx(ie.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:Q(t.onMouseDown,()=>{j.current=!0}),onFocus:Q(t.onFocus,E=>{const k=!j.current;if(E.target===E.currentTarget&&k&&!b){const I=new CustomEvent(lp,V9);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=P().filter(B=>B.focusable),R=M.find(B=>B.active),T=M.find(B=>B.id===x),L=[R,T,...M].filter(Boolean).map(B=>B.ref.current);j2(L,h)}}j.current=!1}),onBlur:Q(t.onBlur,()=>w(!1))})})}),N2="RovingFocusGroupItem",k2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=jn(),d=o||c,h=B9(N2,n),m=h.currentTabStopId===d,f=S2(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:x}=h;return p.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),i.jsx(qm.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:i.jsx(ie.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Q(t.onMouseDown,N=>{r?h.onItemFocus(d):N.preventDefault()}),onFocus:Q(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Q(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const b=K9(N,h.orientation,h.dir);if(b!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let S=f().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")S.reverse();else if(b==="prev"||b==="next"){b==="prev"&&S.reverse();const P=S.indexOf(N.currentTarget);S=h.loop?q9(S,P+1):S.slice(P+1)}setTimeout(()=>j2(S))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:x!=null}):a})})});k2.displayName=N2;var G9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function W9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function K9(t,e,n){const r=W9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G9[r]}function j2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function q9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gv=C2,yv=k2,Y9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Io=new WeakMap,ru=new WeakMap,su={},cp=0,T2=function(t){return t&&(t.host||T2(t.parentNode))},Q9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=T2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},X9=function(t,e,n,r){var s=Q9(e,Array.isArray(t)?t:[t]);su[n]||(su[n]=new WeakMap);var o=su[n],a=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))h(f);else try{var y=f.getAttribute(r),v=y!==null&&y!=="false",x=(Io.get(f)||0)+1,N=(o.get(f)||0)+1;Io.set(f,x),o.set(f,N),a.push(f),x===1&&v&&ru.set(f,!0),N===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return h(e),l.clear(),cp++,function(){a.forEach(function(m){var f=Io.get(m)-1,y=o.get(m)-1;Io.set(m,f),o.set(m,y),f||(ru.has(m)||m.removeAttribute(r),ru.delete(m)),y||m.removeAttribute(n)}),cp--,cp||(Io=new WeakMap,Io=new WeakMap,ru=new WeakMap,su={})}},vv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Y9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),X9(r,s,n,"aria-hidden")):function(){return null}},Gn=function(){return Gn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gn.apply(this,arguments)};function I2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function J9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Mu="right-scroll-bar-position",Du="width-before-scroll-bar",Z9="with-scroll-bars-hidden",ez="--removed-body-scroll-bar-size";function up(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tz(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var nz=typeof window<"u"?p.useLayoutEffect:p.useEffect,d1=new WeakMap;function rz(t,e){var n=tz(null,function(r){return t.forEach(function(s){return up(s,r)})});return nz(function(){var r=d1.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(l){o.has(l)||up(l,null)}),o.forEach(function(l){s.has(l)||up(l,a)})}d1.set(n,t)},[t]),n}function sz(t){return t}function oz(t,e){e===void 0&&(e=sz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function iz(t){t===void 0&&(t={});var e=oz(null);return e.options=Gn({async:!0,ssr:!1},t),e}var P2=function(t){var e=t.sideCar,n=I2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Gn({},n))};P2.isSideCarExport=!0;function az(t,e){return t.useMedium(e),P2}var A2=iz(),dp=function(){},Ph=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:dp,onWheelCapture:dp,onTouchMoveCapture:dp}),s=r[0],o=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,f=t.sideCar,y=t.noRelative,v=t.noIsolation,x=t.inert,N=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,S=t.gapMode,P=I2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,D=rz([n,e]),C=Gn(Gn({},P),s);return p.createElement(p.Fragment,null,h&&p.createElement(j,{sideCar:A2,removeScrollBar:d,shards:m,noRelative:y,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:S}),a?p.cloneElement(p.Children.only(l),Gn(Gn({},C),{ref:D})):p.createElement(w,Gn({},C,{className:c,ref:D}),l))});Ph.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ph.classNames={fullWidth:Du,zeroRight:Mu};var lz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=lz();return e&&t.setAttribute("nonce",e),t}function uz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function dz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=cz())&&(uz(e,n),dz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},fz=function(){var t=hz();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},R2=function(){var t=fz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},pz={left:0,top:0,right:0,gap:0},hp=function(t){return parseInt(t||"",10)||0},mz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[hp(n),hp(r),hp(s)]},gz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pz;var e=mz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yz=R2(),ai="data-scroll-locked",vz=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ai,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Du,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mu," .").concat(Mu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Du," .").concat(Du,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ai,`] {
    `).concat(ez,": ").concat(l,`px;
  }
`)},h1=function(){var t=parseInt(document.body.getAttribute(ai)||"0",10);return isFinite(t)?t:0},xz=function(){p.useEffect(function(){return document.body.setAttribute(ai,(h1()+1).toString()),function(){var t=h1()-1;t<=0?document.body.removeAttribute(ai):document.body.setAttribute(ai,t.toString())}},[])},wz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;xz();var o=p.useMemo(function(){return gz(s)},[s]);return p.createElement(yz,{styles:vz(o,!e,s,n?"":"!important")})},Ym=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return Ym=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Ym=!1}var Po=Ym?{passive:!1}:!1,bz=function(t){return t.tagName==="TEXTAREA"},M2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!bz(t)&&n[e]==="visible")},_z=function(t){return M2(t,"overflowY")},Ez=function(t){return M2(t,"overflowX")},f1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=D2(t,r);if(s){var o=O2(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Sz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Cz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},D2=function(t,e){return t==="v"?_z(e):Ez(e)},O2=function(t,e){return t==="v"?Sz(e):Cz(e)},Nz=function(t,e){return t==="h"&&e==="rtl"?-1:1},kz=function(t,e,n,r,s){var o=Nz(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,c=e.contains(l),d=!1,h=a>0,m=0,f=0;do{if(!l)break;var y=O2(t,l),v=y[0],x=y[1],N=y[2],b=x-N-o*v;(v||b)&&D2(t,l)&&(m+=b,f+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(f)<1)&&(d=!0),d},iu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},p1=function(t){return[t.deltaX,t.deltaY]},m1=function(t){return t&&"current"in t?t.current:t},jz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Tz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Iz=0,Ao=[];function Pz(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Iz++)[0],o=p.useState(R2)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=J9([t.lockRef.current],(t.shards||[]).map(m1),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var b=iu(x),w=n.current,S="deltaX"in x?x.deltaX:w[0]-b[0],P="deltaY"in x?x.deltaY:w[1]-b[1],j,D=x.target,C=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in x&&C==="h"&&D.type==="range")return!1;var E=f1(C,D);if(!E)return!0;if(E?j=C:(j=C==="v"?"h":"v",E=f1(C,D)),!E)return!1;if(!r.current&&"changedTouches"in x&&(S||P)&&(r.current=j),!j)return!0;var k=r.current||j;return kz(k,N,x,k==="h"?S:P)},[]),c=p.useCallback(function(x){var N=x;if(!(!Ao.length||Ao[Ao.length-1]!==o)){var b="deltaY"in N?p1(N):iu(N),w=e.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&jz(j.delta,b)})[0];if(w&&w.should){N.cancelable&&N.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(m1).filter(Boolean).filter(function(j){return j.contains(N.target)}),P=S.length>0?l(N,S[0]):!a.current.noIsolation;P&&N.cancelable&&N.preventDefault()}}},[]),d=p.useCallback(function(x,N,b,w){var S={name:x,delta:N,target:b,should:w,shadowParent:Az(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),h=p.useCallback(function(x){n.current=iu(x),r.current=void 0},[]),m=p.useCallback(function(x){d(x.type,p1(x),x.target,l(x,t.lockRef.current))},[]),f=p.useCallback(function(x){d(x.type,iu(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return Ao.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Po),document.addEventListener("touchmove",c,Po),document.addEventListener("touchstart",h,Po),function(){Ao=Ao.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Po),document.removeEventListener("touchmove",c,Po),document.removeEventListener("touchstart",h,Po)}},[]);var y=t.removeScrollBar,v=t.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:Tz(s)}):null,y?p.createElement(wz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Az(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Rz=az(A2,Pz);var Ah=p.forwardRef(function(t,e){return p.createElement(Ph,Gn({},t,{ref:e,sideCar:Rz}))});Ah.classNames=Ph.classNames;var Qm=["Enter"," "],Mz=["ArrowDown","PageUp","Home"],L2=["ArrowUp","PageDown","End"],Dz=[...Mz,...L2],Oz={ltr:[...Qm,"ArrowRight"],rtl:[...Qm,"ArrowLeft"]},Lz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lc="Menu",[Al,Fz,Vz]=pv(lc),[_o,xv]=Tt(lc,[Vz,Ki,Yi]),Rh=Ki(),F2=Yi(),[$z,Eo]=_o(lc),[zz,cc]=_o(lc),V2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=t,l=Rh(e),[c,d]=p.useState(null),h=p.useRef(!1),m=lt(o),f=ic(s);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx(iv,{...l,children:i.jsx($z,{scope:e,open:n,onOpenChange:m,content:c,onContentChange:d,children:i.jsx(zz,{scope:e,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:f,modal:a,children:r})})})};V2.displayName=lc;var Uz="MenuAnchor",wv=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Rh(n);return i.jsx(Ch,{...s,...r,ref:e})});wv.displayName=Uz;var bv="MenuPortal",[Bz,$2]=_o(bv,{forceMount:void 0}),z2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=Eo(bv,e);return i.jsx(Bz,{scope:e,forceMount:n,children:i.jsx(nt,{present:n||o.open,children:i.jsx(nc,{asChild:!0,container:s,children:r})})})};z2.displayName=bv;var cn="MenuContent",[Hz,_v]=_o(cn),U2=p.forwardRef((t,e)=>{const n=$2(cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Eo(cn,t.__scopeMenu),a=cc(cn,t.__scopeMenu);return i.jsx(Al.Provider,{scope:t.__scopeMenu,children:i.jsx(nt,{present:r||o.open,children:i.jsx(Al.Slot,{scope:t.__scopeMenu,children:a.modal?i.jsx(Gz,{...s,ref:e}):i.jsx(Wz,{...s,ref:e})})})})}),Gz=p.forwardRef((t,e)=>{const n=Eo(cn,t.__scopeMenu),r=p.useRef(null),s=xe(e,r);return p.useEffect(()=>{const o=r.current;if(o)return vv(o)},[]),i.jsx(Ev,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Wz=p.forwardRef((t,e)=>{const n=Eo(cn,t.__scopeMenu);return i.jsx(Ev,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Kz=ho("MenuContent.ScrollLock"),Ev=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:y,disableOutsideScroll:v,...x}=t,N=Eo(cn,n),b=cc(cn,n),w=Rh(n),S=F2(n),P=Fz(n),[j,D]=p.useState(null),C=p.useRef(null),E=xe(e,C,N.onContentChange),k=p.useRef(0),I=p.useRef(""),M=p.useRef(0),R=p.useRef(null),T=p.useRef("right"),$=p.useRef(0),L=v?Ah:p.Fragment,B=v?{as:Kz,allowPinchZoom:!0}:void 0,q=z=>{const W=I.current+z,ne=P().filter(se=>!se.disabled),ue=document.activeElement,ge=ne.find(se=>se.ref.current===ue)?.textValue,he=ne.map(se=>se.textValue),rt=o8(he,W,ge),De=ne.find(se=>se.textValue===rt)?.ref.current;(function se(Zt){I.current=Zt,window.clearTimeout(k.current),Zt!==""&&(k.current=window.setTimeout(()=>se(""),1e3))})(W),De&&setTimeout(()=>De.focus())};p.useEffect(()=>()=>window.clearTimeout(k.current),[]),mv();const O=p.useCallback(z=>T.current===R.current?.side&&a8(z,R.current?.area),[]);return i.jsx(Hz,{scope:n,searchRef:I,onItemEnter:p.useCallback(z=>{O(z)&&z.preventDefault()},[O]),onItemLeave:p.useCallback(z=>{O(z)||(C.current?.focus(),D(null))},[O]),onTriggerLeave:p.useCallback(z=>{O(z)&&z.preventDefault()},[O]),pointerGraceTimerRef:M,onPointerGraceIntentChange:p.useCallback(z=>{R.current=z},[]),children:i.jsx(L,{...B,children:i.jsx(Ih,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,z=>{z.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(ec,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:y,children:i.jsx(gv,{asChild:!0,...S,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:D,onEntryFocus:Q(c,z=>{b.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(av,{role:"menu","aria-orientation":"vertical","data-state":sk(N.open),"data-radix-menu-content":"",dir:b.dir,...w,...x,ref:E,style:{outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,z=>{const ne=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ue=z.ctrlKey||z.altKey||z.metaKey,ge=z.key.length===1;ne&&(z.key==="Tab"&&z.preventDefault(),!ue&&ge&&q(z.key));const he=C.current;if(z.target!==he||!Dz.includes(z.key))return;z.preventDefault();const De=P().filter(se=>!se.disabled).map(se=>se.ref.current);L2.includes(z.key)&&De.reverse(),r8(De)}),onBlur:Q(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(k.current),I.current="")}),onPointerMove:Q(t.onPointerMove,Rl(z=>{const W=z.target,ne=$.current!==z.clientX;if(z.currentTarget.contains(W)&&ne){const ue=z.clientX>$.current?"right":"left";T.current=ue,$.current=z.clientX}}))})})})})})})});U2.displayName=cn;var qz="MenuGroup",Sv=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(ie.div,{role:"group",...r,ref:e})});Sv.displayName=qz;var Yz="MenuLabel",B2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(ie.div,{...r,ref:e})});B2.displayName=Yz;var Pd="MenuItem",g1="menu.itemSelect",Mh=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=p.useRef(null),a=cc(Pd,t.__scopeMenu),l=_v(Pd,t.__scopeMenu),c=xe(e,o),d=p.useRef(!1),h=()=>{const m=o.current;if(!n&&m){const f=new CustomEvent(g1,{bubbles:!0,cancelable:!0});m.addEventListener(g1,y=>r?.(y),{once:!0}),_N(m,f),f.defaultPrevented?d.current=!1:a.onClose()}};return i.jsx(H2,{...s,ref:c,disabled:n,onClick:Q(t.onClick,h),onPointerDown:m=>{t.onPointerDown?.(m),d.current=!0},onPointerUp:Q(t.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:Q(t.onKeyDown,m=>{const f=l.searchRef.current!=="";n||f&&m.key===" "||Qm.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Mh.displayName=Pd;var H2=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,a=_v(Pd,n),l=F2(n),c=p.useRef(null),d=xe(e,c),[h,m]=p.useState(!1),[f,y]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&y((v.textContent??"").trim())},[o.children]),i.jsx(Al.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:i.jsx(yv,{asChild:!0,...l,focusable:!r,children:i.jsx(ie.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:Q(t.onPointerMove,Rl(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(t.onPointerLeave,Rl(v=>a.onItemLeave(v))),onFocus:Q(t.onFocus,()=>m(!0)),onBlur:Q(t.onBlur,()=>m(!1))})})})}),Qz="MenuCheckboxItem",G2=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return i.jsx(Q2,{scope:t.__scopeMenu,checked:n,children:i.jsx(Mh,{role:"menuitemcheckbox","aria-checked":Ad(n)?"mixed":n,...s,ref:e,"data-state":Nv(n),onSelect:Q(s.onSelect,()=>r?.(Ad(n)?!0:!n),{checkForDefaultPrevented:!1})})})});G2.displayName=Qz;var W2="MenuRadioGroup",[Xz,Jz]=_o(W2,{value:void 0,onValueChange:()=>{}}),K2=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=lt(r);return i.jsx(Xz,{scope:t.__scopeMenu,value:n,onValueChange:o,children:i.jsx(Sv,{...s,ref:e})})});K2.displayName=W2;var q2="MenuRadioItem",Y2=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=Jz(q2,t.__scopeMenu),o=n===s.value;return i.jsx(Q2,{scope:t.__scopeMenu,checked:o,children:i.jsx(Mh,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Nv(o),onSelect:Q(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Y2.displayName=q2;var Cv="MenuItemIndicator",[Q2,Zz]=_o(Cv,{checked:!1}),X2=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=Zz(Cv,n);return i.jsx(nt,{present:r||Ad(o.checked)||o.checked===!0,children:i.jsx(ie.span,{...s,ref:e,"data-state":Nv(o.checked)})})});X2.displayName=Cv;var e8="MenuSeparator",J2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});J2.displayName=e8;var t8="MenuArrow",Z2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Rh(n);return i.jsx(lv,{...s,...r,ref:e})});Z2.displayName=t8;var n8="MenuSub",[YH,ek]=_o(n8),Da="MenuSubTrigger",tk=p.forwardRef((t,e)=>{const n=Eo(Da,t.__scopeMenu),r=cc(Da,t.__scopeMenu),s=ek(Da,t.__scopeMenu),o=_v(Da,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),i.jsx(wv,{asChild:!0,...d,children:i.jsx(H2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":sk(n.open),...t,ref:wh(e,s.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Q(t.onPointerMove,Rl(m=>{o.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Q(t.onPointerLeave,Rl(m=>{h();const f=n.content?.getBoundingClientRect();if(f){const y=n.content?.dataset.side,v=y==="right",x=v?-5:5,N=f[v?"left":"right"],b=f[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:N,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:N,y:f.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(t.onKeyDown,m=>{const f=o.searchRef.current!=="";t.disabled||f&&m.key===" "||Oz[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});tk.displayName=Da;var nk="MenuSubContent",rk=p.forwardRef((t,e)=>{const n=$2(cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Eo(cn,t.__scopeMenu),a=cc(cn,t.__scopeMenu),l=ek(nk,t.__scopeMenu),c=p.useRef(null),d=xe(e,c);return i.jsx(Al.Provider,{scope:t.__scopeMenu,children:i.jsx(nt,{present:r||o.open,children:i.jsx(Al.Slot,{scope:t.__scopeMenu,children:i.jsx(Ev,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&c.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Q(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Q(t.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),f=Lz[a.dir].includes(h.key);m&&f&&(o.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});rk.displayName=nk;function sk(t){return t?"open":"closed"}function Ad(t){return t==="indeterminate"}function Nv(t){return Ad(t)?"indeterminate":t?"checked":"unchecked"}function r8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function s8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function o8(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=s8(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function i8(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],d=l.x,h=l.y,m=c.x,f=c.y;h>r!=f>r&&n<(m-d)*(r-h)/(f-h)+d&&(s=!s)}return s}function a8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return i8(n,e)}function Rl(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ok=V2,ik=wv,ak=z2,lk=U2,ck=Sv,uk=B2,dk=Mh,hk=G2,fk=K2,pk=Y2,mk=X2,gk=J2,yk=Z2,vk=tk,xk=rk,Dh="DropdownMenu",[l8]=Tt(Dh,[xv]),It=xv(),[c8,wk]=l8(Dh),bk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=It(e),d=p.useRef(null),[h,m]=Ts({prop:s,defaultProp:o??!1,onChange:a,caller:Dh});return i.jsx(c8,{scope:e,triggerId:jn(),triggerRef:d,contentId:jn(),open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),modal:l,children:i.jsx(ok,{...c,open:h,onOpenChange:m,dir:r,modal:l,children:n})})};bk.displayName=Dh;var _k="DropdownMenuTrigger",Ek=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=wk(_k,n),a=It(n);return i.jsx(ik,{asChild:!0,...a,children:i.jsx(ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wh(e,o.triggerRef),onPointerDown:Q(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Q(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ek.displayName=_k;var u8="DropdownMenuPortal",Sk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=It(e);return i.jsx(ak,{...r,...n})};Sk.displayName=u8;var Ck="DropdownMenuContent",Nk=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wk(Ck,n),o=It(n),a=p.useRef(!1);return i.jsx(lk,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Q(t.onCloseAutoFocus,l=>{a.current||s.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Q(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nk.displayName=Ck;var d8="DropdownMenuGroup",h8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(ck,{...s,...r,ref:e})});h8.displayName=d8;var f8="DropdownMenuLabel",kk=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(uk,{...s,...r,ref:e})});kk.displayName=f8;var p8="DropdownMenuItem",jk=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(dk,{...s,...r,ref:e})});jk.displayName=p8;var m8="DropdownMenuCheckboxItem",g8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(hk,{...s,...r,ref:e})});g8.displayName=m8;var y8="DropdownMenuRadioGroup",v8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(fk,{...s,...r,ref:e})});v8.displayName=y8;var x8="DropdownMenuRadioItem",w8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(pk,{...s,...r,ref:e})});w8.displayName=x8;var b8="DropdownMenuItemIndicator",_8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(mk,{...s,...r,ref:e})});_8.displayName=b8;var E8="DropdownMenuSeparator",Tk=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(gk,{...s,...r,ref:e})});Tk.displayName=E8;var S8="DropdownMenuArrow",C8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(yk,{...s,...r,ref:e})});C8.displayName=S8;var N8="DropdownMenuSubTrigger",k8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(vk,{...s,...r,ref:e})});k8.displayName=N8;var j8="DropdownMenuSubContent",T8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=It(n);return i.jsx(xk,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T8.displayName=j8;var I8=bk,P8=Ek,A8=Sk,R8=Nk,M8=kk,D8=jk,O8=Tk;function Xm({...t}){return i.jsx(I8,{"data-slot":"dropdown-menu",...t})}function Jm({...t}){return i.jsx(P8,{"data-slot":"dropdown-menu-trigger",...t})}function Zm({className:t,sideOffset:e=4,...n}){return i.jsx(A8,{children:i.jsx(R8,{"data-slot":"dropdown-menu-content",sideOffset:e,className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Rt({className:t,inset:e,variant:n="default",...r}){return i.jsx(D8,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function fp({className:t,inset:e,...n}){return i.jsx(M8,{"data-slot":"dropdown-menu-label","data-inset":e,className:ce("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function Rd({className:t,...e}){return i.jsx(O8,{"data-slot":"dropdown-menu-separator",className:ce("bg-border -mx-1 my-1 h-px",t),...e})}var Oh="Dialog",[Ik,QH]=Tt(Oh),[L8,On]=Ik(Oh),Pk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[d,h]=Ts({prop:r,defaultProp:s??!1,onChange:o,caller:Oh});return i.jsx(L8,{scope:e,triggerRef:l,contentRef:c,contentId:jn(),titleId:jn(),descriptionId:jn(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};Pk.displayName=Oh;var Ak="DialogTrigger",Rk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=On(Ak,n),o=xe(e,s.triggerRef);return i.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Tv(s.open),...r,ref:o,onClick:Q(t.onClick,s.onOpenToggle)})});Rk.displayName=Ak;var kv="DialogPortal",[F8,Mk]=Ik(kv,{forceMount:void 0}),Dk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=On(kv,e);return i.jsx(F8,{scope:e,forceMount:n,children:p.Children.map(r,a=>i.jsx(nt,{present:n||o.open,children:i.jsx(nc,{asChild:!0,container:s,children:a})}))})};Dk.displayName=kv;var Md="DialogOverlay",Ok=p.forwardRef((t,e)=>{const n=Mk(Md,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=On(Md,t.__scopeDialog);return o.modal?i.jsx(nt,{present:r||o.open,children:i.jsx($8,{...s,ref:e})}):null});Ok.displayName=Md;var V8=ho("DialogOverlay.RemoveScroll"),$8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=On(Md,n);return i.jsx(Ah,{as:V8,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ie.div,{"data-state":Tv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mo="DialogContent",Lk=p.forwardRef((t,e)=>{const n=Mk(mo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=On(mo,t.__scopeDialog);return i.jsx(nt,{present:r||o.open,children:o.modal?i.jsx(z8,{...s,ref:e}):i.jsx(U8,{...s,ref:e})})});Lk.displayName=mo;var z8=p.forwardRef((t,e)=>{const n=On(mo,t.__scopeDialog),r=p.useRef(null),s=xe(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return vv(o)},[]),i.jsx(Fk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault())})}),U8=p.forwardRef((t,e)=>{const n=On(mo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(Fk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Fk=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=On(mo,n),c=p.useRef(null),d=xe(e,c);return mv(),i.jsxs(i.Fragment,{children:[i.jsx(Ih,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(ec,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Tv(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(B8,{titleId:l.titleId}),i.jsx(G8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),jv="DialogTitle",Vk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=On(jv,n);return i.jsx(ie.h2,{id:s.titleId,...r,ref:e})});Vk.displayName=jv;var $k="DialogDescription",zk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=On($k,n);return i.jsx(ie.p,{id:s.descriptionId,...r,ref:e})});zk.displayName=$k;var Uk="DialogClose",Bk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=On(Uk,n);return i.jsx(ie.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});Bk.displayName=Uk;function Tv(t){return t?"open":"closed"}var Hk="DialogTitleWarning",[XH,Gk]=XL(Hk,{contentName:mo,titleName:jv,docsSlug:"dialog"}),B8=({titleId:t})=>{const e=Gk(Hk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},H8="DialogDescriptionWarning",G8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gk(H8).contentName}}.`;return p.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},W8=Pk,Wk=Rk,K8=Dk,Kk=Ok,qk=Lk,Yk=Vk,Qk=zk,Iv=Bk;function Dd({...t}){return i.jsx(W8,{"data-slot":"dialog",...t})}const eg=p.forwardRef(({...t},e)=>i.jsx(Wk,{ref:e,"data-slot":"dialog-trigger",...t}));eg.displayName=Wk.displayName;function q8({...t}){return i.jsx(K8,{"data-slot":"dialog-portal",...t})}const Y8=p.forwardRef(({...t},e)=>i.jsx(Iv,{ref:e,"data-slot":"dialog-close",...t}));Y8.displayName=Iv.displayName;const Xk=p.forwardRef(({className:t,...e},n)=>i.jsx(Kk,{ref:n,"data-slot":"dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Xk.displayName=Kk.displayName;const Ml=p.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(q8,{"data-slot":"dialog-portal",children:[i.jsx(Xk,{}),i.jsxs(qk,{ref:r,"data-slot":"dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,i.jsxs(Iv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(po,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ml.displayName=qk.displayName;const Dl=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,"data-slot":"dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",t),...e}));Dl.displayName="DialogHeader";const Pv=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,"data-slot":"dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e}));Pv.displayName="DialogFooter";const Ol=p.forwardRef(({className:t,...e},n)=>i.jsx(Yk,{ref:n,"data-slot":"dialog-title",className:ce("text-lg leading-none font-semibold",t),...e}));Ol.displayName=Yk.displayName;const Av=p.forwardRef(({className:t,...e},n)=>i.jsx(Qk,{ref:n,"data-slot":"dialog-description",className:ce("text-muted-foreground text-sm",t),...e}));Av.displayName=Qk.displayName;var Q8="Label",Jk=p.forwardRef((t,e)=>i.jsx(ie.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Jk.displayName=Q8;var X8=Jk;function we({className:t,...e}){return i.jsx(X8,{"data-slot":"label",className:ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Zk(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Rv="Radio",[J8,ej]=Tt(Rv),[Z8,e7]=J8(Rv),tj=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:l="on",onCheck:c,form:d,...h}=t,[m,f]=p.useState(null),y=xe(e,N=>f(N)),v=p.useRef(!1),x=m?d||!!m.closest("form"):!0;return i.jsxs(Z8,{scope:n,checked:s,disabled:a,children:[i.jsx(ie.button,{type:"button",role:"radio","aria-checked":s,"data-state":oj(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:y,onClick:Q(t.onClick,N=>{s||c?.(),x&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),x&&i.jsx(sj,{control:m,bubbles:!v.current,name:r,value:l,checked:s,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});tj.displayName=Rv;var nj="RadioIndicator",rj=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,o=e7(nj,n);return i.jsx(nt,{present:r||o.checked,children:i.jsx(ie.span,{"data-state":oj(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});rj.displayName=nj;var t7="RadioBubbleInput",sj=p.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=p.useRef(null),l=xe(a,o),c=Zk(n),d=rv(e);return p.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&y){const v=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(v)}},[c,n,r]),i.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sj.displayName=t7;function oj(t){return t?"checked":"unchecked"}var n7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lh="RadioGroup",[r7]=Tt(Lh,[Yi,ej]),ij=Yi(),aj=ej(),[s7,o7]=r7(Lh),lj=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:m,...f}=t,y=ij(n),v=ic(d),[x,N]=Ts({prop:o,defaultProp:s??null,onChange:m,caller:Lh});return i.jsx(s7,{scope:n,name:r,required:a,disabled:l,value:x,onValueChange:N,children:i.jsx(gv,{asChild:!0,...y,orientation:c,dir:v,loop:h,children:i.jsx(ie.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...f,ref:e})})})});lj.displayName=Lh;var cj="RadioGroupItem",uj=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,o=o7(cj,n),a=o.disabled||r,l=ij(n),c=aj(n),d=p.useRef(null),h=xe(e,d),m=o.value===s.value,f=p.useRef(!1);return p.useEffect(()=>{const y=x=>{n7.includes(x.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",v)}},[]),i.jsx(yv,{asChild:!0,...l,focusable:!a,active:m,children:i.jsx(tj,{disabled:a,required:o.required,checked:m,...c,...s,name:o.name,ref:h,onCheck:()=>o.onValueChange(s.value),onKeyDown:Q(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Q(s.onFocus,()=>{f.current&&d.current?.click()})})})});uj.displayName=cj;var i7="RadioGroupIndicator",dj=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=aj(n);return i.jsx(rj,{...s,...r,ref:e})});dj.displayName=i7;var a7=lj,l7=uj,c7=dj;function Zs({className:t,...e}){return i.jsx(a7,{"data-slot":"radio-group",className:ce("grid gap-3",t),...e})}function Ht({className:t,...e}){return i.jsx(l7,{"data-slot":"radio-group-item",className:ce("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(c7,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:i.jsx(qV,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var Fh="Checkbox",[u7]=Tt(Fh),[d7,Mv]=u7(Fh);function h7(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:m}=t,[f,y]=Ts({prop:n,defaultProp:s??!1,onChange:c,caller:Fh}),[v,x]=p.useState(null),[N,b]=p.useState(null),w=p.useRef(!1),S=v?!!a||!!v.closest("form"):!0,P={checked:f,disabled:o,setChecked:y,control:v,setControl:x,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:gs(s)?!1:s,isFormControl:S,bubbleInput:N,setBubbleInput:b};return i.jsx(d7,{scope:e,...P,children:f7(m)?m(P):r})}var hj="CheckboxTrigger",fj=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:a,disabled:l,checked:c,required:d,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:y,bubbleInput:v}=Mv(hj,t),x=xe(s,h),N=p.useRef(c);return p.useEffect(()=>{const b=o?.form;if(b){const w=()=>m(N.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[o,m]),i.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":gs(c)?"mixed":c,"aria-required":d,"data-state":xj(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:x,onKeyDown:Q(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Q(n,b=>{m(w=>gs(w)?!0:!w),v&&y&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});fj.displayName=hj;var pj=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:d,form:h,...m}=t;return i.jsx(h7,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(fj,{...m,ref:e,__scopeCheckbox:n}),f&&i.jsx(vj,{__scopeCheckbox:n})]})})});pj.displayName=Fh;var mj="CheckboxIndicator",gj=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=Mv(mj,n);return i.jsx(nt,{present:r||gs(o.checked)||o.checked===!0,children:i.jsx(ie.span,{"data-state":xj(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});gj.displayName=mj;var yj="CheckboxBubbleInput",vj=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:d,value:h,form:m,bubbleInput:f,setBubbleInput:y}=Mv(yj,t),v=xe(n,y),x=Zk(o),N=rv(r);p.useEffect(()=>{const w=f;if(!w)return;const S=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(S,"checked").set,D=!s.current;if(x!==o&&j){const C=new Event("click",{bubbles:D});w.indeterminate=gs(o),j.call(w,gs(o)?!1:o),w.dispatchEvent(C)}},[f,x,o,s]);const b=p.useRef(gs(o)?!1:o);return i.jsx(ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:d,value:h,form:m,...e,tabIndex:-1,ref:v,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});vj.displayName=yj;function f7(t){return typeof t=="function"}function gs(t){return t==="indeterminate"}function xj(t){return gs(t)?"indeterminate":t?"checked":"unchecked"}function rs({className:t,...e}){return i.jsx(pj,{"data-slot":"checkbox",className:ce("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(gj,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(br,{className:"size-3.5"})})})}const wj=import.meta?.env?.VITE_FUNCTIONS_BASE_URL||"https://em-estudio.web.app/make-server-ecf7df64",p7=import.meta?.env?.VITE_FUNCTIONS_TOKEN||"firebase-public";function Dv(t){const e=wj.replace(/\/$/,""),n=t.startsWith("/")?t:`/${t}`;return`${e}${n}`}const y1=Object.freeze(Object.defineProperty({__proto__:null,FUNCTIONS_BASE_URL:wj,FUNCTIONS_TOKEN:p7,functionsUrl:Dv},Symbol.toStringTag,{value:"Module"}));class m7{baseUrl;authToken;constructor(e){this.baseUrl=Dv("exportHandler"),this.authToken=e}setAuthToken(e){this.authToken=e}async exportToMarkdown(e){return this.export({...e,format:"md"})}async exportToHTML(e){return this.export({...e,format:"html"})}async exportToPDF(e){return this.export({...e,format:"pdf"})}async export(e){console.log("[Export SDK] export called with:",e);const n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify(e)});if(!n.ok)throw new Error(`[Export SDK] API error: ${n.statusText}`);return n.json()}async createShareLink(e){return console.log("[Export SDK] createShareLink called with:",e),{link:"https://example.com/share/mock-link",token:"mock-token",expires_at:null}}async revokeShareLink(e){return console.log("[Export SDK] revokeShareLink called with:",e),{ok:!0}}async getSharedContent(e){return console.log("[Export SDK] getSharedContent called with:",e),{thread:{title:"Mock Thread",system:"Mock System"},messages:[],readOnly:!0}}async downloadExport(e){if(e.url)window.open(e.url,"_blank");else if(e.content){const n=new Blob([e.content],{type:e.filename.endsWith(".html")?"text/html":"text/markdown"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=e.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}}async copyToClipboard(e){if(navigator.clipboard)await navigator.clipboard.writeText(e);else{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}}async copyShareLink(e){await this.copyToClipboard(e.link)}}const $n=new m7,{exportToMarkdown:JH,exportToHTML:ZH,exportToPDF:eG,createShareLink:tG,revokeShareLink:nG,getSharedContent:rG,downloadExport:sG,copyToClipboard:oG,copyShareLink:iG}=$n;function g7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let tg=1;class y7{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:tg++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,a;const l=s.then(async d=>{if(a=["resolve",d],Se.isValidElement(d))o=!1,this.create({id:r,type:"default",message:d});else if(x7(d)&&!d.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...v})}else if(d instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...v})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:f,...v})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){o=!1;const h=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!Se.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=n?.id||tg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const tn=new y7,v7=(t,e)=>{const n=e?.id||tg++;return tn.addToast({title:t,...e,id:n}),n},x7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",w7=v7,b7=()=>tn.toasts,_7=()=>tn.getActiveToasts(),Qe=Object.assign(w7,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:b7,getToasts:_7});g7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ov=t=>{const[e,n]=p.useState({isExporting:!1,isSharing:!1,exportError:null,shareError:null,lastExport:null,lastShare:null});t&&$n.setAuthToken(t);const r=p.useCallback(async y=>{n(v=>({...v,isExporting:!0,exportError:null}));try{let v;switch(y.format){case"md":v=await $n.exportToMarkdown(y);break;case"html":v=await $n.exportToHTML(y);break;case"pdf":v=await $n.exportToPDF(y);break;default:throw new Error(`Formato no soportado: ${y.format}`)}n(N=>({...N,isExporting:!1,lastExport:v}));const x={md:"Markdown",html:"HTML",pdf:"PDF"};return Qe.success(`Chat exportado a ${x[y.format]} exitosamente`),v}catch(v){const x=v instanceof Error?v.message:"Error desconocido";throw n(N=>({...N,isExporting:!1,exportError:x})),Qe.error(`Error al exportar: ${x}`),v}},[]),s=p.useCallback(async()=>{if(!e.lastExport){Qe.error("No hay exportación disponible para descargar");return}try{await $n.downloadExport(e.lastExport),Qe.success("Descarga iniciada")}catch(y){const v=y instanceof Error?y.message:"Error en la descarga";Qe.error(`Error al descargar: ${v}`)}},[e.lastExport]),o=p.useCallback(async()=>{if(!e.lastExport?.content){Qe.error("No hay contenido disponible para copiar");return}try{await $n.copyToClipboard(e.lastExport.content),Qe.success("Contenido copiado al portapapeles")}catch{Qe.error("Error al copiar al portapapeles")}},[e.lastExport]),a=p.useCallback(async y=>{n(v=>({...v,isSharing:!0,shareError:null}));try{const v=await $n.createShareLink(y);return n(x=>({...x,isSharing:!1,lastShare:v})),Qe.success("Enlace de compartir creado exitosamente"),v}catch(v){const x=v instanceof Error?v.message:"Error desconocido";throw n(N=>({...N,isSharing:!1,shareError:x})),Qe.error(`Error al crear enlace: ${x}`),v}},[]),l=p.useCallback(async()=>{if(!e.lastShare){Qe.error("No hay enlace disponible para copiar");return}try{await $n.copyShareLink(e.lastShare),Qe.success("Enlace copiado al portapapeles")}catch{Qe.error("Error al copiar enlace")}},[e.lastShare]),c=p.useCallback(async y=>{try{await $n.revokeShareLink(y),Qe.success("Enlace revocado exitosamente"),n(v=>({...v,lastShare:null}))}catch(v){const x=v instanceof Error?v.message:"Error desconocido";throw Qe.error(`Error al revocar enlace: ${x}`),v}},[]),d=p.useCallback(async(y,v,x="md")=>r({threadId:y,messageId:v,range:"current",format:x,cleanup:{hideMeta:!1,hideChips:!1,maskPII:!1}}),[r]),h=p.useCallback(async(y,v={})=>a({threadId:y,mode:v.mode||"readonly",scope:"thread",expiresDays:v.expiresDays||7,hideUsernames:v.hideUsernames??!0,cleanup:{hideMeta:!0,hideChips:!0,maskPII:!0}}),[a]),m=p.useCallback(()=>{n(y=>({...y,exportError:null,shareError:null}))},[]),f=p.useCallback(()=>{n({isExporting:!1,isSharing:!1,exportError:null,shareError:null,lastExport:null,lastShare:null})},[]);return{...e,exportConversation:r,exportCurrentMessage:d,downloadLastExport:s,copyExportToClipboard:o,createShareLink:a,shareConversation:h,copyShareLink:l,revokeShareLink:c,clearErrors:m,reset:f,hasExport:!!e.lastExport,hasShare:!!e.lastShare,isLoading:e.isExporting||e.isSharing,hasErrors:!!(e.exportError||e.shareError)}};var E7="Separator",v1="horizontal",S7=["horizontal","vertical"],bj=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=v1,...s}=t,o=C7(r)?r:v1,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(ie.div,{"data-orientation":o,...l,...s,ref:e})});bj.displayName=E7;function C7(t){return S7.includes(t)}var N7=bj;function el({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return i.jsx(N7,{"data-slot":"separator-root",decorative:n,orientation:e,className:ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const pp=({open:t,onOpenChange:e,threadId:n,threadTitle:r,messageCount:s,currentMessageId:o,selectedMessageIds:a=[],authToken:l})=>{const{exportConversation:c,downloadLastExport:d,copyExportToClipboard:h,isExporting:m,lastExport:f,exportError:y,clearErrors:v}=Ov(l),[x,N]=p.useState({format:"md",range:a.length>0?"selection":"thread",hideMeta:!1,hideChips:!1,maskPII:!1}),b={md:Td,html:hv,pdf:h2},w={md:"Markdown",html:"HTML",pdf:"PDF"},S=async()=>{v();const D={threadId:n,range:x.range,format:x.format,cleanup:{hideMeta:x.hideMeta,hideChips:x.hideChips,maskPII:x.maskPII},...x.range==="current"&&o?{messageId:o}:{},...x.range==="selection"?{selectionIds:a}:{}};try{await c(D)}catch(C){console.error("Export failed:",C)}},P=()=>{switch(x.range){case"thread":return`${s} mensajes completos`;case"selection":return`${a.length} mensajes seleccionados`;case"current":return"1 mensaje actual";default:return""}},j=D=>D==="selection"&&a.length===0||D==="current"&&!o;return i.jsx(Dd,{open:t,onOpenChange:e,children:i.jsxs(Ml,{className:"max-w-md",children:[i.jsxs(Dl,{children:[i.jsxs(Ol,{className:"flex items-center gap-2",children:[i.jsx(Tn,{className:"h-5 w-5"}),"Exportar Conversación"]}),i.jsxs(Av,{children:["Exporta ",i.jsx("strong",{children:r})," en el formato que prefieras."]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Formato"}),i.jsx(Zs,{value:x.format,onValueChange:D=>N(C=>({...C,format:D})),className:"grid grid-cols-3 gap-3",children:Object.entries(w).map(([D,C])=>{const E=b[D];return i.jsxs("div",{className:"relative",children:[i.jsx(Ht,{value:D,id:D,className:"peer sr-only"}),i.jsxs(we,{htmlFor:D,className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[i.jsx(E,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs font-medium",children:C})]})]},D)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Contenido"}),i.jsxs(Zs,{value:x.range,onValueChange:D=>N(C=>({...C,range:D})),className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"thread",id:"thread"}),i.jsxs(we,{htmlFor:"thread",className:"text-sm",children:["Conversación completa",i.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",s," mensajes)"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"selection",id:"selection",disabled:j("selection")}),i.jsxs(we,{htmlFor:"selection",className:`text-sm ${j("selection")?"text-muted-foreground":""}`,children:["Mensajes seleccionados",i.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",a.length," seleccionados)"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"current",id:"current",disabled:j("current")}),i.jsx(we,{htmlFor:"current",className:`text-sm ${j("current")?"text-muted-foreground":""}`,children:"Mensaje actual"})]})]})]}),i.jsx(el,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Opciones de limpieza"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"hideMeta",checked:x.hideMeta,onCheckedChange:D=>N(C=>({...C,hideMeta:!!D}))}),i.jsx(we,{htmlFor:"hideMeta",className:"text-sm",children:"Ocultar metadatos (fechas, IDs)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"hideChips",checked:x.hideChips,onCheckedChange:D=>N(C=>({...C,hideChips:!!D}))}),i.jsx(we,{htmlFor:"hideChips",className:"text-sm",children:"Ocultar chips de Brand Guard"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"maskPII",checked:x.maskPII,onCheckedChange:D=>N(C=>({...C,maskPII:!!D}))}),i.jsx(we,{htmlFor:"maskPII",className:"text-sm",children:"Enmascarar información personal (PII)"})]})]})]}),i.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx($e,{variant:"outline",children:w[x.format]}),i.jsx("span",{className:"text-muted-foreground",children:"•"}),i.jsx("span",{className:"text-muted-foreground",children:P()})]})}),y&&i.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[i.jsx(Pr,{className:"h-4 w-4"}),i.jsx("span",{children:y})]})}),f&&!m&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 mb-2",children:[i.jsx(Ue,{className:"h-4 w-4"}),i.jsxs("span",{children:["Exportación completada: ",f.filename]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{size:"sm",variant:"outline",onClick:d,className:"h-8",children:[i.jsx(Tn,{className:"h-3 w-3 mr-1"}),"Descargar"]}),f.content&&i.jsxs(ee,{size:"sm",variant:"outline",onClick:h,className:"h-8",children:[i.jsx(Il,{className:"h-3 w-3 mr-1"}),"Copiar"]})]})]})]}),i.jsxs(Pv,{children:[i.jsx(ee,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),i.jsx(ee,{onClick:S,disabled:m||j(x.range),children:m?i.jsxs(i.Fragment,{children:[i.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}),"Exportando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Exportar"]})})]})]})})},mp=({open:t,onOpenChange:e,threadId:n,threadTitle:r,messageCount:s,selectedMessageIds:o=[],authToken:a})=>{const{createShareLink:l,copyShareLink:c,revokeShareLink:d,isSharing:h,lastShare:m,shareError:f,clearErrors:y}=Ov(a),[v,x]=p.useState({mode:"readonly",scope:o.length>0?"selection":"thread",expiresDays:7,hideUsernames:!0,hideMeta:!0,hideChips:!0,maskPII:!0}),[N,b]=p.useState("7"),w=async()=>{y();const E={threadId:n,mode:v.mode,scope:v.scope,expiresDays:v.expiresDays||void 0,hideUsernames:v.hideUsernames,cleanup:{hideMeta:v.hideMeta,hideChips:v.hideChips,maskPII:v.maskPII},...v.scope==="selection"?{selectionIds:o}:{}};try{await l(E)}catch(k){console.error("Share failed:",k)}},S=async()=>{if(m)try{await d(m.token)}catch(E){console.error("Revoke failed:",E)}},P=()=>{switch(v.scope){case"thread":return`${s} mensajes completos`;case"selection":return`${o.length} mensajes seleccionados`;default:return""}},j=()=>v.expiresDays?v.expiresDays===1?"1 día":`${v.expiresDays} días`:"Sin expiración",D=()=>m?.expires_at?new Date(m.expires_at).toLocaleString():null,C=[{value:1,label:"1 día"},{value:7,label:"1 semana"},{value:30,label:"1 mes"},{value:0,label:"Sin expiración"}];return i.jsx(Dd,{open:t,onOpenChange:e,children:i.jsxs(Ml,{className:"max-w-md",children:[i.jsxs(Dl,{children:[i.jsxs(Ol,{className:"flex items-center gap-2",children:[i.jsx(qo,{className:"h-5 w-5"}),"Compartir Conversación"]}),i.jsxs(Av,{children:["Crea un enlace seguro para compartir ",i.jsx("strong",{children:r}),"."]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Modo de acceso"}),i.jsxs(Zs,{value:v.mode,onValueChange:E=>x(k=>({...k,mode:E})),className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ht,{value:"readonly",id:"readonly",className:"peer sr-only"}),i.jsxs(we,{htmlFor:"readonly",className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[i.jsx(i$,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs font-medium",children:"Solo lectura"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ht,{value:"comments",id:"comments",className:"peer sr-only"}),i.jsxs(we,{htmlFor:"comments",className:"flex flex-col items-center gap-2 p-3 border rounded-lg cursor-pointer peer-checked:border-primary peer-checked:bg-primary/5 hover:bg-accent/50 transition-colors",children:[i.jsx(sc,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs font-medium",children:"Con comentarios"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Contenido"}),i.jsxs(Zs,{value:v.scope,onValueChange:E=>x(k=>({...k,scope:E})),className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"thread",id:"thread-share"}),i.jsxs(we,{htmlFor:"thread-share",className:"text-sm",children:["Conversación completa",i.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",s," mensajes)"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"selection",id:"selection-share",disabled:o.length===0}),i.jsxs(we,{htmlFor:"selection-share",className:`text-sm ${o.length===0?"text-muted-foreground":""}`,children:["Mensajes seleccionados",i.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",o.length," seleccionados)"]})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(we,{className:"text-sm font-medium",children:"Expiración"}),i.jsx(Zs,{value:v.expiresDays.toString(),onValueChange:E=>{const k=parseInt(E);x(I=>({...I,expiresDays:k})),b(E)},className:"grid grid-cols-2 gap-2",children:C.map(E=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:E.value.toString(),id:`expire-${E.value}`}),i.jsx(we,{htmlFor:`expire-${E.value}`,className:"text-sm",children:E.label})]},E.value))})]}),i.jsx(el,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(we,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(y2,{className:"h-4 w-4"}),"Opciones de privacidad"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"hideUsernames",checked:v.hideUsernames,onCheckedChange:E=>x(k=>({...k,hideUsernames:!!E}))}),i.jsx(we,{htmlFor:"hideUsernames",className:"text-sm",children:"Ocultar nombres de usuario"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"hideMeta-share",checked:v.hideMeta,onCheckedChange:E=>x(k=>({...k,hideMeta:!!E}))}),i.jsx(we,{htmlFor:"hideMeta-share",className:"text-sm",children:"Ocultar metadatos internos"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"hideChips-share",checked:v.hideChips,onCheckedChange:E=>x(k=>({...k,hideChips:!!E}))}),i.jsx(we,{htmlFor:"hideChips-share",className:"text-sm",children:"Ocultar alertas de Brand Guard"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"maskPII-share",checked:v.maskPII,onCheckedChange:E=>x(k=>({...k,maskPII:!!E}))}),i.jsx(we,{htmlFor:"maskPII-share",className:"text-sm",children:"Enmascarar información personal"})]})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[i.jsx($e,{variant:"outline",children:v.mode==="readonly"?"Solo lectura":"Con comentarios"}),i.jsx("span",{className:"text-muted-foreground",children:"•"}),i.jsx("span",{className:"text-muted-foreground",children:P()})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(jh,{className:"h-3 w-3"}),i.jsxs("span",{children:["Expira en ",j()]})]})]}),f&&i.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[i.jsx(Pr,{className:"h-4 w-4"}),i.jsx("span",{children:f})]})}),m&&!h&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 mb-3",children:[i.jsx(Ue,{className:"h-4 w-4"}),i.jsx("span",{children:"Enlace creado exitosamente"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-white border rounded p-2",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Enlace compartible:"}),i.jsx("div",{className:"text-sm font-mono break-all",children:m.link})]}),D()&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expira el ",D()]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{size:"sm",variant:"outline",onClick:c,className:"h-8",children:[i.jsx(Il,{className:"h-3 w-3 mr-1"}),"Copiar enlace"]}),i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>window.open(m.link,"_blank"),className:"h-8",children:[i.jsx(s$,{className:"h-3 w-3 mr-1"}),"Abrir"]}),i.jsx(ee,{size:"sm",variant:"destructive",onClick:S,className:"h-8",children:"Revocar"})]})]})]})]}),i.jsxs(Pv,{children:[i.jsx(ee,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),i.jsx(ee,{onClick:w,disabled:h||v.scope==="selection"&&o.length===0,children:h?i.jsxs(i.Fragment,{children:[i.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{className:"mr-2 h-4 w-4"}),"Crear enlace"]})})]})]})})},k7=({threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:s=[],authToken:o,variant:a="buttons",className:l=""})=>{const[c,d]=p.useState(!1),[h,m]=p.useState(!1),{exportCurrentMessage:f,shareConversation:y,isLoading:v}=Ov(o),x=async()=>{if(!r){Qe.error("No hay mensaje actual para exportar");return}try{const b=await f(t,r,"md");b.content&&(await navigator.clipboard.writeText(b.content),Qe.success("Mensaje copiado como Markdown"))}catch{}},N=async()=>{try{const b=await y(t,{mode:"readonly",expiresDays:7,hideUsernames:!0});b&&(await navigator.clipboard.writeText(b.link),Qe.success("Enlace de compartir copiado al portapapeles"))}catch{}};return a==="compact"?i.jsxs("div",{className:`flex items-center ${l}`,children:[i.jsxs(Xm,{children:[i.jsx(Jm,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(n$,{className:"h-4 w-4"})})}),i.jsxs(Zm,{align:"end",className:"w-48",children:[i.jsxs(Rt,{onClick:x,disabled:!r||v,children:[v?i.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Il,{className:"mr-2 h-4 w-4"}),"Copiar mensaje"]}),i.jsxs(Rt,{onClick:()=>d(!0),children:[i.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Exportar..."]}),i.jsx(Rd,{}),i.jsxs(Rt,{onClick:N,disabled:v,children:[v?i.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(qo,{className:"mr-2 h-4 w-4"}),"Compartir rápido"]}),i.jsxs(Rt,{onClick:()=>m(!0),children:[i.jsx(qo,{className:"mr-2 h-4 w-4"}),"Compartir..."]})]})]}),i.jsx(pp,{open:c,onOpenChange:d,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:s,authToken:o}),i.jsx(mp,{open:h,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:s,authToken:o})]}):a==="dropdown"?i.jsxs("div",{className:`flex items-center ${l}`,children:[i.jsxs(Xm,{children:[i.jsx(Jm,{asChild:!0,children:i.jsxs(ee,{variant:"outline",size:"sm",children:[i.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Exportar"]})}),i.jsxs(Zm,{align:"end",className:"w-48",children:[i.jsxs(Rt,{onClick:x,disabled:!r||v,children:[v?i.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Td,{className:"mr-2 h-4 w-4"}),"Copiar como MD"]}),i.jsx(Rd,{}),i.jsxs(Rt,{onClick:()=>d(!0),children:[i.jsx(Td,{className:"mr-2 h-4 w-4"}),"Markdown"]}),i.jsxs(Rt,{onClick:()=>d(!0),children:[i.jsx(hv,{className:"mr-2 h-4 w-4"}),"HTML"]}),i.jsxs(Rt,{onClick:()=>d(!0),children:[i.jsx(h2,{className:"mr-2 h-4 w-4"}),"PDF"]})]})]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(!0),className:"ml-2",children:[i.jsx(qo,{className:"mr-2 h-4 w-4"}),"Compartir"]}),i.jsx(pp,{open:c,onOpenChange:d,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:s,authToken:o}),i.jsx(mp,{open:h,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:s,authToken:o})]}):i.jsxs("div",{className:`flex items-center gap-2 ${l}`,children:[i.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>d(!0),children:[i.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Exportar"]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[i.jsx(qo,{className:"mr-2 h-4 w-4"}),"Compartir"]}),r&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:x,disabled:v,title:"Copiar mensaje actual como Markdown",children:v?i.jsx(vr,{className:"h-4 w-4 animate-spin"}):i.jsx(Il,{className:"h-4 w-4"})}),i.jsx(pp,{open:c,onOpenChange:d,threadId:t,threadTitle:e,messageCount:n,currentMessageId:r,selectedMessageIds:s,authToken:o}),i.jsx(mp,{open:h,onOpenChange:m,threadId:t,threadTitle:e,messageCount:n,selectedMessageIds:s,authToken:o})]})};var uc="Menubar",[ng,j7,T7]=pv(uc),[_j]=Tt(uc,[T7,Yi]),Pt=xv(),Ej=Yi(),[I7,Lv]=_j(uc),Sj=p.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:s,defaultValue:o,loop:a=!0,dir:l,...c}=t,d=ic(l),h=Ej(n),[m,f]=Ts({prop:r,onChange:s,defaultProp:o??"",caller:uc}),[y,v]=p.useState(null);return i.jsx(I7,{scope:n,value:m,onMenuOpen:p.useCallback(x=>{f(x),v(x)},[f]),onMenuClose:p.useCallback(()=>f(""),[f]),onMenuToggle:p.useCallback(x=>{f(N=>N?"":x),v(x)},[f]),dir:d,loop:a,children:i.jsx(ng.Provider,{scope:n,children:i.jsx(ng.Slot,{scope:n,children:i.jsx(gv,{asChild:!0,...h,orientation:"horizontal",loop:a,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:v,children:i.jsx(ie.div,{role:"menubar",...c,ref:e})})})})})});Sj.displayName=uc;var Fv="MenubarMenu",[P7,Cj]=_j(Fv),Nj=t=>{const{__scopeMenubar:e,value:n,...r}=t,s=jn(),o=n||s||"LEGACY_REACT_AUTO_VALUE",a=Lv(Fv,e),l=Pt(e),c=p.useRef(null),d=p.useRef(!1),h=a.value===o;return p.useEffect(()=>{h||(d.current=!1)},[h]),i.jsx(P7,{scope:e,value:o,triggerId:jn(),triggerRef:c,contentId:jn(),wasKeyboardTriggerOpenRef:d,children:i.jsx(ok,{...l,open:h,onOpenChange:m=>{m||a.onMenuClose()},modal:!1,dir:a.dir,...r})})};Nj.displayName=Fv;var rg="MenubarTrigger",kj=p.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...s}=t,o=Ej(n),a=Pt(n),l=Lv(rg,n),c=Cj(rg,n),d=p.useRef(null),h=xe(e,d,c.triggerRef),[m,f]=p.useState(!1),y=l.value===c.value;return i.jsx(ng.ItemSlot,{scope:n,value:c.value,disabled:r,children:i.jsx(yv,{asChild:!0,...o,focusable:!r,tabStopId:c.value,children:i.jsx(ik,{asChild:!0,...a,children:i.jsx(ie.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":m?"":void 0,"data-state":y?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:h,onPointerDown:Q(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(l.onMenuOpen(c.value),y||v.preventDefault())}),onPointerEnter:Q(t.onPointerEnter,()=>{!!l.value&&!y&&(l.onMenuOpen(c.value),d.current?.focus())}),onKeyDown:Q(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&l.onMenuToggle(c.value),v.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(v.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Q(t.onFocus,()=>f(!0)),onBlur:Q(t.onBlur,()=>f(!1))})})})})});kj.displayName=rg;var A7="MenubarPortal",jj=t=>{const{__scopeMenubar:e,...n}=t,r=Pt(e);return i.jsx(ak,{...r,...n})};jj.displayName=A7;var sg="MenubarContent",Tj=p.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...s}=t,o=Pt(n),a=Lv(sg,n),l=Cj(sg,n),c=j7(n),d=p.useRef(!1);return i.jsx(lk,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...o,...s,ref:e,align:r,onCloseAutoFocus:Q(t.onCloseAutoFocus,h=>{!!!a.value&&!d.current&&l.triggerRef.current?.focus(),d.current=!1,h.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,h=>{const m=h.target;c().some(y=>y.ref.current?.contains(m))&&h.preventDefault()}),onInteractOutside:Q(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:h=>{l.wasKeyboardTriggerOpenRef.current||h.preventDefault()},onKeyDown:Q(t.onKeyDown,h=>{if(["ArrowRight","ArrowLeft"].includes(h.key)){const m=h.target,f=m.hasAttribute("data-radix-menubar-subtrigger"),y=m.closest("[data-radix-menubar-content]")!==h.currentTarget,x=(a.dir==="rtl"?"ArrowRight":"ArrowLeft")===h.key;if(!x&&f||y&&x)return;let w=c().filter(j=>!j.disabled).map(j=>j.value);x&&w.reverse();const S=w.indexOf(l.value);w=a.loop?Z7(w,S+1):w.slice(S+1);const[P]=w;P&&a.onMenuOpen(P)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Tj.displayName=sg;var R7="MenubarGroup",M7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(ck,{...s,...r,ref:e})});M7.displayName=R7;var D7="MenubarLabel",O7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(uk,{...s,...r,ref:e})});O7.displayName=D7;var L7="MenubarItem",Ij=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(dk,{...s,...r,ref:e})});Ij.displayName=L7;var F7="MenubarCheckboxItem",V7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(hk,{...s,...r,ref:e})});V7.displayName=F7;var $7="MenubarRadioGroup",z7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(fk,{...s,...r,ref:e})});z7.displayName=$7;var U7="MenubarRadioItem",B7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(pk,{...s,...r,ref:e})});B7.displayName=U7;var H7="MenubarItemIndicator",G7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(mk,{...s,...r,ref:e})});G7.displayName=H7;var W7="MenubarSeparator",Pj=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(gk,{...s,...r,ref:e})});Pj.displayName=W7;var K7="MenubarArrow",q7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(yk,{...s,...r,ref:e})});q7.displayName=K7;var Y7="MenubarSubTrigger",Q7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(vk,{"data-radix-menubar-subtrigger":"",...s,...r,ref:e})});Q7.displayName=Y7;var X7="MenubarSubContent",J7=p.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,s=Pt(n);return i.jsx(xk,{...s,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});J7.displayName=X7;function Z7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eU=Sj,tU=Nj,nU=kj,rU=jj,sU=Tj,oU=Ij,iU=Pj;function aU({className:t,...e}){return i.jsx(eU,{"data-slot":"menubar",className:ce("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",t),...e})}function Ea({...t}){return i.jsx(tU,{"data-slot":"menubar-menu",...t})}function lU({...t}){return i.jsx(rU,{"data-slot":"menubar-portal",...t})}function Sa({className:t,...e}){return i.jsx(nU,{"data-slot":"menubar-trigger",className:ce("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",t),...e})}function Ca({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s}){return i.jsx(lU,{children:i.jsx(sU,{"data-slot":"menubar-content",align:e,alignOffset:n,sideOffset:r,className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",t),...s})})}function st({className:t,inset:e,variant:n="default",...r}){return i.jsx(oU,{"data-slot":"menubar-item","data-inset":e,"data-variant":n,className:ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function gp({className:t,...e}){return i.jsx(iU,{"data-slot":"menubar-separator",className:ce("bg-border -mx-1 my-1 h-px",t),...e})}function cU(){const[t,e]=p.useState(!1),[n,r]=p.useState(!1);return p.useEffect(()=>{const l=()=>{const c=window.innerWidth<=768;r(c),!c&&n?e(!0):c&&!n?e(!1):n===!1&&!c&&e(!0)};return l(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[n]),{isOpen:t,isMobile:n,toggle:()=>e(!t),close:()=>e(!1),open:()=>e(!0)}}const Aj=p.createContext(void 0);function uU({children:t}){const e=cU();return i.jsx(Aj.Provider,{value:e,children:t})}function Rj(){const t=p.useContext(Aj);if(t===void 0)throw new Error("useSidebarContext must be used within a SidebarProvider");return t}function dU({activeModule:t,threadId:e,threadTitle:n="Chat sin título",messageCount:r=0,authToken:s,showMasterMenu:o=!1}={}){const{toggle:a,isMobile:l}=Rj(),c=t==="chat"&&e&&r>0;return i.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[l&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:a,className:"md:hidden p-2",children:i.jsx(j$,{className:"w-5 h-5"})}),o&&l&&i.jsxs(Xm,{children:[i.jsx(Jm,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",className:"lg:hidden p-2",children:i.jsx(s9,{className:"w-5 h-5"})})}),i.jsxs(Zm,{align:"start",className:"w-48",children:[i.jsx(fp,{children:"Archivo"}),i.jsxs(Rt,{children:[i.jsx(qb,{className:"mr-2 h-4 w-4"}),"Nuevo proyecto"]}),i.jsxs(Rt,{children:[i.jsx(Xb,{className:"mr-2 h-4 w-4"}),"Guardar"]}),i.jsx(Rd,{}),i.jsx(fp,{children:"Edición"}),i.jsxs(Rt,{children:[i.jsx(Zb,{className:"mr-2 h-4 w-4"}),"Deshacer"]}),i.jsxs(Rt,{children:[i.jsx(Qb,{className:"mr-2 h-4 w-4"}),"Rehacer"]}),i.jsx(Rd,{}),i.jsx(fp,{children:"Exportar"}),i.jsxs(Rt,{children:[i.jsx(ki,{className:"mr-2 h-4 w-4"}),"Preflight QA"]}),i.jsxs(Rt,{children:[i.jsx(Kb,{className:"mr-2 h-4 w-4"}),"Exportar MP4"]})]})]}),i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx(Id,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h1",{className:"text-foreground font-semibold",children:"AI Content Studio"}),i.jsx("div",{className:"flex items-center gap-2 -mt-1",children:i.jsx($e,{variant:"outline",className:"text-xs bg-green-100 text-green-700 border-green-300",children:"Sistema Completo"})})]})]}),i.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4",children:[o&&i.jsx("div",{className:"hidden lg:block",children:i.jsxs(aU,{className:"bg-white border border-gray-200 shadow-sm",children:[i.jsxs(Ea,{children:[i.jsx(Sa,{className:"text-sm",children:"Archivo"}),i.jsxs(Ca,{children:[i.jsxs(st,{children:[i.jsx(qb,{className:"mr-2 h-4 w-4"}),"Nuevo proyecto"]}),i.jsxs(st,{children:[i.jsx(Xb,{className:"mr-2 h-4 w-4"}),"Guardar"]}),i.jsx(gp,{}),i.jsxs(st,{children:[i.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]}),i.jsxs(Ea,{children:[i.jsx(Sa,{className:"text-sm",children:"Edición"}),i.jsxs(Ca,{children:[i.jsxs(st,{children:[i.jsx(Zb,{className:"mr-2 h-4 w-4"}),"Deshacer"]}),i.jsxs(st,{children:[i.jsx(Qb,{className:"mr-2 h-4 w-4"}),"Rehacer"]}),i.jsx(gp,{}),i.jsxs(st,{children:[i.jsx(W$,{className:"mr-2 h-4 w-4"}),"Cortar"]}),i.jsxs(st,{children:[i.jsx(Il,{className:"mr-2 h-4 w-4"}),"Copiar"]}),i.jsxs(st,{children:[i.jsx(QV,{className:"mr-2 h-4 w-4"}),"Pegar"]})]})]}),i.jsxs(Ea,{children:[i.jsx(Sa,{className:"text-sm",children:"Capas"}),i.jsxs(Ca,{children:[i.jsxs(st,{children:[i.jsx(Yb,{className:"mr-2 h-4 w-4"}),"Ordenar capas"]}),i.jsxs(st,{children:[i.jsx(Yb,{className:"mr-2 h-4 w-4"}),"Agrupar"]}),i.jsxs(st,{children:[i.jsx(Id,{className:"mr-2 h-4 w-4"}),"Bloquear"]})]})]}),i.jsxs(Ea,{children:[i.jsx(Sa,{className:"text-sm",children:"Subtítulos"}),i.jsxs(Ca,{children:[i.jsxs(st,{children:[i.jsx(P$,{className:"mr-2 h-4 w-4"}),"Generar IA"]}),i.jsxs(st,{children:[i.jsx(fv,{className:"mr-2 h-4 w-4"}),"Sincronizar"]}),i.jsxs(st,{children:[i.jsx(_$,{className:"mr-2 h-4 w-4"}),"Traducir"]})]})]}),i.jsxs(Ea,{children:[i.jsx(Sa,{className:"text-sm",children:"Exportar"}),i.jsxs(Ca,{children:[i.jsxs(st,{children:[i.jsx(ki,{className:"mr-2 h-4 w-4"}),"Preflight QA"]}),i.jsx(gp,{}),i.jsxs(st,{children:[i.jsx(Kb,{className:"mr-2 h-4 w-4"}),"Exportar MP4"]}),i.jsxs(st,{children:[i.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Exportar multiformato"]})]})]})]})}),i.jsx(b9,{}),o&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-gray-50 px-2 py-1 rounded border",children:[i.jsx("span",{className:"hidden sm:inline",children:"⌘K"}),i.jsx("span",{className:"sm:hidden",children:"⌘"}),i.jsx("span",{children:"Paleta de comandos"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(I9,{showControls:!1}),c&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-6 w-px bg-border"}),i.jsx(k7,{threadId:e,threadTitle:n,messageCount:r,authToken:s,variant:"compact"})]}),i.jsx("div",{className:"h-6 w-px bg-border"}),i.jsxs(ee,{variant:"default",className:"flex items-center gap-2",children:[i.jsx(m2,{className:"w-4 h-4"}),"Nuevo Proyecto"]}),i.jsx(v6,{className:"w-9 h-9",children:i.jsx(x6,{className:"bg-muted text-muted-foreground",children:"US"})})]})]})}const hU=[{id:"chat",label:"Chat Maestro",icon:dv,highlight:!0},{id:"posts",label:"Posts/Carrousels",icon:Ni},{id:"videos",label:"Videos",icon:g9},{id:"podcasts",label:"Podcasts",icon:p2},{id:"stories",label:"Historias",icon:Z$},{id:"calendar",label:"Calendar",icon:Tl},{id:"library",label:"Biblioteca",icon:f$},{id:"brandkit",label:"BrandKit",icon:Pl},{id:"analytics",label:"Analytics",icon:FV},{id:"automation",label:"Automatización",icon:Km},{id:"competition",label:"Competencia",icon:l9}],fU=p.memo(function({activeModule:e,onModuleChange:n}){const{isOpen:r,isMobile:s,close:o}=Rj(),a=l=>{n(l),s&&o()};return!r&&!s?null:i.jsxs(i.Fragment,{children:[s&&r&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:o}),i.jsxs("aside",{className:`
          ${s?`fixed left-0 top-0 h-full w-80 z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"}`:"relative w-1/5 min-w-64"}
          bg-sidebar border-r border-sidebar-border flex flex-col
        `,children:[s&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[i.jsx("h2",{className:"text-sidebar-foreground",children:"AI Content Studio"}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:o,className:"p-2 text-sidebar-foreground hover:bg-sidebar-accent",children:i.jsx(po,{className:"w-5 h-5"})})]}),i.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:hU.map(l=>{const c=l.icon,d=e===l.id,h=l.highlight;return i.jsxs(ee,{variant:d?"secondary":"ghost",className:`w-full justify-start gap-3 h-12 text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground ${d?"bg-sidebar-primary text-sidebar-primary-foreground hover:bg-sidebar-primary hover:text-sidebar-primary-foreground":""} ${h&&!d?"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 hover:from-purple-100 hover:to-blue-100 dark:from-purple-900/20 dark:to-blue-900/20 dark:border-purple-700":""}`,onClick:()=>a(l.id),children:[i.jsx(c,{className:`w-5 h-5 ${h&&!d?"text-purple-600 dark:text-purple-400":""}`}),i.jsx("span",{className:`${h&&!d?"text-purple-700 font-medium dark:text-purple-300":""}`,children:l.label}),h&&!d&&i.jsx("div",{className:"ml-auto w-2 h-2 bg-purple-400 rounded-full animate-pulse"})]},l.id)})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50",children:i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-3 border border-green-200 dark:border-green-700",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Sistema Activo"})]}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Todos los módulos disponibles y funcionando correctamente."})]})})]})]})}),Mj=p.createContext(void 0);function pU({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState("briefing"),o=S=>{if(!e)return;const P={...e,...S,updatedAt:new Date};n(P)},a=S=>{e&&o({briefing:{...e.briefing,...S},status:"briefing"})},l=S=>{e&&o({scenes:[...e.scenes,S],status:"generating"})},c=(S,P)=>{if(!e)return;const j=e.scenes.map(D=>D.id===S?{...D,...P}:D);o({scenes:j})},d=S=>{if(!e)return;const P=e.scenes.map(j=>({...j,isSelected:S.includes(j.id)}));o({scenes:P,selectedSceneIds:S,status:"editing"})},h=S=>{e&&o({timeline:{...e.timeline,...S}})},m=S=>{e&&o({copywriting:{...e.copywriting,...S},status:"finalizing"})},f=["briefing","configuration","storyboard","generation","editing","copywriting","publishing"],w={currentProject:e,setCurrentProject:n,updateProject:o,updateBriefing:a,addScene:l,updateScene:c,selectScenes:d,updateTimeline:h,updateCopywriting:m,currentStep:r,setCurrentStep:s,goToNextStep:()=>{const S=f.indexOf(r);S<f.length-1&&s(f[S+1])},goToPreviousStep:()=>{const S=f.indexOf(r);S>0&&s(f[S-1])},saveProject:async()=>{if(e)try{const S={...e,updatedAt:new Date};console.log("Saving video project:",S)}catch(S){throw console.error("Error saving video project:",S),S}},loadProject:async S=>{try{console.log("Loading video project:",S)}catch(P){throw console.error("Error loading video project:",P),P}},createNewProject:S=>{const P={id:`video_project_${Date.now()}`,title:`Nuevo ${S==="short"?"Short/Reel":S==="video_long"?"Video Largo":S}`,type:S,status:"briefing",briefing:{description:"",videoType:S,duration:{target:30,min:15,max:60,label:"30s"},platform:S==="short"?"multiple":"youtube",style:S==="short"?"trendy":"dynamic",chatHistory:[],objectives:S==="short"?["viral"]:[]},scenes:[],selectedSceneIds:[],timeline:{totalDuration:0,scenes:[],globalLayers:[],audioTracks:[],markers:[]},copywriting:{caption:"",hashtags:[],tone:"",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(P),s("briefing")}};return i.jsx(Mj.Provider,{value:w,children:t})}function aG(){const t=p.useContext(Mj);if(t===void 0)throw new Error("useVideoProject must be used within a VideoProjectProvider");return t}const Dj=p.createContext(void 0);function mU({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState("briefing"),o=S=>{if(!e)return;const P={...e,...S,updatedAt:new Date};n(P)},a=S=>{e&&o({briefing:{...e.briefing,...S},status:"briefing"})},l=S=>{e&&o({configuration:{...e.configuration,...S},status:"configuring"})},c=S=>{e&&o({designs:[...e.designs,S],status:"generating"})},d=S=>{if(!e)return;const P=e.designs.map(j=>({...j,isSelected:j.id===S}));o({designs:P,selectedDesignId:S,status:"editing"})},h=S=>{if(!e||!e.selectedDesignId)return;const P=e.designs.map(j=>j.id===e.selectedDesignId?{...j,...S}:j);o({designs:P})},m=S=>{e&&o({copywriting:{...e.copywriting,...S},status:"finalizing"})},f=["briefing","configuration","generation","editing","copywriting","caption","publishing"],w={currentProject:e,setCurrentProject:n,updateProject:o,updateBriefing:a,updateConfiguration:l,addDesign:c,selectDesign:d,updateSelectedDesign:h,updateCopywriting:m,currentStep:r,setCurrentStep:s,goToNextStep:()=>{const S=f.indexOf(r);S<f.length-1&&s(f[S+1])},goToPreviousStep:()=>{const S=f.indexOf(r);S>0&&s(f[S-1])},saveProject:async()=>{if(e)try{const S={...e,updatedAt:new Date};console.log("Saving project:",S)}catch(S){throw console.error("Error saving project:",S),S}},loadProject:async S=>{try{console.log("Loading project:",S)}catch(P){throw console.error("Error loading project:",P),P}},createNewProject:S=>{const P={id:`project_${Date.now()}`,title:`Nuevo ${S==="post"?"Post":"Carrusel"}`,type:S,status:"briefing",briefing:{description:"",chatHistory:[],referenceImages:[],objectives:[]},configuration:{socialPlatforms:["instagram"],primaryPlatform:"instagram",generationCount:3,format:{ratio:"1:1",name:"Cuadrado",width:1080,height:1080},dimensions:{width:1080,height:1080}},designs:[],copywriting:{caption:"",hashtags:[],tone:"",length:"medium",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(P),s("briefing")}};return i.jsx(Dj.Provider,{value:w,children:t})}function lG(){const t=p.useContext(Dj);if(t===void 0)throw new Error("usePostProject must be used within a PostProjectProvider");return t}const Oj=p.createContext(void 0);function gU({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState("briefing"),o=j=>{if(!e)return;const D={...e,...j,updatedAt:new Date};n(D)},a=j=>{e&&o({briefing:{...e.briefing,...j},status:"briefing"})},l=j=>{e&&o({concepts:[...e.concepts,j],status:"generating"})},c=j=>{if(!e)return;const D=e.concepts.find(k=>k.id===j);if(!D)return;const C=d(D),E=e.concepts.map(k=>({...k,isSelected:k.id===j}));o({concepts:E,selectedConceptId:j,layers:C,status:"editing"})},d=j=>{const D=[];let C=0;D.push({id:`bg_${j.id}`,type:"background",name:"Fondo",content:{type:j.layout.background.type,primaryColor:j.layout.background.primaryColor,secondaryColor:j.layout.background.secondaryColor,direction:j.layout.background.direction},position:{x:0,y:0,width:100,height:100},style:{backgroundColor:j.layout.background.primaryColor},visible:!0,locked:!1,zIndex:C++});const E=j.layout.textPlacement.area,k=E==="top"?15:E==="center"?45:75;if(D.push({id:`text_${j.id}`,type:"text",name:"Texto Principal",content:{text:j.title,fontSize:36,fontFamily:j.brandElements.fonts[0]?.family||"Inter",fontWeight:"700"},position:{x:10,y:k,width:80,height:15},style:{fontSize:36,fontFamily:j.brandElements.fonts[0]?.family||"Inter",fontWeight:"700",color:"#FFFFFF",textAlign:j.layout.textPlacement.alignment},visible:!0,locked:!1,zIndex:C++,animation:{type:"fade_in",duration:.5}}),j.layout.logoPosition!=="hidden"){const I=h(j.layout.logoPosition);D.push({id:`logo_${j.id}`,type:"logo",name:"Logo",content:{type:"placeholder",text:"LOGO"},position:I,style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:8,color:"#FFFFFF"},visible:!0,locked:!1,zIndex:C++})}return j.layout.overlays.forEach((I,M)=>{D.push({id:`overlay_${j.id}_${M}`,type:"shape",name:`Overlay ${M+1}`,content:{type:I.type},position:I.position,style:I.style,visible:!0,locked:!1,zIndex:C++})}),D},h=j=>{switch(j){case"top-left":return{x:5,y:5,width:15,height:8};case"top-right":return{x:80,y:5,width:15,height:8};case"bottom-left":return{x:5,y:87,width:15,height:8};case"bottom-right":return{x:80,y:87,width:15,height:8};case"center":return{x:42.5,y:46,width:15,height:8};default:return{x:80,y:87,width:15,height:8}}},m=j=>{e&&o({layers:j})},f=(j,D)=>{if(!e)return;const C=e.layers.map(E=>E.id===j?{...E,...D}:E);o({layers:C})},y=j=>{e&&o({copywriting:{...e.copywriting,...j},status:"finalizing"})},v=["briefing","configuration","generation","advanced-editing","captions","publishing"],P={currentProject:e,setCurrentProject:n,updateProject:o,updateBriefing:a,addConcept:l,selectConcept:c,updateLayers:m,updateLayer:f,updateCopywriting:y,currentStep:r,setCurrentStep:s,goToNextStep:()=>{const j=v.indexOf(r);j<v.length-1&&s(v[j+1])},goToPreviousStep:()=>{const j=v.indexOf(r);j>0&&s(v[j-1])},saveProject:async()=>{if(e)try{const j={...e,updatedAt:new Date};console.log("Saving story project:",j)}catch(j){throw console.error("Error saving story project:",j),j}},loadProject:async j=>{try{console.log("Loading story project:",j)}catch(D){throw console.error("Error loading story project:",D),D}},createNewProject:j=>{const D={id:`story_project_${Date.now()}`,title:"Nueva Historia",type:"story",objective:j,status:"briefing",briefing:{description:"",objective:j,platform:"instagram",duration:{seconds:10,label:"10s (Estándar)",autoAdvance:!0},chatHistory:[]},concepts:[],layers:[],copywriting:{mainText:"",hashtags:[],tone:"",length:"short",aiGenerated:!1},publishing:{platforms:[],status:"draft"},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(D),s("briefing")}};return i.jsx(Oj.Provider,{value:P,children:t})}function Vv(){const t=p.useContext(Oj);if(t===void 0)throw new Error("useStoryProject must be used within a StoryProjectProvider");return t}const Lj=p.createContext(void 0);function yU({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState("briefing"),o=R=>{if(!e)return;const T={...e,...R,updatedAt:new Date};n(T)},a=R=>{e&&o({briefing:{...e.briefing,...R},status:"briefing"})},l=R=>{e&&o({recording:{...e.recording,...R},status:R.status==="completed"?"transcribing":"recording"})},c=R=>{e&&o({transcription:{...e.transcription,...R},status:R.status==="completed"?"highlighting":"transcribing"})},d=(R,T)=>{if(!e)return;const $=e.transcription.segments.map(L=>L.id===R?{...L,...T,isEdited:!0}:L);c({segments:$,editHistory:[...e.transcription.editHistory,{id:`edit_${Date.now()}`,segmentId:R,originalText:e.transcription.segments.find(L=>L.id===R)?.text||"",editedText:T.text||"",timestamp:new Date,reason:"accuracy"}]})},h=R=>{if(!e||R.length<2)return;const T=e.transcription.segments,$=T.filter(q=>R.includes(q.id)).sort((q,O)=>q.startTime-O.startTime);if($.length<2)return;const L={id:`merged_${Date.now()}`,startTime:$[0].startTime,endTime:$[$.length-1].endTime,text:$.map(q=>q.text).join(" "),confidence:$.reduce((q,O)=>q+O.confidence,0)/$.length,isEdited:!0,brandFlags:[],emotions:$[0].emotions,speaker:$[0].speaker},B=[...T.filter(q=>!R.includes(q.id)),L].sort((q,O)=>q.startTime-O.startTime);c({segments:B})},m=(R,T)=>{if(!e)return;const $=e.transcription.segments.find(ne=>ne.id===R);if(!$||T<=$.startTime||T>=$.endTime)return;const L=$.text.split(" "),B=(T-$.startTime)/($.endTime-$.startTime),q=Math.floor(L.length*B),O={...$,id:`${R}_part1`,endTime:T,text:L.slice(0,q).join(" "),isEdited:!0},z={...$,id:`${R}_part2`,startTime:T,text:L.slice(q).join(" "),isEdited:!0},W=[...e.transcription.segments.filter(ne=>ne.id!==R),O,z].sort((ne,ue)=>ne.startTime-ue.startTime);c({segments:W})},f=R=>{e&&o({highlights:[...e.highlights,R]})},y=(R,T)=>{if(!e)return;const $=e.highlights.map(L=>L.id===R?{...L,...T}:L);o({highlights:$})},v=R=>{e&&o({clips:[...e.clips,R]})},x=(R,T)=>{if(!e)return;const $=e.clips.map(L=>L.id===R?{...L,...T}:L);o({clips:$})},N=["briefing","recording","transcription","highlights","publishing"],b=()=>{const R=N.indexOf(r);R<N.length-1&&s(N[R+1])},w=()=>{const R=N.indexOf(r);R>0&&s(N[R-1])},S=R=>{const T={id:`podcast_project_${Date.now()}`,title:`Nuevo ${R.includes("podcast")?"Podcast":"Contenido Educativo"}`,type:R.includes("podcast")?"podcast":"educational",status:"briefing",briefing:{description:"",contentType:R,targetDuration:{minutes:30,label:"30 min",segments:5},contentStyle:"professional",targetAudience:"",chatHistory:[],outline:{segments:[],totalEstimatedDuration:0,introduction:"",conclusion:"",transitionPhrases:[]},objectives:[],keyMessages:[],callToActions:[]},recording:{status:"not_started",recordingMethod:"browser_audio",quality:{audioSampleRate:44100,audioBitrate:128,format:"webm"},metadata:{},liveGuidance:{currentSegment:0,suggestions:[],brandReminders:[],paceGuidance:"good_pace",energyLevel:"medium"}},transcription:{status:"not_started",segments:[],confidence:0,language:"es",wordCount:0,editHistory:[],brandAlignment:{overallScore:0,toneConsistency:0,vocabularyAlignment:0,messageClarity:0,recommendations:[]}},highlights:[],clips:[],publishing:{podcastPlatforms:[],clipsPlatforms:[],status:"draft",metadata:{category:"Technology",tags:[],language:"es",isExplicit:!1},distribution:{rss:!0,embedCode:!0,downloadLink:!0,socialSharing:!0,analytics:!0}},createdAt:new Date,updatedAt:new Date,brandKitCompliant:!0};n(T),s("briefing")},P=async()=>{if(e)try{const R={...e,updatedAt:new Date};console.log("Saving podcast project:",R)}catch(R){throw console.error("Error saving podcast project:",R),R}},j=async R=>{try{console.log("Loading podcast project:",R)}catch(T){throw console.error("Error loading podcast project:",T),T}},D=async R=>{if(!e)return"";try{switch(R){case"json":return JSON.stringify(e,null,2);case"srt":return C(e.transcription.segments);case"vtt":return E(e.transcription.segments);default:return""}}catch(T){return console.error("Error exporting project:",T),""}},C=R=>R.map((T,$)=>{const L=k(T.startTime),B=k(T.endTime);return`${$+1}
${L} --> ${B}
${T.text}
`}).join(`
`),E=R=>{const T=`WEBVTT

`,$=R.map(L=>{const B=I(L.startTime),q=I(L.endTime);return`${B} --> ${q}
${L.text}
`}).join(`
`);return T+$},k=R=>{const T=Math.floor(R/3600),$=Math.floor(R%3600/60),L=Math.floor(R%60),B=Math.floor(R%1*1e3);return`${T.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")},${B.toString().padStart(3,"0")}`},I=R=>{const T=Math.floor(R/3600),$=Math.floor(R%3600/60),L=Math.floor(R%60),B=Math.floor(R%1*1e3);return`${T.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}.${B.toString().padStart(3,"0")}`},M={currentProject:e,setCurrentProject:n,updateProject:o,updateBriefing:a,updateRecording:l,updateTranscription:c,addHighlight:f,updateHighlight:y,addClip:v,updateClip:x,updateTranscriptSegment:d,mergeTranscriptSegments:h,splitTranscriptSegment:m,currentStep:r,setCurrentStep:s,goToNextStep:b,goToPreviousStep:w,saveProject:P,loadProject:j,createNewProject:S,exportProject:D};return i.jsx(Lj.Provider,{value:M,children:t})}function cG(){const t=p.useContext(Lj);if(t===void 0)throw new Error("usePodcastProject must be used within a PodcastProjectProvider");return t}class vU{jwt;constructor(e){this.jwt=e}setJWT(e){this.jwt=e}processSlashCommands(e){const n={content:e,tools:[],settings:{}},r=/\/(\w+)(?:\s+([^\s\/]+))?/g;let s;for(;(s=r.exec(e))!==null;){const[o,a,l]=s;switch(a.toLowerCase()){case"model":l&&(n.settings.model=l);break;case"temp":case"temperature":l&&(n.settings.temperature=parseFloat(l));break;case"creative":n.settings.temperature=.8;break;case"precise":n.settings.temperature=.1;break;case"web":n.tools.push("web_search");break;case"docs":n.tools.push("document_search");break;case"brand":n.settings.brandGuard=!0;break}n.content=n.content.replace(o,"").trim()}return n}}async function xU(t,e,n){const r=`run_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const s=await fetch("/make-server-ecf7df64/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""},body:JSON.stringify({...t,runId:r})});if(!s.ok)throw new Error(`Streaming failed: ${s.status}`);if(s.body&&n){const o=s.body.getReader(),a=new TextDecoder;try{for(;;){const{done:l,value:c}=await o.read();if(l)break;const h=a.decode(c).split(`
`);for(const m of h)if(m.startsWith("data: "))try{const f=JSON.parse(m.slice(6));n(f)}catch{console.warn("Failed to parse SSE event:",m)}}}finally{o.releaseLock()}}return{runId:r}}catch(s){throw console.error("Stream error:",s),s}}async function wU(t,e,n){try{const r=await fetch("/make-server-ecf7df64/api/chat/abort",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n?`Bearer ${n}`:""},body:JSON.stringify({threadId:t,runId:e})});if(!r.ok)throw new Error(`Abort failed: ${r.status}`)}catch(r){throw console.error("Abort error:",r),r}}async function bU(t,e,n,r){try{const s=await fetch("/make-server-ecf7df64/api/chat/regenerate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify({threadId:t,messageId:e,nudge:n})});if(!s.ok)throw new Error(`Regenerate failed: ${s.status}`)}catch(s){throw console.error("Regenerate error:",s),s}}async function _U(t,e,n){try{const r=await fetch("/make-server-ecf7df64/api/chat/attach/sign",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n?`Bearer ${n}`:""},body:JSON.stringify({contentType:t,threadId:e})});if(!r.ok)throw new Error(`Sign upload failed: ${r.status}`);return r.json()}catch(r){throw console.error("Sign upload error:",r),r}}async function EU(t,e){try{const n=await fetch("/make-server-ecf7df64/api/chat/thread/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Save thread failed: ${n.status}`)}catch(n){throw console.error("Save thread error:",n),n}}const x1=t=>{let e;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const f=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,f))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=e=t(r,s,l);return l},SU=t=>t?x1(t):x1,CU=t=>t;function NU(t,e=CU){const n=Se.useSyncExternalStore(t.subscribe,Se.useCallback(()=>e(t.getState()),[t,e]),Se.useCallback(()=>e(t.getInitialState()),[t,e]));return Se.useDebugValue(n),n}const kU=t=>{const e=SU(t),n=r=>NU(e,r);return Object.assign(n,e),n},jU=t=>kU;var Fj=Symbol.for("immer-nothing"),w1=Symbol.for("immer-draftable"),Qt=Symbol.for("immer-state");function En(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ji=Object.getPrototypeOf;function Ti(t){return!!t&&!!t[Qt]}function go(t){return t?Vj(t)||Array.isArray(t)||!!t[w1]||!!t.constructor?.[w1]||dc(t)||$h(t):!1}var TU=Object.prototype.constructor.toString();function Vj(t){if(!t||typeof t!="object")return!1;const e=ji(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===TU}function Od(t,e){Vh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Vh(t){const e=t[Qt];return e?e.type_:Array.isArray(t)?1:dc(t)?2:$h(t)?3:0}function og(t,e){return Vh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $j(t,e,n){const r=Vh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dc(t){return t instanceof Map}function $h(t){return t instanceof Set}function zs(t){return t.copy_||t.base_}function ig(t,e){if(dc(t))return new Map(t);if($h(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Vj(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qt];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const a=s[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(ji(t),r)}else{const r=ji(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function $v(t,e=!1){return zh(t)||Ti(t)||!go(t)||(Vh(t)>1&&Object.defineProperties(t,{set:{value:au},add:{value:au},clear:{value:au},delete:{value:au}}),Object.freeze(t),e&&Object.values(t).forEach(n=>$v(n,!0))),t}function au(){En(2)}function zh(t){return Object.isFrozen(t)}var PU={};function yo(t){const e=PU[t];return e||En(0,t),e}var Ll;function zj(){return Ll}function AU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b1(t,e){e&&(yo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ag(t){lg(t),t.drafts_.forEach(RU),t.drafts_=null}function lg(t){t===Ll&&(Ll=t.parent_)}function _1(t){return Ll=AU(Ll,t)}function RU(t){const e=t[Qt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qt].modified_&&(ag(e),En(4)),go(t)&&(t=Ld(e,t),e.parent_||Fd(e,t)),e.patches_&&yo("Patches").generateReplacementPatches_(n[Qt].base_,t,e.patches_,e.inversePatches_)):t=Ld(e,n,[]),ag(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Fj?t:void 0}function Ld(t,e,n){if(zh(e))return e;const r=e[Qt];if(!r)return Od(e,(s,o)=>S1(t,r,e,s,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Fd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,a=!1;r.type_===3&&(o=new Set(s),s.clear(),a=!0),Od(o,(l,c)=>S1(t,r,s,l,c,n,a)),Fd(t,s,!1),n&&t.patches_&&yo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function S1(t,e,n,r,s,o,a){if(Ti(s)){const l=o&&e&&e.type_!==3&&!og(e.assigned_,r)?o.concat(r):void 0,c=Ld(t,s,l);if($j(n,r,c),Ti(c))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(go(s)&&!zh(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ld(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(dc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fd(t,s)}}function Fd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$v(e,n)}function MU(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:zj(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=zv;n&&(s=[r],o=Fl);const{revoke:a,proxy:l}=Proxy.revocable(s,o);return r.draft_=l,r.revoke_=a,l}var zv={get(t,e){if(e===Qt)return t;const n=zs(t);if(!og(n,e))return DU(t,n,e);const r=n[e];return t.finalized_||!go(r)?r:r===yp(t.base_,e)?(vp(t),t.copy_[e]=ug(r,t)):r},has(t,e){return e in zs(t)},ownKeys(t){return Reflect.ownKeys(zs(t))},set(t,e,n){const r=Uj(zs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=yp(zs(t),e),o=s?.[Qt];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IU(n,s)&&(n!==void 0||og(t.base_,e)))return!0;vp(t),cg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vp(t),cg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){En(11)},getPrototypeOf(t){return ji(t.base_)},setPrototypeOf(){En(12)}},Fl={};Od(zv,(t,e)=>{Fl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fl.deleteProperty=function(t,e){return Fl.set.call(this,t,e,void 0)};Fl.set=function(t,e,n){return zv.set.call(this,t[0],e,n,t[0])};function yp(t,e){const n=t[Qt];return(n?zs(n):t)[e]}function DU(t,e,n){const r=Uj(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function Uj(t,e){if(!(e in t))return;let n=ji(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ji(n)}}function cg(t){t.modified_||(t.modified_=!0,t.parent_&&cg(t.parent_))}function vp(t){t.copy_||(t.copy_=ig(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...d){return a.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&En(6),r!==void 0&&typeof r!="function"&&En(7);let s;if(go(e)){const o=_1(this),a=ug(e,void 0);let l=!0;try{s=n(a),l=!1}finally{l?ag(o):lg(o)}return b1(o,r),E1(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Fj&&(s=void 0),this.autoFreeze_&&$v(s,!0),r){const o=[],a=[];yo("Patches").generateReplacementPatches_(e,s,o,a),r(o,a)}return s}else En(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,s;return[this.produce(e,n,(a,l)=>{r=a,s=l}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){go(t)||En(8),Ti(t)&&(t=LU(t));const e=_1(this),n=ug(t,void 0);return n[Qt].isManual_=!0,lg(e),n}finishDraft(t,e){const n=t&&t[Qt];(!n||!n.isManual_)&&En(9);const{scope_:r}=n;return b1(r,e),E1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=yo("Patches").applyPatches_;return Ti(t)?r(t,e):this.produce(t,s=>r(s,e))}};function ug(t,e){const n=dc(t)?yo("MapSet").proxyMap_(t,e):$h(t)?yo("MapSet").proxySet_(t,e):MU(t,e);return(e?e.scope_:zj()).drafts_.push(n),n}function LU(t){return Ti(t)||En(10,t),Bj(t)}function Bj(t){if(!go(t)||zh(t))return t;const e=t[Qt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ig(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ig(t,!0);return Od(n,(r,s)=>{$j(n,r,Bj(s))}),e&&(e.finalized_=!1),n}var FU=new OU,VU=FU.produce;const $U=t=>(e,n,r)=>(r.setState=(s,o,...a)=>{const l=typeof s=="function"?VU(s):s;return e(l,o,...a)},t(r.setState,n,r)),zU=$U;class UU{baseUrl;headers;constructor(){this.baseUrl=Dv("guardCheck"),this.headers={"Content-Type":"application/json"}}async checkText(e){console.log("[Brand Guard SDK] checkText called with:",e);const n=await fetch(this.baseUrl,{method:"POST",headers:this.headers,body:JSON.stringify(e)});if(!n.ok)throw new Error(`[Brand Guard SDK] API error: ${n.statusText}`);return n.json()}async preCheckUserMessage(e,n,r){return this.checkText({text:e,role:"user",brand:n,context:r})}async postCheckAssistantMessage(e,n,r){return this.checkText({text:e,role:"assistant",brand:n,context:r})}async updateRules(e,n){return console.log("[Brand Guard SDK] updateRules called with:",e,n),{ok:!0}}convertBrandKitToBrandGuard(e){const n=e.voiceTone?.style||"";e.voiceTone?.examples?.correct;const r=e.voiceTone?.examples?.incorrect||[];let s=["profesional","claro","consistente"],o=["agresivo","confuso","inconsistente"];return n.toLowerCase().includes("profesional")&&s.push("formal","cortés"),(n.toLowerCase().includes("cercano")||n.toLowerCase().includes("amigable"))&&(s.push("cercano","amigable"),o.push("frío","distante")),{tone:{do:s,dont:o,readingLevel:"neutral"},lexicon:{preferred:e.messaging?.differentiators||[],avoid:r.map(a=>a.split(" ").slice(0,2).join(" ")).filter(Boolean),banned:["spam","scam","fake","gratis!!!"]},style:{emoji:!0,exclamationMax:n.toLowerCase().includes("enérgico")?3:1,linksPolicy:"need-disclaimer"},claims:{allowed:[...e.messaging?.slogans||[],...e.messaging?.differentiators||[],e.messaging?.tagline].filter(Boolean),forbidden:["el mejor del mundo","100% garantizado","imposible de fallar","nunca falla"],needsDisclaimer:["resultados pueden variar","sujeto a términos","disponibilidad limitada"]},disclaimers:{standard:"Esta información se proporciona solo con fines informativos.",legal:"Consulte los términos y condiciones completos."},locales:e.internationalization?.supportedLanguages||["es"]}}}const tl=new UU,yn="/api";class BU{async getAuthHeaders(){const e=Ra.currentUser;return e?{"Content-Type":"application/json",Authorization:`Bearer ${await e.getIdToken()}`}:{}}async listThreads(){const e=await this.getAuthHeaders(),n=await fetch(`${yn}/listThreads`,{headers:e});if(!n.ok)throw new Error("Failed to list threads");return((await n.json()).threads||[]).map(o=>({id:o.id,title:o.title,updatedAt:o.updatedAt||o.createdAt||new Date().toISOString(),messageCount:typeof o.messageCount=="number"?o.messageCount:o.msgCount||0,branches:o.branches||[]})).map(o=>({...o,msgCount:o.messageCount}))}async createThread(e){const n=await this.getAuthHeaders(),r=await fetch(`${yn}/createThread`,{method:"POST",headers:n,body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to create thread");return r.json()}async renameThread(e,n){const r=await this.getAuthHeaders();if(!(await fetch(`${yn}/renameThread`,{method:"POST",headers:r,body:JSON.stringify({threadId:e,title:n})})).ok)throw new Error("Failed to rename thread")}async deleteThread(e){const n=await this.getAuthHeaders();if(!(await fetch(`${yn}/deleteThread`,{method:"POST",headers:n,body:JSON.stringify({threadId:e})})).ok)throw new Error("Failed to delete thread")}async createBranch(e,n){const r=await this.getAuthHeaders(),s=await fetch(`${yn}/createBranch`,{method:"POST",headers:r,body:JSON.stringify({threadId:e,name:n})});if(!s.ok)throw new Error("Failed to create branch");return s.json()}async renameBranch(e,n){const r=await this.getAuthHeaders();if(!(await fetch(`${yn}/renameBranch`,{method:"POST",headers:r,body:JSON.stringify({branchId:e,name:n})})).ok)throw new Error("Failed to rename branch")}async deleteBranch(e){const n=await this.getAuthHeaders();if(!(await fetch(`${yn}/deleteBranch`,{method:"POST",headers:n,body:JSON.stringify({branchId:e})})).ok)throw new Error("Failed to delete branch")}async switchBranch(e,n){const r=await this.getAuthHeaders();if(!(await fetch(`${yn}/switchBranch`,{method:"POST",headers:r,body:JSON.stringify({threadId:e,branchId:n})})).ok)throw new Error("Failed to switch branch")}async branchFromMessage(e,n,r){const s=await this.getAuthHeaders(),o=await fetch(`${yn}/branchFromMessage`,{method:"POST",headers:s,body:JSON.stringify({threadId:e,messageId:n,name:r})});if(!o.ok)throw new Error("Failed to branch from message");return o.json()}getDefaultBranch(e){return e.branches.find(n=>n.isDefault)||e.branches[0]}async getMessages(e,n){const r=await this.getAuthHeaders(),s=await fetch(`${yn}/getMessages?threadId=${e}&branchId=${n}`,{headers:r});if(!s.ok)throw new Error("Failed to get messages");return(await s.json()).messages||[]}async addMessage(e,n,r){const s=await this.getAuthHeaders(),o=await fetch(`${yn}/addMessage`,{method:"POST",headers:s,body:JSON.stringify({threadId:e,branchId:n,message:r})});if(!o.ok)throw new Error("Failed to add message");return o.json()}validateBranchName(e,n){const r=(e||"").trim();if(!r)return"El nombre de la rama no puede estar vacío";if(n.some(o=>o.name.toLowerCase()===r.toLowerCase()))return"Ya existe una rama con ese nombre"}generateUniqueBranchName(e,n){const r=(e||"rama").trim(),s=new Set(n.map(a=>a.name.toLowerCase()));if(!s.has(r.toLowerCase()))return r;let o=2;for(;;){const a=`${r}-${o}`;if(!s.has(a.toLowerCase()))return a;o++}}}const en=new BU,HU={model:"gpt-5",temperature:.3,persona:"mentor",brandGuard:!0};function C1(){return`id_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function N1(){return`thread_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const Bn=jU()(zU((t,e)=>({threadId:N1(),branchId:void 0,system:"You are a helpful AI assistant specialized in content creation.",settings:{...HU},messages:[],rightPanelOpen:!1,composerText:"",mobileKeyboardOpen:!1,showVirtualKeyboard:!1,isMobileView:!1,streaming:{status:"idle"},history:[],branches:[],isLoading:!0,setSystem:n=>t(r=>{r.system=n}),setSettings:n=>t(r=>{r.settings={...r.settings,...n}}),setRightPanelOpen:n=>t(r=>{r.rightPanelOpen=n}),setComposerText:n=>t(r=>{r.composerText=n}),setMobileKeyboardOpen:n=>t(r=>{r.mobileKeyboardOpen=n}),setShowVirtualKeyboard:n=>t(r=>{r.showVirtualKeyboard=n}),setIsMobileView:n=>t(r=>{r.isMobileView=n}),pushUserMessage:(n,r)=>t(s=>{const o={id:C1(),role:"user",parts:[{type:"text",value:n}],createdAt:new Date().toISOString(),meta:{attachments:r}};if(s.messages.push(o),s.composerText="",s.threadId&&s.branchId&&en.addMessage(s.threadId,s.branchId,o).catch(a=>{console.error("[ChatStore] Failed to save message:",a)}),s.settings.brandGuard){const{brandKit:a}=qi.getState();a&&tl.checkText({text:n,role:"user",brand:tl.convertBrandKitToBrandGuard(a)}).then(l=>{console.log("[ChatStore] Brand Guard check response:",l)}).catch(l=>{console.error("[ChatStore] Brand Guard check failed:",l)})}}),upsertAssistantMessage:(n,r)=>t(s=>{const o=s.messages.findIndex(a=>a.id===r||a.role==="assistant"&&!r);if(o>=0)s.messages[o].parts=[{type:"text",value:n}];else{const a={id:r||C1(),role:"assistant",parts:[{type:"text",value:n}],createdAt:new Date().toISOString(),meta:{streaming:!0}};s.messages.push(a)}}),setStreaming:(n,r,s)=>t(o=>{o.streaming={status:n,runId:r,abortFn:s,toolsUsed:n==="idle"?[]:o.streaming.toolsUsed},n==="idle"&&(o.streaming.currentStage=void 0,o.streaming.toolsUsed=[])}),appendDeltaToLastAssistant:n=>t(r=>{const s=r.messages[r.messages.length-1];if(s&&s.role==="assistant"){const o=s.parts[0]?.value||"";s.parts[0]={type:"text",value:o+n}}}),endStreaming:()=>t(n=>{n.streaming={status:"idle"};const r=n.messages[n.messages.length-1];r&&r.role==="assistant"&&r.meta&&(r.meta.streaming=!1)}),applyToolChipToLastAssistant:n=>t(r=>{r.streaming.toolsUsed||(r.streaming.toolsUsed=[]),r.streaming.toolsUsed.push({...n,completed:!1});const s=r.messages[r.messages.length-1];s&&s.role==="assistant"&&(s.meta||(s.meta={}),s.meta.tools||(s.meta.tools=[]),s.meta.tools.push(n))}),setGoogleIaRequest:n=>t(r=>{r.googleIaRequest=n;const s=r.messages[r.messages.length-1];s&&s.role==="assistant"&&(s.meta||(s.meta={}),s.meta.googleIaRequest=n)}),loadHistory:async()=>{try{const n=await en.listThreads();t(r=>{r.history=n}),console.log(`[ChatStore] Loaded ${n.length} threads from backend`)}catch(n){console.error("[ChatStore] Failed to load history:",n),t(r=>{r.error="Failed to load thread history"})}},selectThread:async(n,r)=>{try{const o=e().history.find(c=>c.id===n);if(!o)throw new Error("Thread not found in history");const a=r?o.branches.find(c=>c.id===r):en.getDefaultBranch(o);if(!a)throw new Error("Branch not found");t(c=>{c.threadId=n,c.branchId=a.id,c.branches=o.branches,c.messages=[],c.streaming={status:"idle"},c.googleIaRequest=void 0,c.error=void 0}),console.log(`[ChatStore] Selected thread ${n}, branch ${a.name}`);const l=await en.getMessages(n,a.id);t(c=>{c.messages=l})}catch(s){console.error("[ChatStore] Failed to select thread:",s),t(o=>{o.error=`Failed to load thread: ${s instanceof Error?s.message:"Unknown error"}`})}},createNewThread:async n=>{try{const r=await en.createThread({title:n||"Nuevo Hilo"});await e().loadHistory(),await e().selectThread(r.id),console.log(`[ChatStore] Created new thread: ${r.id}`)}catch(r){console.error("[ChatStore] Failed to create thread:",r),t(s=>{s.error=`Failed to create thread: ${r instanceof Error?r.message:"Unknown error"}`})}},renameThread:async(n,r)=>{try{await en.renameThread(n,r),t(s=>{const o=s.history.find(a=>a.id===n);o&&(o.title=r)}),console.log(`[ChatStore] Renamed thread ${n} to "${r}"`)}catch(s){console.error("[ChatStore] Failed to rename thread:",s),t(o=>{o.error=`Failed to rename thread: ${s instanceof Error?s.message:"Unknown error"}`})}},deleteThread:async n=>{try{await en.deleteThread(n),t(r=>{r.history=r.history.filter(s=>s.id!==n),r.threadId===n&&(r.threadId=N1(),r.branchId=void 0,r.messages=[],r.branches=[],r.streaming={status:"idle"},r.googleIaRequest=void 0)}),console.log(`[ChatStore] Deleted thread ${n}`)}catch(r){console.error("[ChatStore] Failed to delete thread:",r),t(s=>{s.error=`Failed to delete thread: ${r instanceof Error?r.message:"Unknown error"}`})}},setBranch:async n=>{try{const r=e();if(!r.branches.find(o=>o.id===n))throw new Error("Branch not found");await en.switchBranch(r.threadId,n),t(o=>{o.branchId=n,o.messages=[],o.streaming={status:"idle"}}),console.log(`[ChatStore] Switched to branch ${n}`)}catch(r){console.error("[ChatStore] Failed to switch branch:",r),t(s=>{s.error=`Failed to switch branch: ${r instanceof Error?r.message:"Unknown error"}`})}},createBranch:async(n,r)=>{try{const s=await en.createBranch(n,r);return t(o=>{o.branches.push({id:s.id,name:r,isDefault:!1})}),console.log(`[ChatStore] Created branch ${s.id} "${r}"`),s.id}catch(s){throw console.error("[ChatStore] Failed to create branch:",s),t(o=>{o.error=`Failed to create branch: ${s instanceof Error?s.message:"Unknown error"}`}),s}},renameBranch:async(n,r)=>{try{await en.renameBranch(n,r),t(s=>{const o=s.branches.find(a=>a.id===n);o&&(o.name=r)}),console.log(`[ChatStore] Renamed branch ${n} to "${r}"`)}catch(s){console.error("[ChatStore] Failed to rename branch:",s),t(o=>{o.error=`Failed to rename branch: ${s instanceof Error?s.message:"Unknown error"}`})}},deleteBranch:async n=>{try{await en.deleteBranch(n),t(r=>{if(r.branches=r.branches.filter(s=>s.id!==n),r.branchId===n){const o=r.branches.find(a=>a.isDefault)||r.branches[0];o&&(r.branchId=o.id,r.messages=[])}}),console.log(`[ChatStore] Deleted branch ${n}`)}catch(r){console.error("[ChatStore] Failed to delete branch:",r),t(s=>{s.error=`Failed to delete branch: ${r instanceof Error?r.message:"Unknown error"}`})}},branchFromMessage:async(n,r)=>{try{const s=e(),o=await en.branchFromMessage(s.threadId,n,r),a=r||`rama-${Date.now()}`;return t(l=>{l.branches.push({id:o.branchId,name:a,isDefault:!1}),l.branchId=o.branchId}),console.log(`[ChatStore] Created branch ${o.branchId} from message ${n}`),o.branchId}catch(s){throw console.error("[ChatStore] Failed to branch from message:",s),t(o=>{o.error=`Failed to create branch: ${s instanceof Error?s.message:"Unknown error"}`}),s}},handleSSEEvent:n=>{const r=e();switch(n.type){case"ready":t(s=>{s.streaming.status="thinking",s.error=void 0});break;case"state":t(s=>{s.streaming.currentStage=n.data.stage,n.data.stage==="generate"&&(s.streaming.status="streaming")});break;case"tool":r.applyToolChipToLastAssistant({name:n.data.name,args:n.data.args,mode:n.data.mode});break;case"token":r.streaming.status==="streaming"&&r.appendDeltaToLastAssistant(n.data.delta);break;case"usage":t(s=>{const o=s.messages[s.messages.length-1];o&&o.role==="assistant"&&(o.meta||(o.meta={}),o.meta.usage=n.data)});break;case"error":t(s=>{s.streaming.status="error",s.error=`${n.data.code}: ${n.data.message}`});break;case"done":t(s=>{s.streaming.status="idle",s.streaming.currentStage=void 0;const o=s.messages[s.messages.length-1];o&&o.role==="assistant"&&(o.id=n.data.messageId,o.meta&&(o.meta.streaming=!1))});break}},setError:n=>t(r=>{r.error=n}),clearError:()=>t(n=>{n.error=void 0}),setLoading:n=>t(r=>{r.isLoading=n})}))),xp={useIsStreaming:()=>Bn(t=>t.streaming.status!=="idle"),useLastAssistantMessage:()=>Bn(t=>{const e=t.messages.filter(n=>n.role==="assistant");return e[e.length-1]}),useCurrentTools:()=>Bn(t=>t.streaming.toolsUsed||[]),useThreadTitle:()=>Bn(t=>{const e=t.messages.find(n=>n.role==="user");return e?.parts?.[0]?.value?e.parts[0].value.substring(0,50)+"...":"New Chat"}),useCanSendMessage:()=>Bn(t=>t.streaming.status==="idle"&&t.composerText.trim().length>0),useCanAbort:()=>Bn(t=>t.streaming.status!=="idle"&&!!t.streaming.abortFn)};function GU(t){console.log("useChat hook called");const{threadId:e,system:n,settings:r,messages:s,composerText:o,rightPanelOpen:a,streaming:l,error:c,setComposerText:d,setSettings:h,setRightPanelOpen:m,pushUserMessage:f,upsertAssistantMessage:y,setStreaming:v,handleSSEEvent:x,createNewThread:N,selectThread:b,setError:w,clearError:S}=Bn(),P=xp.useIsStreaming();xp.useCanSendMessage(),xp.useCanAbort(),p.useEffect(()=>{(async()=>{const{history:$,loadHistory:L,selectThread:B,setLoading:q}=Bn.getState();if(q(!0),$.length===0){await L();const{history:O}=Bn.getState();O.length>0&&await B(O[0].id)}q(!1)})()},[]);const j=p.useRef(new vU(t)),D=p.useRef();j.current.setJWT(t);const C=p.useCallback(T=>j.current.processSlashCommands(T),[]),E=p.useCallback(async(T,$=[])=>{const L=T||o;if(!(!L.trim()||P))try{S();const B=C(L),q=[...$,...B.tools.map(W=>({name:W}))];Object.keys(B.settings).length>0&&h(B.settings),f(B.content),y("");const O={threadId:e,system:`You are a ${r.persona} AI assistant specialized in content creation. ${r.brandGuard?"Always follow brand guidelines and maintain brand consistency.":""}`,messages:[...s,{id:`user_${Date.now()}`,role:"user",parts:[{type:"text",value:B.content}],createdAt:new Date().toISOString()}],settings:{...r,...B.settings},tools:q,objective:B.content},{runId:z}=await xU(O,t,x);D.current=z,v("thinking",z)}catch(B){console.error("Failed to send message:",B),w(B instanceof Error?B.message:"Failed to send message"),v("error")}},[t,o,P,e,n,r,s,C,h,f,y,x,v,w,S]),k=p.useCallback(async T=>{if(P||s.length===0)return;const $=[...s].reverse().find(L=>L.role==="assistant");if(!$){console.warn("No assistant message to regenerate");return}try{S(),y("",`regenerate_${Date.now()}`),v("thinking"),await bU(e,$.id,T,t)}catch(L){console.error("Failed to regenerate response:",L),w(L instanceof Error?L.message:"Failed to regenerate"),v("error")}},[t,P,s,e,y,v,w,S]),I=p.useCallback(async()=>{if(P)try{t&&D.current&&await wU(e,D.current,t),v("cancelled"),l.abortFn&&l.abortFn()}catch(T){console.error("Failed to abort generation:",T),w("Failed to abort generation")}},[t,P,e,l.abortFn,v,w]),M=p.useCallback(async()=>{try{const T=s.find($=>$.role==="user")?.parts[0]?.value.substring(0,50)||"Untitled Chat";t&&await EU({id:e,title:T,system:n,settings:r},t)}catch(T){console.error("Failed to save thread:",T),w("Failed to save thread")}},[t,e,n,r,s,w]),R=p.useCallback(async T=>{try{if(t){const{url:$,fields:L}=await _U(T.type,e,t),B=new FormData;L&&Object.entries(L).forEach(([O,z])=>{B.append(O,z)}),B.append("file",T);const q=await fetch($,{method:"POST",body:B});if(!q.ok)throw new Error(`Upload failed: ${q.status}`);return{id:`attachment_${Date.now()}`,url:$}}}catch($){throw console.error("Failed to upload attachment:",$),new Error("Failed to upload attachment")}},[t,e]);return{messages:s,isStreaming:P,error:c,settings:r,composerText:o,rightPanelOpen:a,send:E,abort:I,regenerate:k,setComposerText:d,setSettings:h,setRightPanelOpen:m,createNewThread:N,selectThread:b,saveCurrentThread:M,uploadAttachment:R,processSlashCommand:C}}function WU(){console.log("useBrandGuard hook called");const[t,e]=p.useState({isAnalyzing:!1,lastReport:null,error:null,metrics:{totalChecks:0,averageScore:0,suggestionsApplied:0}}),{brandKit:n}=qi(),r=p.useCallback(()=>{if(!n)return{tone:{do:["profesional","claro","consistente","útil"],dont:["agresivo","confuso","técnico excesivo","informal excesivo"],readingLevel:"neutral"},lexicon:{preferred:["solución","experiencia","innovación","calidad"],avoid:["problema","fallo","error","imposible"],banned:["spam","scam","fake","gratis!!!"]},style:{emoji:!1,exclamationMax:1,linksPolicy:"need-disclaimer"},claims:{allowed:["Ofrecemos soluciones innovadoras","Experiencia comprobada"],forbidden:["El mejor del mercado","100% garantizado","Imposible de fallar"],needsDisclaimer:["resultados pueden variar","sujeto a términos"]},disclaimers:{standard:"Esta información se proporciona solo con fines informativos.",legal:"Consulte los términos y condiciones completos."},locales:["es"]};try{return tl.convertBrandKitToBrandGuard(n)}catch(d){return console.warn("[Brand Guard] Failed to convert BrandKit:",d),null}},[n]),s=p.useCallback(d=>{e(h=>{const m=h.metrics.totalChecks+1,f=(h.metrics.averageScore*h.metrics.totalChecks+d.score)/m;return{...h,metrics:{...h.metrics,totalChecks:m,averageScore:Math.round(f)}}})},[]),o=p.useCallback(async(d,h)=>{const m=r();if(!m)return console.warn("[Brand Guard] No BrandKit available for analysis"),{score:100,findings:[],disclaimerNeeded:!1};e(f=>({...f,isAnalyzing:!0,error:null}));try{const y=(await tl.preCheckUserMessage(d,m,h)).report;return e(v=>({...v,isAnalyzing:!1,lastReport:y,error:null})),s(y),y.findings.length>0&&console.log("[Brand Guard] User message findings:",y.findings),y}catch(f){const y=f instanceof Error?f.message:"Error analyzing message";return e(v=>({...v,isAnalyzing:!1,error:y})),{score:75,findings:[{type:"compliance",severity:"info",message:"Análisis de marca no disponible",suggestion:"Revisa manualmente según directrices"}],disclaimerNeeded:!1}}},[r,s]),a=p.useCallback(async(d,h)=>{const m=r();if(!m)return{score:100,findings:[],disclaimerNeeded:!1};e(f=>({...f,isAnalyzing:!0,error:null}));try{const y=(await tl.postCheckAssistantMessage(d,m,h)).report;return e(v=>({...v,isAnalyzing:!1,lastReport:y,error:null})),s(y),y.findings.length>0&&console.log("[Brand Guard] Assistant message findings:",y.findings),y}catch(f){const y=f instanceof Error?f.message:"Error analyzing message";return e(v=>({...v,isAnalyzing:!1,error:y})),{score:75,findings:[],disclaimerNeeded:!1}}},[r,s]),l=p.useCallback((d,h)=>{e(m=>({...m,metrics:{...m.metrics,suggestionsApplied:m.metrics.suggestionsApplied+1}})),console.log("[Brand Guard] Applied suggestion:",{originalText:d,suggestedText:h})},[]),c=p.useCallback(()=>{e(d=>({...d,lastReport:null,error:null}))},[]);return{...t,checkUserMessage:o,checkAssistantMessage:a,applySuggestion:l,clearReport:c,getBrandKitForGuard:r}}const Hj=p.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{ref:n,"data-slot":"textarea",className:ce("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e}));Hj.displayName="Textarea";var Uv="Progress",Bv=100,[KU]=Tt(Uv),[qU,YU]=KU(Uv),Gj=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=QU,...a}=t;(s||s===0)&&!k1(s)&&console.error(XU(`${s}`,"Progress"));const l=k1(s)?s:Bv;r!==null&&!j1(r,l)&&console.error(JU(`${r}`,"Progress"));const c=j1(r,l)?r:null,d=Vd(c)?o(c,l):void 0;return i.jsx(qU,{scope:n,value:c,max:l,children:i.jsx(ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vd(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":qj(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});Gj.displayName=Uv;var Wj="ProgressIndicator",Kj=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=YU(Wj,n);return i.jsx(ie.div,{"data-state":qj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Kj.displayName=Wj;function QU(t,e){return`${Math.round(t/e*100)}%`}function qj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Vd(t){return typeof t=="number"}function k1(t){return Vd(t)&&!isNaN(t)&&t>0}function j1(t,e){return Vd(t)&&!isNaN(t)&&t<=e&&t>=0}function XU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bv}\`.`}function JU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZU=Gj,eB=Kj;function tB({className:t,value:e,...n}){return i.jsx(ZU,{"data-slot":"progress",className:ce("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:i.jsx(eB,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}var Uh="Popover",[Yj]=Tt(Uh,[Ki]),hc=Ki(),[nB,Is]=Yj(Uh),Qj=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=t,l=hc(e),c=p.useRef(null),[d,h]=p.useState(!1),[m,f]=Ts({prop:r,defaultProp:s??!1,onChange:o,caller:Uh});return i.jsx(iv,{...l,children:i.jsx(nB,{scope:e,contentId:jn(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(y=>!y),[f]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:a,children:n})})};Qj.displayName=Uh;var Xj="PopoverAnchor",rB=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Is(Xj,n),o=hc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(Ch,{...o,...r,ref:e})});rB.displayName=Xj;var Jj="PopoverTrigger",Zj=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Is(Jj,n),o=hc(n),a=xe(e,s.triggerRef),l=i.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sT(s.open),...r,ref:a,onClick:Q(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Ch,{asChild:!0,...o,children:l})});Zj.displayName=Jj;var Hv="PopoverPortal",[sB,oB]=Yj(Hv,{forceMount:void 0}),eT=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Is(Hv,e);return i.jsx(sB,{scope:e,forceMount:n,children:i.jsx(nt,{present:n||o.open,children:i.jsx(nc,{asChild:!0,container:s,children:r})})})};eT.displayName=Hv;var Ii="PopoverContent",tT=p.forwardRef((t,e)=>{const n=oB(Ii,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Is(Ii,t.__scopePopover);return i.jsx(nt,{present:r||o.open,children:o.modal?i.jsx(aB,{...s,ref:e}):i.jsx(lB,{...s,ref:e})})});tT.displayName=Ii;var iB=ho("PopoverContent.RemoveScroll"),aB=p.forwardRef((t,e)=>{const n=Is(Ii,t.__scopePopover),r=p.useRef(null),s=xe(e,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return vv(a)},[]),i.jsx(Ah,{as:iB,allowPinchZoom:!0,children:i.jsx(nT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Q(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),lB=p.forwardRef((t,e)=>{const n=Is(Ii,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(nT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),nT=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=t,f=Is(Ii,n),y=hc(n);return mv(),i.jsx(Ih,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(ec,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(av,{"data-state":sT(f.open),role:"dialog",id:f.contentId,...y,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rT="PopoverClose",cB=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Is(rT,n);return i.jsx(ie.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});cB.displayName=rT;var uB="PopoverArrow",dB=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hc(n);return i.jsx(lv,{...s,...r,ref:e})});dB.displayName=uB;function sT(t){return t?"open":"closed"}var hB=Qj,fB=Zj,pB=eT,mB=tT;function gB({...t}){return i.jsx(hB,{"data-slot":"popover",...t})}function yB({...t}){return i.jsx(fB,{"data-slot":"popover-trigger",...t})}function vB({className:t,align:e="center",sideOffset:n=4,...r}){return i.jsx(pB,{children:i.jsx(mB,{"data-slot":"popover-content",align:e,sideOffset:n,className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function T1({className:t,...e}){return i.jsx("div",{"data-slot":"card",className:ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function I1({className:t,...e}){return i.jsx("div",{"data-slot":"card-header",className:ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function P1({className:t,...e}){return i.jsx("h4",{"data-slot":"card-title",className:ce("leading-none",t),...e})}function xB({className:t,...e}){return i.jsx("p",{"data-slot":"card-description",className:ce("text-muted-foreground",t),...e})}function A1({className:t,...e}){return i.jsx("div",{"data-slot":"card-content",className:ce("px-6 [&:last-child]:pb-6",t),...e})}function wB(t,[e,n]){return Math.min(n,Math.max(e,t))}function bB(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Gv="ScrollArea",[oT]=Tt(Gv),[_B,mn]=oT(Gv),iT=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...a}=t,[l,c]=p.useState(null),[d,h]=p.useState(null),[m,f]=p.useState(null),[y,v]=p.useState(null),[x,N]=p.useState(null),[b,w]=p.useState(0),[S,P]=p.useState(0),[j,D]=p.useState(!1),[C,E]=p.useState(!1),k=xe(e,M=>c(M)),I=ic(s);return i.jsx(_B,{scope:n,type:r,dir:I,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:f,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:N,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:P,children:i.jsx(ie.div,{dir:I,...a,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});iT.displayName=Gv;var aT="ScrollAreaViewport",lT=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=t,a=mn(aT,n),l=p.useRef(null),c=xe(e,l,a.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});lT.displayName=aT;var or="ScrollAreaScrollbar",cT=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mn(or,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?i.jsx(EB,{...r,ref:e,forceMount:n}):s.type==="scroll"?i.jsx(SB,{...r,ref:e,forceMount:n}):s.type==="auto"?i.jsx(uT,{...r,ref:e,forceMount:n}):s.type==="always"?i.jsx(Wv,{...r,ref:e}):null});cT.displayName=or;var EB=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mn(or,t.__scopeScrollArea),[o,a]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(nt,{present:n||o,children:i.jsx(uT,{"data-state":o?"visible":"hidden",...r,ref:e})})}),SB=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mn(or,t.__scopeScrollArea),o=t.orientation==="horizontal",a=Hh(()=>c("SCROLL_END"),100),[l,c]=bB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const d=s.viewport,h=o?"scrollLeft":"scrollTop";if(d){let m=d[h];const f=()=>{const y=d[h];m!==y&&(c("SCROLL"),a()),m=y};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,o,c,a]),i.jsx(nt,{present:n||l!=="hidden",children:i.jsx(Wv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Q(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uT=p.forwardRef((t,e)=>{const n=mn(or,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,a]=p.useState(!1),l=t.orientation==="horizontal",c=Hh(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:h)}},10);return Pi(n.viewport,c),Pi(n.content,c),i.jsx(nt,{present:r||o,children:i.jsx(Wv,{"data-state":o?"visible":"hidden",...s,ref:e})})}),Wv=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=mn(or,t.__scopeScrollArea),o=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=mT(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function m(f,y){return IB(f,a.current,l,y)}return n==="horizontal"?i.jsx(CB,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,y=R1(f,l,s.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=m(f,s.dir))}}):n==="vertical"?i.jsx(NB,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,y=R1(f,l);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=m(f))}}):null}),CB=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=mn(or,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),d=xe(e,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(hT,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bh(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(o.viewport){const f=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),yT(f,m)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zd(a.paddingLeft),paddingEnd:zd(a.paddingRight)}})}})}),NB=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=mn(or,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),d=xe(e,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(hT,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bh(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(o.viewport){const f=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),yT(f,m)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zd(a.paddingTop),paddingEnd:zd(a.paddingBottom)}})}})}),[kB,dT]=oT(or),hT=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:m,...f}=t,y=mn(or,n),[v,x]=p.useState(null),N=xe(e,k=>x(k)),b=p.useRef(null),w=p.useRef(""),S=y.viewport,P=r.content-r.viewport,j=lt(h),D=lt(c),C=Hh(m,10);function E(k){if(b.current){const I=k.clientX-b.current.left,M=k.clientY-b.current.top;d({x:I,y:M})}}return p.useEffect(()=>{const k=I=>{const M=I.target;v?.contains(M)&&j(I,P)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[S,v,P,j]),p.useEffect(D,[r,D]),Pi(v,C),Pi(y.content,C),i.jsx(kB,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:lt(o),onThumbPointerUp:lt(a),onThumbPositionChange:D,onThumbPointerDown:lt(l),children:i.jsx(ie.div,{...f,ref:N,style:{position:"absolute",...f.style},onPointerDown:Q(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),b.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:Q(t.onPointerMove,E),onPointerUp:Q(t.onPointerUp,k=>{const I=k.target;I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=w.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),$d="ScrollAreaThumb",fT=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=dT($d,t.__scopeScrollArea);return i.jsx(nt,{present:n||s.hasThumb,children:i.jsx(jB,{ref:e,...r})})}),jB=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=mn($d,n),a=dT($d,n),{onThumbPositionChange:l}=a,c=xe(e,m=>a.onThumbChange(m)),d=p.useRef(void 0),h=Hh(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const m=o.viewport;if(m){const f=()=>{if(h(),!d.current){const y=PB(m,l);d.current=y,l()}};return l(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,h,l]),i.jsx(ie.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(t.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),v=m.clientX-y.left,x=m.clientY-y.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:Q(t.onPointerUp,a.onThumbPointerUp)})});fT.displayName=$d;var Kv="ScrollAreaCorner",pT=p.forwardRef((t,e)=>{const n=mn(Kv,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(TB,{...t,ref:e}):null});pT.displayName=Kv;var TB=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=mn(Kv,n),[o,a]=p.useState(0),[l,c]=p.useState(0),d=!!(o&&l);return Pi(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),c(h)}),Pi(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),a(h)}),d?i.jsx(ie.div,{...r,ref:e,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function zd(t){return t?parseInt(t,10):0}function mT(t,e){const n=t/e;return isNaN(n)?0:n}function Bh(t){const e=mT(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function IB(t,e,n,r="ltr"){const s=Bh(n),o=s/2,a=e||o,l=s-a,c=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return gT([c,d],m)(t)}function R1(t,e,n="ltr"){const r=Bh(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,a=e.content-e.viewport,l=o-r,c=n==="ltr"?[0,a]:[a*-1,0],d=wB(t,c);return gT([0,a],[0,l])(d)}function gT(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function yT(t,e){return t>0&&t<e}var PB=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,l=n.top!==o.top;(a||l)&&e(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Hh(t,e){const n=lt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pi(t,e){const n=lt(e);pn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var AB=iT,RB=lT,MB=pT;function DB({className:t,children:e,...n}){return i.jsxs(AB,{"data-slot":"scroll-area",className:ce("relative",t),...n,children:[i.jsx(RB,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),i.jsx(OB,{}),i.jsx(MB,{})]})}function OB({className:t,orientation:e="vertical",...n}){return i.jsx(cT,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ce("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:i.jsx(fT,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function vT({report:t,isAnalyzing:e,onApplySuggestion:n,onClose:r,className:s=""}){if(e)return i.jsxs(T1,{className:`animate-pulse ${s}`,children:[i.jsxs(I1,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(P1,{className:"flex items-center gap-2",children:[i.jsx(Km,{className:"h-4 w-4 text-blue-500"}),"Brand Guard"]}),r&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:r,children:i.jsx(po,{className:"h-4 w-4"})})]}),i.jsx(xB,{children:"Analizando conformidad con directrices de marca..."})]}),i.jsx(A1,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),i.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),i.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]})})]});if(!t)return null;const o=d=>{switch(d){case"block":return i.jsx(Vt,{className:"h-4 w-4 text-red-500"});case"warn":return i.jsx(Vt,{className:"h-4 w-4 text-yellow-500"});case"info":return i.jsx(np,{className:"h-4 w-4 text-blue-500"});default:return i.jsx(np,{className:"h-4 w-4 text-gray-500"})}},a=d=>{switch(d){case"block":return"destructive";case"warn":return"secondary";case"info":return"default";default:return"outline"}},l=d=>d>=90?"text-green-600":d>=70?"text-yellow-600":"text-red-600",c=d=>d>=90?"Excelente":d>=70?"Bueno":d>=50?"Mejorable":"Requiere atención";return i.jsxs(T1,{className:s,children:[i.jsxs(I1,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(P1,{className:"flex items-center gap-2",children:[i.jsx(Km,{className:"h-4 w-4 text-blue-500"}),"Brand Guard"]}),r&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:r,children:i.jsx(po,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ue,{className:"h-4 w-4 text-green-500"}),i.jsxs("span",{className:`font-medium ${l(t.score)}`,children:[t.score,"/100"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",c(t.score),")"]})]}),t.findings.length>0&&i.jsxs($e,{variant:"secondary",children:[t.findings.length," finding",t.findings.length!==1?"s":""]})]})]}),i.jsx(A1,{className:"space-y-4",children:t.findings.length===0?i.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[i.jsx(Ue,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("p",{children:"¡Perfecto! El contenido cumple con todas las directrices de marca."})]}):i.jsxs(i.Fragment,{children:[i.jsx(DB,{className:"max-h-60",children:i.jsx("div",{className:"space-y-3",children:t.findings.map((d,h)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[o(d.severity),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($e,{variant:a(d.severity),className:"text-xs",children:d.type}),i.jsx("span",{className:"text-sm capitalize text-muted-foreground",children:d.severity})]}),i.jsx("p",{className:"text-sm",children:d.message}),d.suggestion&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["💡 ",d.suggestion]})]})]}),h<t.findings.length-1&&i.jsx(el,{})]},h))})}),t.suggestedText&&n&&i.jsxs(i.Fragment,{children:[i.jsx(el,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Texto sugerido:"}),i.jsx("div",{className:"bg-muted p-3 rounded-md",children:i.jsx("p",{className:"text-sm",children:t.suggestedText})}),i.jsx(ee,{size:"sm",onClick:()=>n(t.suggestedText),className:"w-full",children:"Aplicar sugerencia"})]})]}),t.disclaimerNeeded&&t.disclaimerText&&i.jsxs(i.Fragment,{children:[i.jsx(el,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(np,{className:"h-4 w-4"}),"Disclaimer requerido:"]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-md",children:i.jsx("p",{className:"text-xs text-yellow-800",children:t.disclaimerText})})]})]})]})})]})}function wp({report:t,isAnalyzing:e,onApplySuggestion:n,size:r="sm",showLabel:s=!0}){const o=()=>e?"secondary":t?t.score>=90?"default":t.score>=70?"secondary":"destructive":"outline",a=()=>e?i.jsx(vr,{className:"h-3 w-3 animate-spin"}):t?t.findings.some(c=>c.severity==="block"||c.severity==="warn")?i.jsx(Vt,{className:"h-3 w-3"}):i.jsx(Ue,{className:"h-3 w-3"}):i.jsx(y2,{className:"h-3 w-3"}),l=()=>e?"Analizando...":t?t.findings.length===0?s?`${t.score}/100`:`${t.score}`:s?`${t.score}/100 (${t.findings.length})`:`${t.score} (${t.findings.length})`:"Brand Guard";return!e&&!t?null:i.jsxs(gB,{children:[i.jsx(yB,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:r,className:`h-6 px-2 ${r==="sm"?"text-xs":"text-sm"}`,children:i.jsxs($e,{variant:o(),className:"flex items-center gap-1",children:[a(),s&&i.jsx("span",{className:"font-medium",children:l()})]})})}),i.jsx(vB,{className:"w-80 p-0",align:"end",side:"top",children:i.jsx(vT,{report:t,isAnalyzing:e,onApplySuggestion:n})})]})}const lu=!1;function M1(){const t=GU("real_jwt_here"),e=WU(),[n,r]=p.useState(!1),[s,o]=p.useState(!1),[a,l]=p.useState(!1),[c,d]=p.useState(!1),[h,m]=p.useState("md"),[f,y]=p.useState("readonly"),[v,x]=p.useState(!1),N=Bn(L=>L.isLoading),b=t.isStreaming,w=t.composerText.trim().length>0&&!b,S=b,P=p.useMemo(()=>t.messages.find(B=>B.role==="user")?.parts?.[0]?.value?.substring(0,50)+"..."||"New Chat",[t.messages]),j=[],D=p.useRef(null),C=p.useRef(null);if(p.useEffect(()=>{const L=()=>{r(window.innerWidth<768),window.innerWidth>=768&&t.setRightPanelOpen(!0)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[t.setRightPanelOpen]),p.useEffect(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[t.messages]),p.useEffect(()=>{const L=t.messages[t.messages.length-1];if(L&&L.role==="assistant"&&L.parts?.[0]?.value&&!L.isStreaming&&t.settings.brandGuard){const B=L.parts[0].value;B.trim().length>0&&e.checkAssistantMessage(B,{objective:"chat_response",audience:"general"})}},[t.messages,e,t.settings.brandGuard]),p.useEffect(()=>{},[t.composerText,e,t.settings.brandGuard]),N)return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-8 h-8 mx-auto border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando conversaciones..."})]})});const E=L=>{const B=t.composerText+L;t.setComposerText(B),o(!1),D.current?.focus()},k=async()=>{if(w)try{const L=t.composerText.trim();L.length>0&&t.settings.brandGuard&&await e.checkUserMessage(L,{objective:"chat_conversation",audience:"general"}),await t.send(),setTimeout(()=>D.current?.focus(),100)}catch(L){console.error("Failed to send message:",L)}},I=L=>{L.key==="Escape"&&o(!1),(L.ctrlKey||L.metaKey)&&L.key==="Enter"&&(L.preventDefault(),k())},M=L=>{const B=L.target.value;t.setComposerText(B);const q=L.target.selectionStart,O=B.substring(0,q),z=O.slice(-1),W=O.slice(-2,-1);o(z==="/"&&(O.length===1||W===" "||W===`
`))},R=p.useCallback(L=>{t.setComposerText(L),e.applySuggestion(t.composerText,L),D.current?.focus()},[t,e]),T=()=>b?i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"bg-card border border-border rounded-xl p-3 max-w-md",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:t.settings.persona==="mentor"?"Analizando solicitud":t.settings.persona==="planner"?"Estructurando respuesta":"Procesando información"}),j.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:j.map((L,B)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${L.completed?"bg-green-500":"bg-amber-500"}`}),i.jsx("span",{className:"text-sm",children:L.name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:L.mode==="dry_run"?"(simulado)":"(en vivo)"})]},B))}),i.jsx(tB,{value:b?45:100,className:"mb-3"}),S&&i.jsxs(ee,{variant:"outline",size:"sm",onClick:t.abort,className:"flex items-center gap-1",children:[i.jsx(Hm,{className:"w-3 h-3"}),"Cancelar"]})]})}):null,$=p.useCallback((L,B)=>{const q=L.role==="user",O=L.role==="assistant";return i.jsxs("div",{className:`flex gap-2 sm:gap-3 ${q?"justify-end":""}`,children:[!q&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium flex-shrink-0",children:"AI"}),i.jsxs("div",{className:`flex-1 max-w-[85%] sm:max-w-[80%] ${q?"flex flex-col items-end":""}`,children:[i.jsxs("div",{className:`rounded-xl p-3 text-sm ${q?"bg-blue-600 text-white":"bg-gray-50"}`,children:[i.jsx("div",{className:"whitespace-pre-wrap",children:L.parts?.[0]?.value||L.content||""}),O&&L.meta?.tools&&i.jsx("div",{className:"flex items-center gap-1 mt-2 flex-wrap",children:L.meta.tools.map((z,W)=>i.jsx($e,{variant:"secondary",className:"text-xs",children:z.name},W))}),O&&L.meta?.googleIaRequest&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("div",{className:"text-xs font-medium text-blue-800",children:"💫 Solicitud de generación visual"}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[L.meta.googleIaRequest.task,": ",L.meta.googleIaRequest.subject]})]}),O&&L.meta?.usage&&i.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[L.meta.usage.prompt+L.meta.usage.completion," tokens"]})]}),i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:L.createdAt?new Date(L.createdAt).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"Ahora"}),!L.isStreaming&&L.parts?.[0]?.value&&i.jsx(wp,{report:O?e.lastReport:null,isAnalyzing:!1,onApplySuggestion:q?R:void 0,size:"sm",showLabel:!1})]}),O&&B===t.messages.length-1&&!b&&i.jsxs("div",{className:"mt-2 flex gap-1",children:[i.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t.regenerate(),className:"text-xs",children:[i.jsx(B$,{className:"w-3 h-3 mr-1"}),"Regenerar"]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t.regenerate("shorter"),className:"text-xs",children:"Más breve"}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t.regenerate("creative"),className:"text-xs",children:"Más creativo"})]})]}),q&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-sm font-medium text-white flex-shrink-0",children:"U"})]},L.id||B)},[t.messages.length,b,t.regenerate]);return i.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row bg-background",children:[i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[i.jsxs("div",{className:"min-h-14 border-b bg-card px-2 sm:px-4 flex items-center justify-between shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-4 h-4 rounded-full ${b?"bg-amber-500":t.error?"bg-red-500":"bg-green-500"}`,title:b?"Generando":t.error?"Error":"Listo"}),i.jsxs("h1",{className:"text-base font-medium",children:["Chat Maestro",lu]}),i.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[i.jsxs($e,{variant:"outline",className:"text-xs",children:[i.jsx(m$,{className:"w-3 h-3 mr-1"}),P]}),i.jsxs($e,{variant:"secondary",className:"text-xs",children:[t.settings.model," • ",t.settings.persona]})]}),i.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[i.jsxs(Dd,{open:a,onOpenChange:l,children:[i.jsx(eg,{asChild:!0,children:i.jsxs(ee,{variant:"outline",size:"sm",children:[i.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Exportar"]})}),i.jsxs(Ml,{children:[i.jsx(Dl,{children:i.jsx(Ol,{children:"Exportar Conversación"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Zs,{value:h,onValueChange:m,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"md",id:"md"}),i.jsx(we,{htmlFor:"md",children:"Markdown (.md)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"pdf",id:"pdf"}),i.jsx(we,{htmlFor:"pdf",children:"PDF"})]})]}),i.jsxs(ee,{onClick:()=>l(!1),children:["Exportar como ",h.toUpperCase()]})]})]})]}),i.jsxs(Dd,{open:c,onOpenChange:d,children:[i.jsx(eg,{asChild:!0,children:i.jsxs(ee,{variant:"outline",size:"sm",children:[i.jsx(Wm,{className:"w-3 h-3 mr-1"}),"Compartir"]})}),i.jsxs(Ml,{children:[i.jsx(Dl,{children:i.jsx(Ol,{children:"Compartir Conversación"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Zs,{value:f,onValueChange:y,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"readonly",id:"readonly"}),i.jsx(we,{htmlFor:"readonly",children:"Solo lectura"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{value:"collaborative",id:"collaborative"}),i.jsx(we,{htmlFor:"collaborative",children:"Colaborativo"})]})]}),i.jsx(ee,{onClick:()=>d(!1),children:"Generar enlace"})]})]})]})]})]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t.setRightPanelOpen(!t.rightPanelOpen),children:i.jsx(UV,{className:`w-4 h-4 transition-transform ${t.rightPanelOpen?"rotate-180":""}`})})]}),i.jsx("div",{className:"border-b bg-card px-2 sm:px-4 py-2",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($$,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("select",{value:t.settings.model,onChange:L=>t.setSettings({model:L.target.value}),className:"text-xs bg-transparent border-none outline-none",children:i.jsx("option",{value:"gpt-5",children:"GPT-5"})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ja,{className:"w-3 h-3 text-muted-foreground"}),i.jsxs("select",{value:t.settings.persona,onChange:L=>t.setSettings({persona:L.target.value}),className:"text-xs bg-transparent border-none outline-none",children:[i.jsx("option",{value:"mentor",children:"Mentor creativo"}),i.jsx("option",{value:"planner",children:"Planificador estratégico"}),i.jsx("option",{value:"engineer",children:"Ingeniero técnico"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Temp"}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:t.settings.temperature,onChange:L=>t.setSettings({temperature:parseFloat(L.target.value)}),className:"w-16"}),i.jsx($e,{variant:"secondary",className:"text-xs font-mono",children:t.settings.temperature.toFixed(2)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs($e,{variant:t.settings.brandGuard?"default":"secondary",className:"text-xs cursor-pointer",onClick:()=>t.setSettings({brandGuard:!t.settings.brandGuard}),children:["Brand Guard ",t.settings.brandGuard?"ON":"OFF"]}),t.settings.brandGuard&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(wp,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:R,size:"sm",showLabel:!0}),e.lastReport?.findings&&e.lastReport.findings.length>0&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>x(!v),className:"h-6 px-1",children:v?i.jsx(Ci,{className:"h-3 w-3"}):i.jsx(Cn,{className:"h-3 w-3"})})]})]})]})}),v&&e.lastReport&&i.jsx("div",{className:"border-b bg-card",children:i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsx(vT,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:R,onClose:()=>x(!1)})})}),i.jsx("div",{ref:C,className:"flex-1 overflow-y-auto p-2 sm:p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.error&&i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 max-w-md",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm text-red-800",children:t.error})]})})}),t.messages.map((L,B)=>i.jsx("div",{children:$(L,B)},L.id||`msg-${B}`)),T(),t.messages.length===0&&!b&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ja,{className:"w-8 h-8 text-muted-foreground"})}),i.jsxs("h3",{className:"text-lg font-medium mb-2",children:["¡Bienvenido al Chat Maestro!",lu]}),i.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:"Soy tu asistente de IA especializado en creación de contenido. Puedo ayudarte con briefings, análisis de documentos, generación de ideas y mucho más."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t.setComposerText("/brief Crear campaña de redes sociales para lanzamiento de producto"),children:"💡 Brief creativo"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t.setComposerText('/tone Revisar este copy: "Tu mejor versión está a un click de distancia"'),children:"🎯 Tone check"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t.setComposerText("/web Últimas tendencias en marketing digital 2025"),children:"🌐 Búsqueda web"})]})]})]})}),i.jsx("div",{className:"border-t bg-card shadow-sm",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(ee,{variant:"ghost",size:"sm",className:"p-2",title:"Adjuntar archivo",children:i.jsx(D$,{className:"w-4 h-4"})}),i.jsx(ee,{variant:"ghost",size:"sm",className:"p-2",title:"Grabar audio",children:i.jsx(p2,{className:"w-4 h-4"})}),i.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>o(!s),className:"flex items-center gap-1",children:[i.jsx(Ja,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Comandos"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{variant:"secondary",size:"sm",onClick:()=>E("/brief "),className:"text-xs",children:"/brief"}),i.jsx(ee,{variant:"secondary",size:"sm",onClick:()=>E("/tone "),className:"text-xs",children:"/tone"}),i.jsx(ee,{variant:"secondary",size:"sm",onClick:()=>E("/web "),className:"text-xs",children:"/web"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Hj,{ref:D,value:t.composerText,onChange:M,onKeyDown:I,placeholder:"Escribe tu mensaje... Usa / para abrir comandos, Ctrl/⌘+Enter para enviar",className:"resize-none min-h-[80px] max-h-[200px] pr-12",disabled:b}),i.jsx(ee,{onClick:k,disabled:!w,size:"sm",className:"absolute bottom-2 right-2",children:i.jsx(oc,{className:"w-4 h-4"})}),s&&i.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-96 bg-popover border border-border rounded-xl shadow-lg z-50",children:i.jsx("div",{className:"p-2 space-y-1",children:[{cmd:"/brief",icon:C$,title:"Brief creativo",desc:"Objetivo, audiencia, conceptos y ganchos"},{cmd:"/tone",icon:MV,title:"Tone Check",desc:"Verificación de tono de marca"},{cmd:"/imgjson",icon:Ni,title:"Prompt JSON",desc:"Generar JSON para imágenes"},{cmd:"/web",icon:hv,title:"Búsqueda web",desc:"Buscar información actualizada"},{cmd:"/sum",icon:Td,title:"Resumir",desc:"Resumir documento adjunto"}].map(L=>i.jsxs(ee,{variant:"ghost",className:"w-full justify-start p-2.5 h-auto",onClick:()=>E(`${L.cmd} `),children:[i.jsx(L.icon,{className:"w-4 h-4 mr-3 text-muted-foreground"}),i.jsxs("div",{className:"text-left",children:[i.jsxs("div",{className:"text-sm font-medium",children:[L.cmd," — ",L.title]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:L.desc})]})]},L.cmd))})})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[lu,lu,i.jsx(wp,{report:e.lastReport,isAnalyzing:e.isAnalyzing,onApplySuggestion:R,size:"sm",showLabel:!0}),i.jsx("span",{children:"•"}),i.jsxs("span",{children:[t.composerText.length," caracteres"]}),i.jsx("span",{children:"•"}),i.jsxs("span",{children:["≈ ",Math.ceil(t.composerText.length/4)," tokens"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[b&&i.jsx("span",{children:"Generando..."}),i.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"⌘+Enter"})]})]})]})})]}),t.rightPanelOpen&&i.jsxs("div",{className:"w-80 border-l bg-card flex flex-col",children:[i.jsx("div",{className:"p-4 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",children:"Biblioteca"}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t.setRightPanelOpen(!1),children:i.jsx(po,{className:"w-4 h-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Plantillas rápidas"}),i.jsx("div",{className:"space-y-2",children:["Brief para campaña de redes sociales","Análisis de competencia","Propuesta creativa","Plan de contenidos mensual"].map((L,B)=>i.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>t.setComposerText(`Ayúdame a crear: ${L}`),children:L},B))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Historial"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ee,{variant:"ghost",size:"sm",onClick:t.createNewThread,className:"w-full justify-start text-xs",children:[i.jsx(m2,{className:"w-3 h-3 mr-2"}),"Nuevo chat"]}),["Campaña lanzamiento producto...","Análisis brief cliente ABC...","Propuesta naming marca..."].map((L,B)=>i.jsxs(ee,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-muted-foreground",children:[i.jsx(jh,{className:"w-3 h-3 mr-2"}),L]},B))]})]})]})})]})]})}const D1=[{id:"engagement",label:"Engagement (5–10s)",binding:"@tipo"},{id:"promocional",label:"Promocional (5–15s)",binding:"@tipo"},{id:"anuncio",label:"Anuncio (5–15s)",binding:"@tipo"},{id:"educativo",label:"Educativo (10–15s)",binding:"@tipo"},{id:"behind_scenes",label:"Behind Scenes (10–15s)",binding:"@tipo"},{id:"producto",label:"Producto (10–15s)",binding:"@tipo"},{id:"evento",label:"Evento (5–15s)",binding:"@tipo"},{id:"pregunta_encuesta",label:"Pregunta/Encuesta (5–10s)",binding:"@tipo"}];function LB(){const{goToNextStep:t}=Vv(),[e,n]=p.useState([{id:"1",role:"user",content:"Quiero una historia promocional de 10s con CTA de compra.",timestamp:new Date(Date.now()-6e4)},{id:"2",role:"assistant",content:"Entendido. @tipo: Promocional; @duracion: 10s; @objetivo: vender oferta; @cta: Compra ahora; @publico: clientes jóvenes.",timestamp:new Date(Date.now()-3e4)}]),[r,s]=p.useState(""),[o,a]=p.useState({tipo:"promocional",objetivo:"vender oferta",publico:"clientes jóvenes",mensaje:"",cta:"Compra ahora"});p.useEffect(()=>{const y=e.filter(v=>v.role==="assistant").pop();if(y){const v=y.content,x=v.match(/@tipo:\s*([^;]+)/),N=v.match(/@objetivo:\s*([^;]+)/),b=v.match(/@publico:\s*([^;]+)/),w=v.match(/@mensaje:\s*([^;]+)/),S=v.match(/@cta:\s*([^;]+)/);a(P=>({...P,...x&&{tipo:x[1].toLowerCase().trim()},...N&&{objetivo:N[1].trim()},...b&&{publico:b[1].trim()},...w&&{mensaje:w[1].trim()},...S&&{cta:S[1].trim()}}))}},[e]);const l=()=>{if(!r.trim())return;const y={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};n(v=>[...v,y]),setTimeout(()=>{const v={id:(Date.now()+1).toString(),role:"assistant",content:"Perfecto. He actualizado los campos del formulario basándome en tu solicitud. ¿Hay algo más que quieras ajustar?",timestamp:new Date};n(x=>[...x,v])},1e3),s("")},c=y=>{D1.find(x=>x.id===y)&&a(x=>({...x,tipo:y}))},d=(y,v)=>{a(x=>({...x,[y]:v}))},h=[{label:"Tipo de historia seleccionado",completed:!!o.tipo},{label:"Objetivo definido",completed:!!o.objetivo},{label:"Público identificado",completed:!!o.publico},{label:"Mensaje principal listo",completed:!!o.mensaje},{label:"CTA definido",completed:!!o.cta}],f=h.filter(y=>y.completed).length===h.length;return i.jsx("div",{className:"h-full bg-canvas",children:i.jsxs("div",{className:"h-full flex gap-4 p-4",children:[i.jsx("div",{className:"w-[460px] flex-shrink-0",children:i.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm p-3 flex flex-col",children:[i.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-100",children:[i.jsx(sc,{className:"w-4 h-4 text-blue-600"}),i.jsx("h3",{className:"font-medium text-sm",children:"Chat Maestro (Briefing de Historia)"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto py-3 space-y-3",style:{height:"560px"},children:e.map(y=>i.jsxs("div",{className:`flex gap-2 ${y.role==="user"?"justify-end":"justify-start"}`,children:[y.role==="assistant"&&i.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(dv,{className:"w-3 h-3 text-blue-600"})}),i.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-xs leading-relaxed ${y.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:y.content}),y.role==="user"&&i.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(_2,{className:"w-3 h-3 text-gray-600"})})]},y.id))}),i.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[i.jsx("textarea",{value:r,onChange:y=>s(y.target.value),placeholder:"Escribe una instrucción o idea…",rows:3,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),l())}}),i.jsxs("button",{onClick:l,disabled:!r.trim(),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[i.jsx(oc,{className:"w-3 h-3"}),"Enviar al asistente"]})]})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:i.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm p-3 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[i.jsx("h2",{className:"font-medium",children:"Nueva Historia"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 1 de 6"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:[i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Selecciona tipo de historia"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:D1.map(y=>i.jsx("button",{onClick:()=>c(y.id),className:`px-3 py-1.5 rounded-lg text-xs border transition-all ${o.tipo===y.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:y.label},y.id))})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Detalles de la historia"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Objetivo"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("textarea",{value:o.objetivo,onChange:y=>d("objetivo",y.target.value),placeholder:"Ej: Aumentar interacción, generar ventas",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Público objetivo"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("textarea",{value:o.publico,onChange:y=>d("publico",y.target.value),placeholder:"Ej: Jóvenes de 18–30 interesados en moda",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Mensaje principal"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("input",{type:"text",value:o.mensaje,onChange:y=>d("mensaje",y.target.value),placeholder:"Ej: Oferta flash disponible hoy",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"CTA"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("input",{type:"text",value:o.cta,onChange:y=>d("cta",y.target.value),placeholder:"Ej: Desliza hacia arriba, Compra ahora",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-3",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Checklist"}),i.jsx("div",{className:"space-y-2",children:h.map((y,v)=>i.jsxs("div",{className:"flex items-center gap-2",children:[y.completed?i.jsx(Ue,{className:"w-4 h-4 text-green-500"}):i.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded-full"}),i.jsx("span",{className:`text-sm ${y.completed?"text-green-700":"text-gray-600"}`,children:y.label})]},v))}),f&&i.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(br,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm text-green-800 font-medium",children:"¡Briefing completo! Listo para continuar."})]})})]})]}),i.jsx("div",{className:"pt-3 border-t border-gray-100 flex justify-end",children:i.jsxs("button",{onClick:t,disabled:!f,className:`flex items-center gap-2 px-4 py-2 rounded text-sm ${f?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Configuración",i.jsx(ln,{className:"w-4 h-4"})]})})]})})]})})}const FB=[{id:"engagement",label:"Engagement (5–10s)",binding:"@tipo"},{id:"promocional",label:"Promocional (5–15s)",binding:"@tipo"},{id:"anuncio",label:"Anuncio (5–15s)",binding:"@tipo"},{id:"educativo",label:"Educativo (10–15s)",binding:"@tipo"},{id:"behind_scenes",label:"Behind Scenes (10–15s)",binding:"@tipo"},{id:"producto",label:"Producto (10–15s)",binding:"@tipo"},{id:"evento",label:"Evento (5–15s)",binding:"@tipo"},{id:"pregunta_encuesta",label:"Pregunta/Encuesta (5–10s)",binding:"@tipo"}];function VB(){const[t,e]=p.useState([{id:"1",role:"user",content:"Quiero una historia promocional de 10s con CTA de compra.",timestamp:new Date(Date.now()-6e4)},{id:"2",role:"assistant",content:"Entendido. @tipo: Promocional; @duracion: 10s; @objetivo: vender oferta; @cta: Compra ahora; @publico: clientes jóvenes.",timestamp:new Date(Date.now()-3e4)}]),[n,r]=p.useState(""),[s,o]=p.useState({tipo:"promocional",objetivo:"vender oferta",publico:"clientes jóvenes",mensaje:"",cta:"Compra ahora"}),[a,l]=p.useState(!1);p.useEffect(()=>{const v=t.filter(x=>x.role==="assistant").pop();if(v){const x=v.content,N=x.match(/@tipo:\s*([^;]+)/),b=x.match(/@objetivo:\s*([^;]+)/),w=x.match(/@publico:\s*([^;]+)/),S=x.match(/@mensaje:\s*([^;]+)/),P=x.match(/@cta:\s*([^;]+)/);o(j=>({...j,...N&&{tipo:N[1].toLowerCase().trim()},...b&&{objetivo:b[1].trim()},...w&&{publico:w[1].trim()},...S&&{mensaje:S[1].trim()},...P&&{cta:P[1].trim()}}))}},[t]);const c=()=>{if(!n.trim())return;const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};e(x=>[...x,v]),setTimeout(()=>{const x={id:(Date.now()+1).toString(),role:"assistant",content:"Perfecto. He actualizado los campos del formulario basándome en tu solicitud. ¿Hay algo más que quieras ajustar?",timestamp:new Date};e(N=>[...N,x])},1e3),r("")},d=v=>{o(x=>({...x,tipo:v}))},h=(v,x)=>{o(N=>({...N,[v]:x}))},m=[{label:"Tipo de historia seleccionado",completed:!!s.tipo},{label:"Objetivo definido",completed:!!s.objetivo},{label:"Público identificado",completed:!!s.publico},{label:"Mensaje principal listo",completed:!!s.mensaje},{label:"CTA definido",completed:!!s.cta}],y=m.filter(v=>v.completed).length===m.length;return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",children:"Nueva Historia"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 1 de 6"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"bg-white border-b border-gray-100",children:[i.jsxs("button",{onClick:()=>l(!a),className:"w-full p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sc,{className:"w-4 h-4 text-blue-600"}),i.jsx("h3",{className:"font-medium text-sm",children:"Chat Maestro (Briefing de Historia)"})]}),a?i.jsx(Ci,{className:"w-4 h-4 text-gray-500"}):i.jsx(Cn,{className:"w-4 h-4 text-gray-500"})]}),a&&i.jsxs("div",{className:"px-4 pb-4",children:[i.jsx("div",{className:"max-h-60 overflow-y-auto py-3 space-y-3 border border-gray-100 rounded-lg p-3 mb-3",children:t.map(v=>i.jsxs("div",{className:`flex gap-2 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&i.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(dv,{className:"w-3 h-3 text-blue-600"})}),i.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-xs leading-relaxed ${v.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:v.content}),v.role==="user"&&i.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(_2,{className:"w-3 h-3 text-gray-600"})})]},v.id))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("textarea",{value:n,onChange:v=>r(v.target.value),placeholder:"Escribe una instrucción o idea…",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsxs("button",{onClick:c,disabled:!n.trim(),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 disabled:bg-gray-300",children:[i.jsx(oc,{className:"w-3 h-3"}),"Enviar al asistente"]})]})]})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Selecciona tipo de historia"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:FB.map(v=>i.jsx("button",{onClick:()=>d(v.id),className:`px-3 py-2 rounded-lg text-xs border transition-all text-left ${s.tipo===v.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:v.label},v.id))})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Detalles de la historia"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Objetivo"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("textarea",{value:s.objetivo,onChange:v=>h("objetivo",v.target.value),placeholder:"Ej: Aumentar interacción, generar ventas",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Público objetivo"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("textarea",{value:s.publico,onChange:v=>h("publico",v.target.value),placeholder:"Ej: Jóvenes de 18–30 interesados en moda",rows:2,className:"w-full p-2 text-sm border border-gray-200 rounded resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Mensaje principal"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("input",{type:"text",value:s.mensaje,onChange:v=>h("mensaje",v.target.value),placeholder:"Ej: Oferta flash disponible hoy",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"CTA"}),i.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"AI"})]}),i.jsx("input",{type:"text",value:s.cta,onChange:v=>h("cta",v.target.value),placeholder:"Ej: Desliza hacia arriba, Compra ahora",className:"w-full p-2 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Checklist"}),i.jsx("div",{className:"space-y-2",children:m.map((v,x)=>i.jsxs("div",{className:"flex items-center gap-2",children:[v.completed?i.jsx(Ue,{className:"w-4 h-4 text-green-500"}):i.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded-full"}),i.jsx("span",{className:`text-sm ${v.completed?"text-green-700":"text-gray-600"}`,children:v.label})]},x))}),y&&i.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(br,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm text-green-800 font-medium",children:"¡Briefing completo! Listo para continuar."})]})})]})]})]}),i.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:i.jsxs("button",{disabled:!y,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded text-sm ${y?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Configuración",i.jsx(ln,{className:"w-4 h-4"})]})})]})}function $B(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function O1(){return $B()?i.jsx(VB,{}):i.jsx(LB,{})}const zB=[{id:"sticker",label:"Sticker"},{id:"encuesta",label:"Encuesta"},{id:"pregunta",label:"Pregunta"},{id:"reaccion",label:"Reacción"},{id:"link_cta",label:"Link / CTA"}],UB=[{id:"minimalista",label:"Minimalista"},{id:"colorido",label:"Colorido"},{id:"dinamico",label:"Dinámico"},{id:"plantilla_oficial",label:"Plantilla oficial"}];function BB(){const{goToNextStep:t,goToPreviousStep:e}=Vv(),[n,r]=p.useState(10),[s,o]=p.useState("10"),[a,l]=p.useState(["link_cta"]),[c,d]=p.useState("minimalista"),[h,m]=p.useState(2),[f,y]=p.useState("2"),v=P=>{r(P),o(P.toString())},x=P=>{o(P);const j=parseInt(P);!isNaN(j)&&j>=5&&j<=15&&r(j)},N=P=>{m(P),y(P.toString())},b=P=>{y(P);const j=parseInt(P);!isNaN(j)&&j>=1&&j<=5&&m(j)},w=P=>{l(j=>j.includes(P)?j.filter(D=>D!==P):[...j,P])},S=P=>{d(P)};return i.jsxs("div",{className:"h-full bg-canvas",children:[i.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("h1",{className:"text-2xl font-medium",children:"Configuración de Historia"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 2 de 6"}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:["Siguiente: Generación inicial",i.jsx(ln,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"flex-1 space-y-6 overflow-y-auto",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Duración"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"text-sm font-medium min-w-0",children:"Duración exacta (segundos)"}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("input",{type:"range",min:"5",max:"15",step:"1",value:n,onChange:P=>v(parseInt(P.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(n-5)/10*100}%, #E5E7EB ${(n-5)/10*100}%, #E5E7EB 100%)`}}),i.jsx("input",{type:"number",min:"5",max:"15",value:s,onChange:P=>x(P.target.value),className:"w-16 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"s"})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"El rango depende del tipo de historia seleccionado en el paso anterior."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Elementos interactivos"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:zB.map(P=>i.jsx("button",{onClick:()=>w(P.id),className:`px-3 py-2 rounded-xl text-sm border transition-all ${a.includes(P.id)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:P.label},P.id))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Estilo visual"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:UB.map(P=>i.jsx("button",{onClick:()=>S(P.id),className:`px-3 py-2 rounded-xl text-sm border transition-all ${c===P.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:P.label},P.id))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Número de variaciones"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"text-sm font-medium min-w-0",children:"Variaciones a generar"}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:h,onChange:P=>N(parseInt(P.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(h-1)/4*100}%, #E5E7EB ${(h-1)/4*100}%, #E5E7EB 100%)`}}),i.jsx("input",{type:"number",min:"1",max:"5",value:f,onChange:P=>b(P.target.value),className:"w-16 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{children:"Validación previa: logo y CTA deben estar presentes antes de exportar."})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[i.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[i.jsx(qt,{className:"w-4 h-4"}),"Anterior: Briefing"]}),i.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:["Siguiente: Generación inicial",i.jsx(ln,{className:"w-4 h-4"})]})]})]}),i.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}const HB=[{id:"sticker",label:"Sticker"},{id:"encuesta",label:"Encuesta"},{id:"pregunta",label:"Pregunta"},{id:"reaccion",label:"Reacción"},{id:"link_cta",label:"Link / CTA"}],GB=[{id:"minimalista",label:"Minimalista"},{id:"colorido",label:"Colorido"},{id:"dinamico",label:"Dinámico"},{id:"plantilla_oficial",label:"Plantilla oficial"}];function WB(){const[t,e]=p.useState(10),[n,r]=p.useState("10"),[s,o]=p.useState(["link_cta"]),[a,l]=p.useState("minimalista"),[c,d]=p.useState(2),[h,m]=p.useState("2"),f=w=>{e(w),r(w.toString())},y=w=>{r(w);const S=parseInt(w);!isNaN(S)&&S>=5&&S<=15&&e(S)},v=w=>{d(w),m(w.toString())},x=w=>{m(w);const S=parseInt(w);!isNaN(S)&&S>=1&&S<=5&&d(S)},N=w=>{o(S=>S.includes(w)?S.filter(P=>P!==w):[...S,w])},b=w=>{l(w)};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-lg font-medium",children:"Configuración de Historia"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 2 de 6"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Duración"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Duración exacta (segundos)"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",min:"5",max:"15",value:n,onChange:w=>y(w.target.value),className:"w-12 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"s"})]})]}),i.jsx("input",{type:"range",min:"5",max:"15",step:"1",value:t,onChange:w=>f(parseInt(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(t-5)/10*100}%, #E5E7EB ${(t-5)/10*100}%, #E5E7EB 100%)`}}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"5s"}),i.jsx("span",{children:"15s"})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"El rango depende del tipo de historia seleccionado en el paso anterior."})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Elementos interactivos"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:HB.map(w=>i.jsx("button",{onClick:()=>N(w.id),className:`px-3 py-2 rounded-xl text-sm border transition-all text-center ${s.includes(w.id)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:w.label},w.id))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Estilo visual"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:GB.map(w=>i.jsx("button",{onClick:()=>b(w.id),className:`px-3 py-2 rounded-xl text-sm border transition-all text-center ${a===w.id?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:w.label},w.id))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Número de variaciones"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Variaciones a generar"}),i.jsx("input",{type:"number",min:"1",max:"5",value:h,onChange:w=>x(w.target.value),className:"w-12 px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:c,onChange:w=>v(parseInt(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(c-1)/4*100}%, #E5E7EB ${(c-1)/4*100}%, #E5E7EB 100%)`}}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"1"}),i.jsx("span",{children:"5"})]})]})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Vt,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsxs("p",{className:"text-sm text-amber-700",children:[i.jsx("strong",{children:"Validación previa:"})," logo y CTA deben estar presentes antes de exportar."]})]})})]}),i.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-200 rounded flex-1",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 flex-1",children:["Siguiente: Generación inicial",i.jsx(ln,{className:"w-4 h-4"})]})]})}),i.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}function KB(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function qB(){return KB()?i.jsx(WB,{}):i.jsx(BB,{})}const YB=[{id:1,type:"Promocional",preview:{bg:"bg-gradient-to-br from-blue-500 to-purple-600",content:`OFERTA FLASH
50% OFF
Solo hoy`},elements:["Sticker: ¿Qué opinas?","CTA: Desliza hacia arriba"]},{id:2,type:"Engagement",preview:{bg:"bg-gradient-to-br from-pink-500 to-red-500",content:`¿Cuál prefieres?
A o B
Vota ahora`},elements:["Encuesta: ¿A o B?","CTA: Vota ahora"]},{id:3,type:"Educativo",preview:{bg:"bg-gradient-to-br from-green-500 to-teal-600",content:`TIP DEL DÍA
#MarketingTips
Aprende más`},elements:["Sticker: Tip del día","CTA: Aprende más"]},{id:4,type:"Behind Scenes",preview:{bg:"bg-gradient-to-br from-orange-500 to-yellow-500",content:`DETRÁS DE
CÁMARAS
Así trabajamos`},elements:["Sticker: Behind scenes","CTA: Ver proceso"]},{id:5,type:"Producto",preview:{bg:"bg-gradient-to-br from-indigo-500 to-blue-600",content:`NUEVO
PRODUCTO
Conoce más`},elements:["Sticker: Nuevo producto","CTA: Conoce más"]},{id:6,type:"Evento",preview:{bg:"bg-gradient-to-br from-teal-500 to-green-500",content:`EVENTO
ESPECIAL
Te esperamos`},elements:["Sticker: Evento especial","CTA: Te esperamos"]}];function QB(){const[t,e]=p.useState(!0),[n,r]=p.useState([]),[s,o]=p.useState(YB);p.useEffect(()=>{const f=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(f)},[]);const a=f=>{r(y=>y.includes(f)?y.filter(v=>v!==f):[...y,f])},l=()=>{n.length===s.length?r([]):r(s.map(f=>f.id))},c=f=>{console.log(`Regenerating story ${f}`)},d=f=>{o(y=>y.filter(v=>v.id!==f)),r(y=>y.filter(v=>v!==f))},h=n.length,m=h>0;return t?i.jsx("div",{className:"h-full bg-canvas",children:i.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("h1",{className:"text-2xl font-medium",children:"Generación inicial de Historias"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 3 de 6"}),i.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 text-gray-400",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 bg-gray-300 text-gray-500 rounded",children:["Siguiente: Edición avanzada",i.jsx(ln,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vr,{className:"w-6 h-6 animate-spin text-blue-500"}),i.jsx("span",{className:"text-lg",children:"Generando borradores de historias con IA…"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-6 w-full max-w-4xl",children:Array.from({length:6}).map((f,y)=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 animate-pulse",children:[i.jsx("div",{className:"w-full h-[420px] bg-gray-200 rounded-lg mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})]},y))})]})]})}):i.jsx("div",{className:"h-full bg-canvas",children:i.jsxs("div",{className:"h-full flex flex-col gap-6 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("h1",{className:"text-2xl font-medium",children:"Generación inicial de Historias"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:"Paso 3 de 6"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[h," historia",h!==1?"s":""," seleccionada",h!==1?"s":""]}),i.jsx("button",{onClick:l,className:"text-sm text-blue-600 hover:text-blue-800",children:n.length===s.length?"Deseleccionar todo":"Seleccionar todo"}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!m,className:`flex items-center gap-2 px-4 py-2 rounded ${m?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edición avanzada",i.jsx(ln,{className:"w-4 h-4"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-3 gap-6",children:s.map(f=>{const y=n.includes(f.id);return i.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-4 transition-all border-2 ${y?"border-blue-500 shadow-lg":"border-transparent"}`,children:[i.jsx("div",{className:"relative mb-4",children:i.jsxs("div",{className:`w-full h-[420px] rounded-lg ${f.preview.bg} flex items-center justify-center text-white relative overflow-hidden`,style:{aspectRatio:"9/16"},children:[i.jsx("div",{className:"text-center p-4",children:f.preview.content.split(`
`).map((v,x)=>i.jsx("div",{className:`${x===0?"text-2xl font-bold mb-2":x===1?"text-4xl font-bold mb-2":"text-lg"}`,children:v},x))}),i.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/20 backdrop-blur-sm rounded text-xs",children:f.type}),y&&i.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx(ki,{className:"w-6 h-6 text-white"})})})]})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Elementos sugeridos"}),i.jsx("ul",{className:"space-y-1",children:f.elements.map((v,x)=>i.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-2",children:[i.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),v]},x))})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>a(f.id),className:`flex items-center gap-2 px-3 py-2 rounded text-sm flex-1 transition-colors ${y?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y?i.jsx(ki,{className:"w-4 h-4"}):i.jsx(Id,{className:"w-4 h-4"}),y?"Seleccionada":"Seleccionar"]}),i.jsx("button",{onClick:()=>c(f.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Regenerar IA",children:i.jsx(g2,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>d(f.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Descartar",children:i.jsx(w2,{className:"w-4 h-4"})})]})]},f.id)})})}),!m&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 px-4",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{children:"Debes seleccionar al menos una historia para continuar."})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!m,className:`flex items-center gap-2 px-4 py-2 rounded ${m?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edición avanzada",i.jsx(ln,{className:"w-4 h-4"})]})]})]})})}const XB=[{id:1,type:"Promocional",preview:{bg:"bg-gradient-to-br from-blue-500 to-purple-600",content:`OFERTA FLASH
50% OFF
Solo hoy`},elements:["Sticker: ¿Qué opinas?","CTA: Desliza hacia arriba"]},{id:2,type:"Engagement",preview:{bg:"bg-gradient-to-br from-pink-500 to-red-500",content:`¿Cuál prefieres?
A o B
Vota ahora`},elements:["Encuesta: ¿A o B?","CTA: Vota ahora"]},{id:3,type:"Educativo",preview:{bg:"bg-gradient-to-br from-green-500 to-teal-600",content:`TIP DEL DÍA
#MarketingTips
Aprende más`},elements:["Sticker: Tip del día","CTA: Aprende más"]},{id:4,type:"Behind Scenes",preview:{bg:"bg-gradient-to-br from-orange-500 to-yellow-500",content:`DETRÁS DE
CÁMARAS
Así trabajamos`},elements:["Sticker: Behind scenes","CTA: Ver proceso"]},{id:5,type:"Producto",preview:{bg:"bg-gradient-to-br from-indigo-500 to-blue-600",content:`NUEVO
PRODUCTO
Conoce más`},elements:["Sticker: Nuevo producto","CTA: Conoce más"]},{id:6,type:"Evento",preview:{bg:"bg-gradient-to-br from-teal-500 to-green-500",content:`EVENTO
ESPECIAL
Te esperamos`},elements:["Sticker: Evento especial","CTA: Te esperamos"]}];function JB(){const[t,e]=p.useState(!0),[n,r]=p.useState([]),[s,o]=p.useState(XB);p.useEffect(()=>{const f=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(f)},[]);const a=f=>{r(y=>y.includes(f)?y.filter(v=>v!==f):[...y,f])},l=()=>{n.length===s.length?r([]):r(s.map(f=>f.id))},c=f=>{console.log(`Regenerating story ${f}`)},d=f=>{o(y=>y.filter(v=>v.id!==f)),r(y=>y.filter(v=>v!==f))},h=n.length,m=h>0;return t?i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-lg font-medium",children:"Generación inicial de Historias"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 3 de 6"})]})}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-6 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vr,{className:"w-5 h-5 animate-spin text-blue-500"}),i.jsx("span",{className:"text-center",children:"Generando borradores de historias con IA…"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4 w-full",children:Array.from({length:6}).map((f,y)=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 animate-pulse",children:[i.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-3 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded flex-1"}),i.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded"})]})]},y))})]})]}):i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsxs("div",{className:"bg-white border-b border-gray-100 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h1",{className:"text-lg font-medium",children:"Generación inicial de Historias"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:"Paso 3 de 6"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[h," seleccionada",h!==1?"s":""]}),i.jsx("button",{onClick:l,className:"text-sm text-blue-600 hover:text-blue-800",children:n.length===s.length?"Deseleccionar":"Seleccionar todo"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map(f=>{const y=n.includes(f.id);return i.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-3 transition-all border-2 ${y?"border-blue-500 shadow-lg":"border-transparent"}`,children:[i.jsx("div",{className:"relative mb-3",children:i.jsxs("div",{className:`w-full h-48 rounded-lg ${f.preview.bg} flex items-center justify-center text-white relative overflow-hidden`,children:[i.jsx("div",{className:"text-center p-2",children:f.preview.content.split(`
`).map((v,x)=>i.jsx("div",{className:`${x===0?"text-sm font-bold mb-1":x===1?"text-lg font-bold mb-1":"text-xs"}`,children:v},x))}),i.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 bg-black/20 backdrop-blur-sm rounded text-xs",children:f.type}),y&&i.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx(ki,{className:"w-4 h-4 text-white"})})})]})}),i.jsxs("div",{className:"mb-3",children:[i.jsx("h4",{className:"font-medium text-xs mb-1",children:"Elementos sugeridos"}),i.jsx("ul",{className:"space-y-0.5",children:f.elements.slice(0,2).map((v,x)=>i.jsxs("li",{className:"text-xs text-gray-600 flex items-center gap-1",children:[i.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),i.jsx("span",{className:"truncate",children:v})]},x))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("button",{onClick:()=>a(f.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs flex-1 transition-colors ${y?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y?i.jsx(ki,{className:"w-3 h-3"}):i.jsx(Id,{className:"w-3 h-3"}),i.jsx("span",{className:"hidden sm:inline",children:y?"Seleccionada":"Seleccionar"})]}),i.jsx("button",{onClick:()=>c(f.id),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Regenerar IA",children:i.jsx(g2,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>d(f.id),className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Descartar",children:i.jsx(w2,{className:"w-3 h-3"})})]})]},f.id)})})}),!m&&i.jsx("div",{className:"bg-amber-50 border-t border-amber-200 p-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Vt,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Debes seleccionar al menos una historia para continuar."})]})}),i.jsx("div",{className:"bg-white border-t border-gray-100 p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-200 rounded flex-1",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!m,className:`flex items-center justify-center gap-2 px-4 py-3 rounded flex-1 ${m?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Siguiente: Edición avanzada",i.jsx(ln,{className:"w-4 h-4"})]})]})})]})}function ZB(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function eH(){return ZB()?i.jsx(JB,{}):i.jsx(QB,{})}const tH=[{id:1,role:"user",content:"Haz el texto principal más grande",timestamp:new Date(Date.now()-12e4)},{id:2,role:"assistant",content:"✅ Texto aumentado en tamaño.",timestamp:new Date(Date.now()-1e5)}],nH=["Montserrat","Inter","Poppins","Roboto"],rH=["Ninguna","Fade","Slide","Zoom"],L1=["#2563eb","#dc2626","#059669","#d97706","#7c3aed","#db2777"],sH=["Color","Degradado","Imagen","Video"],oH=["Pregunta","Encuesta","Reacción","Link / CTA"],cu=[{id:1,title:"Historia 1",thumbnail:"https://via.placeholder.com/180x320/2563eb/ffffff?text=1"},{id:2,title:"Historia 2",thumbnail:"https://via.placeholder.com/180x320/dc2626/ffffff?text=2"},{id:3,title:"Historia 3",thumbnail:"https://via.placeholder.com/180x320/059669/ffffff?text=3"}],iH=()=>({selectedFont:"Montserrat",textColor:"#2563eb",textSize:24,textAnimation:"Ninguna",selectedStickerTypes:["Link / CTA"],stickerText:"",backgroundType:"Color",backgroundColor:"#2563eb",logoSize:40,logoOpacity:100});function aH(){const[t,e]=p.useState(tH),[n,r]=p.useState(""),[s,o]=p.useState(cu[0].id),[a,l]=p.useState(()=>{const f={};return cu.forEach(y=>{f[y.id]=iH()}),f}),c=a[s],d=f=>{l(y=>({...y,[s]:{...y[s],...f}}))},h=()=>{if(!n.trim())return;const f={id:t.length+1,role:"user",content:n,timestamp:new Date};e(y=>[...y,f]),r(""),setTimeout(()=>{const y={id:t.length+2,role:"assistant",content:"✅ Instrucción procesada.",timestamp:new Date};e(v=>[...v,y])},1e3)},m=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),h())};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"font-medium text-gray-900 mr-4",children:"Editando:"}),i.jsx("div",{className:"flex gap-2",children:cu.map(f=>i.jsxs("button",{onClick:()=>o(f.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${s===f.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx("div",{className:"w-4 h-4 rounded border border-white/20",style:{backgroundColor:s===f.id?"#ffffff40":"#00000020"}}),f.title]},f.id))})]})}),i.jsxs("div",{className:"flex-1 flex gap-4 p-4",children:[i.jsxs("div",{className:"w-80 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsx("h3",{className:"font-medium",children:"Chat de Edición (IA)"})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",style:{height:"480px"},children:t.map(f=>i.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-xl text-sm ${f.role==="user"?"bg-bubble-user text-white":"bg-bubble-assistant text-gray-800"}`,children:f.content})},f.id))}),i.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[i.jsx("textarea",{value:n,onChange:f=>r(f.target.value),onKeyPress:m,placeholder:"Ej: 'Agrega sticker de encuesta'",className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3}),i.jsxs("button",{onClick:h,disabled:!n.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium ${n.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[i.jsx(oc,{className:"w-4 h-4"}),"Enviar instrucción"]})]})]})]}),i.jsx("div",{className:"flex-1 flex flex-col",children:i.jsx("div",{className:"flex-1 flex items-center justify-center bg-black rounded-xl border border-gray-300",children:i.jsxs("div",{className:"bg-gray-100 rounded-lg border border-gray-300 flex items-center justify-center relative",style:{width:"405px",height:"720px"},children:[i.jsx("div",{className:"absolute top-3 left-3 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:cu.find(f=>f.id===s)?.title}),i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Ni,{className:"w-8 h-8 text-gray-500"})}),i.jsx("h4",{className:"font-medium mb-2",children:"Canvas Historia 9:16"}),i.jsx("p",{className:"text-sm text-gray-500",children:"(Capas editables)"}),i.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"405 × 720 px"}),i.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg text-left max-w-xs",children:[i.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2",children:"Configuración actual:"}),i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[i.jsxs("div",{children:["Fuente: ",c.selectedFont]}),i.jsxs("div",{children:["Tamaño: ",c.textSize,"px"]}),i.jsxs("div",{className:"flex items-center gap-2",children:["Color:",i.jsx("div",{className:"w-3 h-3 rounded border border-gray-300",style:{backgroundColor:c.textColor}})]})]})]})]})]})})}),i.jsxs("div",{className:"w-65 bg-white rounded-xl shadow-sm border border-gray-200 p-3 overflow-y-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"font-medium",children:"Herramientas"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(fv,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Texto"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Fuente"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:c.selectedFont,onChange:f=>d({selectedFont:f.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:nH.map(f=>i.jsx("option",{value:f,children:f},f))}),i.jsx(Cn,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color"}),i.jsx("div",{className:"flex gap-2",children:L1.map(f=>i.jsx("button",{onClick:()=>d({textColor:f}),className:`w-6 h-6 rounded-full border-2 ${c.textColor===f?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:f}},f))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamaño: ",c.textSize,"px"]}),i.jsx("input",{type:"range",min:"10",max:"72",value:c.textSize,onChange:f=>d({textSize:parseInt(f.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(c.textSize-10)/62*100}%, #E5E7EB ${(c.textSize-10)/62*100}%, #E5E7EB 100%)`}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Animación"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:c.textAnimation,onChange:f=>d({textAnimation:f.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:rH.map(f=>i.jsx("option",{value:f,children:f},f))}),i.jsx(Cn,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(x2,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Stickers / Interacción"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2",children:oH.map(f=>i.jsx("button",{onClick:()=>{const y=c.selectedStickerTypes.includes(f)?c.selectedStickerTypes.filter(v=>v!==f):[...c.selectedStickerTypes,f];d({selectedStickerTypes:y})},className:`px-2 py-1 rounded-lg text-xs border transition-all ${c.selectedStickerTypes.includes(f)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:f},f))}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Texto del sticker"}),i.jsx("input",{type:"text",value:c.stickerText,onChange:f=>d({stickerText:f.target.value}),placeholder:"Ej: ¿Qué opinas?",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Pl,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Fondo"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Tipo"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:c.backgroundType,onChange:f=>d({backgroundType:f.target.value}),className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:sH.map(f=>i.jsx("option",{value:f,children:f},f))}),i.jsx(Cn,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color de fondo"}),i.jsx("div",{className:"flex gap-2",children:L1.map(f=>i.jsx("button",{onClick:()=>d({backgroundColor:f}),className:`w-6 h-6 rounded-full border-2 ${c.backgroundColor===f?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:f}},f))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Subir imagen/video"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-gray-300 transition-colors",children:[i.jsx(b2,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),i.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, MP4"}),i.jsx("input",{type:"file",accept:".jpg,.png,.mp4",className:"hidden"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ni,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Logo / Branding"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{className:"w-full px-3 py-2 text-sm bg-gray-100 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-200 transition-colors",children:"Insertar logo (BrandKit)"}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamaño logo: ",c.logoSize,"%"]}),i.jsx("input",{type:"range",min:"10",max:"100",value:c.logoSize,onChange:f=>d({logoSize:parseInt(f.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(c.logoSize-10)/90*100}%, #E5E7EB ${(c.logoSize-10)/90*100}%, #E5E7EB 100%)`}})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Opacidad logo: ",c.logoOpacity,"%"]}),i.jsx("input",{type:"range",min:"0",max:"100",value:c.logoOpacity,onChange:f=>d({logoOpacity:parseInt(f.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${c.logoOpacity}%, #E5E7EB ${c.logoOpacity}%, #E5E7EB 100%)`}})]})]})]})]})]})]}),i.jsx("style",{jsx:"true",children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 16px;
          width: 16px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}const lH=[{id:1,role:"user",content:"Haz el texto principal más grande",timestamp:new Date(Date.now()-12e4)},{id:2,role:"assistant",content:"✅ Texto aumentado en tamaño.",timestamp:new Date(Date.now()-1e5)}],cH=["Montserrat","Inter","Poppins","Roboto"],F1=["#2563eb","#dc2626","#059669","#d97706","#7c3aed","#db2777"],uH=["Color","Degradado","Imagen","Video"],dH=["Pregunta","Encuesta","Reacción","Link / CTA"],uu=[{id:1,title:"Historia 1",thumbnail:"https://via.placeholder.com/180x320/2563eb/ffffff?text=1"},{id:2,title:"Historia 2",thumbnail:"https://via.placeholder.com/180x320/dc2626/ffffff?text=2"},{id:3,title:"Historia 3",thumbnail:"https://via.placeholder.com/180x320/059669/ffffff?text=3"}],hH=()=>({selectedFont:"Montserrat",textColor:"#2563eb",textSize:24,textAnimation:"Ninguna",selectedStickerTypes:["Link / CTA"],stickerText:"",backgroundType:"Color",backgroundColor:"#2563eb",logoSize:40,logoOpacity:100});function fH(){const[t,e]=p.useState(lH),[n,r]=p.useState(""),[s,o]=p.useState(!1),[a,l]=p.useState(!1),[c,d]=p.useState(uu[0].id),[h,m]=p.useState(()=>{const N={};return uu.forEach(b=>{N[b.id]=hH()}),N}),f=h[c],y=N=>{m(b=>({...b,[c]:{...b[c],...N}}))},v=()=>{if(!n.trim())return;const N={id:t.length+1,role:"user",content:n,timestamp:new Date};e(b=>[...b,N]),r(""),setTimeout(()=>{const b={id:t.length+2,role:"assistant",content:"✅ Instrucción procesada.",timestamp:new Date};e(w=>[...w,b])},1e3)},x=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),v())};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("h2",{className:"font-medium text-gray-900 text-sm",children:"Editando:"}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:uu.map(N=>i.jsxs("button",{onClick:()=>d(N.id),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all flex items-center gap-2 whitespace-nowrap ${c===N.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx("div",{className:"w-3 h-3 rounded border border-white/20 flex-shrink-0",style:{backgroundColor:c===N.id?"#ffffff40":"#00000020"}}),N.title]},N.id))})]})}),i.jsxs("div",{className:"bg-white border-b border-gray-200",children:[i.jsxs("button",{onClick:()=>o(!s),className:"w-full p-4 flex items-center justify-between text-left",children:[i.jsx("h3",{className:"font-medium",children:"Chat de Edición (IA)"}),s?i.jsx(Ci,{className:"w-5 h-5 text-gray-400"}):i.jsx(Cn,{className:"w-5 h-5 text-gray-400"})]}),s&&i.jsxs("div",{className:"px-4 pb-4",children:[i.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 mb-3",children:t.map(N=>i.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-xl text-sm ${N.role==="user"?"bg-bubble-user text-white":"bg-bubble-assistant text-gray-800"}`,children:N.content})},N.id))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("textarea",{value:n,onChange:N=>r(N.target.value),onKeyPress:x,placeholder:"Ej: 'Agrega sticker de encuesta'",className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:2}),i.jsxs("button",{onClick:v,disabled:!n.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${n.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[i.jsx(oc,{className:"w-4 h-4"}),"Enviar instrucción"]})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-black",children:i.jsxs("div",{className:"bg-gray-100 rounded-lg border border-gray-300 flex items-center justify-center relative",style:{width:"216px",height:"384px"},children:[i.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",children:uu.find(N=>N.id===c)?.title}),i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Ni,{className:"w-6 h-6 text-gray-500"})}),i.jsx("h4",{className:"font-medium mb-1 text-sm",children:"Canvas Historia 9:16"}),i.jsx("p",{className:"text-xs text-gray-500",children:"(Capas editables)"}),i.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"216 × 384 px"}),i.jsxs("div",{className:"mt-3 p-2 bg-white rounded text-left text-xs",children:[i.jsx("div",{className:"text-gray-700 font-medium mb-1",children:"Config actual:"}),i.jsxs("div",{className:"text-gray-500 space-y-1",children:[i.jsxs("div",{children:[f.selectedFont," ",f.textSize,"px"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 rounded border",style:{backgroundColor:f.textColor}}),"Color texto"]})]})]})]})]})}),i.jsxs("div",{className:"bg-white border-t border-gray-200",children:[i.jsxs("button",{onClick:()=>l(!a),className:"w-full p-4 flex items-center justify-between text-left",children:[i.jsx("h3",{className:"font-medium",children:"Herramientas"}),a?i.jsx(Ci,{className:"w-5 h-5 text-gray-400"}):i.jsx(Cn,{className:"w-5 h-5 text-gray-400"})]}),a&&i.jsx("div",{className:"px-4 pb-4 max-h-96 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(fv,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Texto"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Fuente"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:f.selectedFont,onChange:N=>y({selectedFont:N.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:cH.map(N=>i.jsx("option",{value:N,children:N},N))}),i.jsx(Cn,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color"}),i.jsx("div",{className:"flex gap-2",children:F1.map(N=>i.jsx("button",{onClick:()=>y({textColor:N}),className:`w-6 h-6 rounded-full border-2 ${f.textColor===N?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:N}},N))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamaño: ",f.textSize,"px"]}),i.jsx("input",{type:"range",min:"10",max:"72",value:f.textSize,onChange:N=>y({textSize:parseInt(N.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(f.textSize-10)/62*100}%, #E5E7EB ${(f.textSize-10)/62*100}%, #E5E7EB 100%)`}})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(x2,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Stickers / Interacción"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2",children:dH.map(N=>i.jsx("button",{onClick:()=>{const b=f.selectedStickerTypes.includes(N)?f.selectedStickerTypes.filter(w=>w!==N):[...f.selectedStickerTypes,N];y({selectedStickerTypes:b})},className:`px-2 py-1 rounded-lg text-xs border transition-all ${f.selectedStickerTypes.includes(N)?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:N},N))}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Texto del sticker"}),i.jsx("input",{type:"text",value:f.stickerText,onChange:N=>y({stickerText:N.target.value}),placeholder:"Ej: ¿Qué opinas?",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Pl,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Fondo"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Tipo"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:f.backgroundType,onChange:N=>y({backgroundType:N.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:uH.map(N=>i.jsx("option",{value:N,children:N},N))}),i.jsx(Cn,{className:"absolute right-2 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Color de fondo"}),i.jsx("div",{className:"flex gap-2",children:F1.map(N=>i.jsx("button",{onClick:()=>y({backgroundColor:N}),className:`w-6 h-6 rounded-full border-2 ${f.backgroundColor===N?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:N}},N))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Subir imagen/video"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-2 text-center hover:border-gray-300 transition-colors",children:[i.jsx(b2,{className:"w-5 h-5 text-gray-400 mx-auto mb-1"}),i.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, MP4"}),i.jsx("input",{type:"file",accept:".jpg,.png,.mp4",className:"hidden"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ni,{className:"w-4 h-4 text-gray-600"}),i.jsx("h4",{className:"font-medium text-sm",children:"Logo / Branding"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{className:"w-full px-3 py-2 text-sm bg-white text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Insertar logo (BrandKit)"}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Tamaño logo: ",f.logoSize,"%"]}),i.jsx("input",{type:"range",min:"10",max:"100",value:f.logoSize,onChange:N=>y({logoSize:parseInt(N.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${(f.logoSize-10)/90*100}%, #E5E7EB ${(f.logoSize-10)/90*100}%, #E5E7EB 100%)`}})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:["Opacidad logo: ",f.logoOpacity,"%"]}),i.jsx("input",{type:"range",min:"0",max:"100",value:f.logoOpacity,onChange:N=>y({logoOpacity:parseInt(N.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #2563EB 0%, #2563EB ${f.logoOpacity}%, #E5E7EB ${f.logoOpacity}%, #E5E7EB 100%)`}})]})]})]})]})})]}),i.jsx("style",{jsx:"true",children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #2563EB;
          cursor: pointer;
          border: 2px solid #ffffff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      `})]})}function pH(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function mH(){return pH()?i.jsx(fH,{}):i.jsx(aH,{})}const V1=[{id:1,title:"Historia 1",caption:"¡Oferta flash solo por hoy! 🚀 Desliza hacia arriba para aprovechar el descuento.",hashtags:["#Oferta","#Descuento","#TuMarca"],isValid:!1,characterCount:89},{id:2,title:"Historia 2",caption:"Nuevo producto disponible. ¡No te lo pierdas! ✨",hashtags:["#Nuevo","#Producto","#TuMarca","#Disponible"],isValid:!0,characterCount:52},{id:3,title:"Historia 3",caption:"Behind the scenes de nuestro último proyecto. Proceso creativo increíble que queremos compartir contigo.",hashtags:["#BehindTheScenes","#Proceso","#Creativo"],isValid:!1,characterCount:126}],gH=["#Marketing","#Ventas","#Promocion","#Limitado","#Exclusivo","#Calidad","#Innovacion","#Tendencia","#Estilo","#Premium"];function yH(){const[t,e]=p.useState(V1[0].id),[n,r]=p.useState(V1),[s,o]=p.useState(!0),a=n.find(x=>x.id===t);if(!a)return null;const l=n.some(x=>x.isValid),c=125,d=a.characterCount>c,h=x=>{r(N=>N.map(b=>b.id===t?{...b,...x,characterCount:x.caption?.length||b.characterCount}:b))},m=()=>{const x=["¡Nueva oferta disponible! 🔥 Aprovecha ahora.","Descuento especial por tiempo limitado ⏰","No te pierdas esta oportunidad única ✨","Oferta flash: solo por hoy 🚀"],N=x[Math.floor(Math.random()*x.length)];h({caption:N,characterCount:N.length,isValid:N.length<=c})},f=x=>{a.hashtags.includes(x)||h({hashtags:[...a.hashtags,x]})},y=x=>{h({hashtags:a.hashtags.filter(N=>N!==x)})},v=()=>{h({isValid:!d&&a.caption.trim().length>0})};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:"Captions & Hashtags para Historias"}),i.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Paso 5 de 6"})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex gap-2",children:n.map(x=>i.jsxs("button",{onClick:()=>e(x.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${t===x.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[x.isValid?i.jsx(Ue,{className:"w-4 h-4 text-green-400"}):i.jsx(Vt,{className:"w-4 h-4 text-orange-400"}),x.title]},x.id))}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!l,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${l?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente: Publicación",i.jsx(ln,{className:"w-4 h-4"})]})]})]})]})}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white font-medium text-sm",children:a.title.slice(-1)})}),i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:a.title})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("label",{className:"font-medium text-gray-900",children:"Caption generado por IA"}),i.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:i.jsxs("span",{className:d?"text-red-500":"text-gray-600",children:[a.characterCount,"/",c]})})]}),i.jsx("textarea",{value:a.caption,onChange:x=>h({caption:x.target.value,characterCount:x.target.value.length}),onBlur:v,className:"w-full p-4 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Escribe tu caption aquí..."}),d&&i.jsxs("div",{className:"flex items-center gap-2 mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[i.jsx(Vt,{className:"w-5 h-5 text-orange-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-orange-700 font-medium text-sm",children:"Caption demasiado largo para Instagram"}),i.jsxs("div",{className:"text-orange-600 text-sm",children:["IA recomienda acortar a ",c," caracteres"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Hashtags sugeridos"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.hashtags.map((x,N)=>i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:[x,i.jsx("button",{onClick:()=>y(x),className:"text-blue-500 hover:text-blue-700 transition-colors",children:i.jsx(po,{className:"w-3 h-3"})})]},N))}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Sugerencias adicionales:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:gH.filter(x=>!a.hashtags.includes(x)).slice(0,5).map(x=>i.jsxs("button",{onClick:()=>f(x),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:[i.jsx(Gm,{className:"w-3 h-3"}),x.slice(1)]},x))})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Th,{className:"w-4 h-4"}),"Regenerar caption"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Gm,{className:"w-4 h-4"}),"Sugerir más hashtags"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:x=>o(x.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),i.jsx(v2,{className:"w-4 h-4"}),"Permitir emojis"]})})]})]})]}),!l&&i.jsx("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[i.jsx(Vt,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"Debes confirmar al menos un caption válido antes de continuar."})]})})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex justify-end gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!l,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${l?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente: Publicación",i.jsx(ln,{className:"w-4 h-4"})]})]})})]})}const $1=[{id:1,title:"Historia 1",caption:"¡Oferta flash solo por hoy! 🚀 Desliza hacia arriba para aprovechar el descuento.",hashtags:["#Oferta","#Descuento","#TuMarca"],isValid:!1,characterCount:89},{id:2,title:"Historia 2",caption:"Nuevo producto disponible. ¡No te lo pierdas! ✨",hashtags:["#Nuevo","#Producto","#TuMarca","#Disponible"],isValid:!0,characterCount:52},{id:3,title:"Historia 3",caption:"Behind the scenes de nuestro último proyecto. Proceso creativo increíble que queremos compartir contigo.",hashtags:["#BehindTheScenes","#Proceso","#Creativo"],isValid:!1,characterCount:126}],vH=["#Marketing","#Ventas","#Promocion","#Limitado","#Exclusivo","#Calidad","#Innovacion","#Tendencia","#Estilo","#Premium"];function xH(){const[t,e]=p.useState($1[0].id),[n,r]=p.useState($1),[s,o]=p.useState(!0),[a,l]=p.useState(!1),c=n.find(b=>b.id===t);if(!c)return null;const d=n.some(b=>b.isValid),h=125,m=c.characterCount>h,f=b=>{r(w=>w.map(S=>S.id===t?{...S,...b,characterCount:b.caption?.length||S.characterCount}:S))},y=()=>{const b=["¡Nueva oferta disponible! 🔥 Aprovecha ahora.","Descuento especial por tiempo limitado ⏰","No te pierdas esta oportunidad única ✨","Oferta flash: solo por hoy 🚀"],w=b[Math.floor(Math.random()*b.length)];f({caption:w,characterCount:w.length,isValid:w.length<=h})},v=b=>{c.hashtags.includes(b)||f({hashtags:[...c.hashtags,b]})},x=b=>{f({hashtags:c.hashtags.filter(w=>w!==b)})},N=()=>{f({isValid:!m&&c.caption.trim().length>0})};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Captions & Hashtags"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:"5/6"})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:n.map(b=>i.jsxs("button",{onClick:()=>e(b.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap ${t===b.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[b.isValid?i.jsx(Ue,{className:"w-3 h-3 text-green-400"}):i.jsx(Vt,{className:"w-3 h-3 text-orange-400"}),b.title]},b.id))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white font-medium text-xs",children:c.title.slice(-1)})}),i.jsx("h2",{className:"font-medium text-gray-900",children:c.title})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"font-medium text-gray-900 text-sm",children:"Caption generado por IA"}),i.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:i.jsxs("span",{className:m?"text-red-500":"text-gray-600",children:[c.characterCount,"/",h]})})]}),i.jsx("textarea",{value:c.caption,onChange:b=>f({caption:b.target.value,characterCount:b.target.value.length}),onBlur:N,className:"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:4,placeholder:"Escribe tu caption aquí..."}),m&&i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[i.jsx(Vt,{className:"w-4 h-4 text-orange-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-orange-700 font-medium text-xs",children:"Caption demasiado largo"}),i.jsxs("div",{className:"text-orange-600 text-xs",children:["Recorta a ",h," caracteres"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:y,className:"flex items-center gap-1 px-3 py-2 text-gray-600 hover:text-gray-800 transition-colors text-sm",children:[i.jsx(Th,{className:"w-3 h-3"}),"Regenerar"]}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:b=>o(b.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500 w-3 h-3"}),i.jsx(v2,{className:"w-3 h-3 text-gray-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Emojis"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("label",{className:"font-medium text-gray-900 text-sm",children:"Hashtags actuales"})}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.hashtags.map((b,w)=>i.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium",children:[b,i.jsx("button",{onClick:()=>x(b),className:"text-blue-500 hover:text-blue-700 transition-colors",children:i.jsx(po,{className:"w-2 h-2"})})]},w))}),i.jsxs("button",{onClick:()=>l(!a),className:"flex items-center justify-between w-full p-2 text-left text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx("span",{children:"Sugerencias adicionales"}),a?i.jsx(Ci,{className:"w-4 h-4"}):i.jsx(Cn,{className:"w-4 h-4"})]}),a&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:vH.filter(b=>!c.hashtags.includes(b)).slice(0,8).map(b=>i.jsxs("button",{onClick:()=>v(b),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded-lg text-xs hover:bg-gray-200 transition-colors",children:[i.jsx(Gm,{className:"w-2 h-2"}),b.slice(1)]},b))}),i.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-600",children:"Ver más sugerencias"})]})]}),!d&&i.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2 text-orange-700",children:[i.jsx(Vt,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-xs",children:"Debes confirmar al menos un caption válido antes de continuar."})]})})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:i.jsxs("div",{className:"flex justify-between gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!d,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${d?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:["Siguiente",i.jsx(ln,{className:"w-4 h-4"})]})]})})]})}function wH(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t?i.jsx(xH,{}):i.jsx(yH,{})}const z1=[{id:1,title:"Historia 1",type:"Promocional",exported:!1,scheduled:!1,platforms:[]},{id:2,title:"Historia 2",type:"Informativo",exported:!0,scheduled:!0,platforms:["instagram","facebook"]},{id:3,title:"Historia 3",type:"Behind the Scenes",exported:!1,scheduled:!1,platforms:[]}],bH=[{id:"instagram",name:"Instagram Stories",icon:f2,color:"bg-pink-500"},{id:"facebook",name:"Facebook Stories",icon:d2,color:"bg-blue-600"},{id:"tiktok",name:"TikTok Stories",icon:sc,color:"bg-black"}],U1=[{date:"2025-10-15",time:"18:00",story:"Historia 1",type:"Promocional"},{date:"2025-10-16",time:"12:00",story:"Historia 2",type:"Informativo"},{date:"2025-10-17",time:"15:30",story:"Historia 3",type:"Behind the Scenes"}];function _H(){const[t,e]=p.useState(z1[0].id),[n,r]=p.useState(z1),[s,o]=p.useState("high"),[a,l]=p.useState("manual"),[c,d]=p.useState("2025-10-15"),[h,m]=p.useState("18:00"),[f,y]=p.useState(!1),v=n.find(j=>j.id===t);if(!v)return null;const x=n.some(j=>j.exported&&j.scheduled&&j.platforms.length>0),N=j=>{r(D=>D.map(C=>C.id===t?{...C,...j}:C))},b=()=>{y(!0),setTimeout(()=>{N({exported:!0}),y(!1)},2e3)},w=j=>{const D=v.platforms,C=D.includes(j)?D.filter(E=>E!==j):[...D,j];N({platforms:C})},S=()=>{const j=[{date:"2025-10-15",time:"18:00",reason:"Mayor engagement los martes por la tarde"},{date:"2025-10-16",time:"12:00",reason:"Horario de almuerzo óptimo para tu audiencia"},{date:"2025-10-17",time:"20:30",reason:"Peak time para tu demografía"}],D=j[Math.floor(Math.random()*j.length)];d(D.date),m(D.time),l("ai"),N({scheduled:!0})},P=()=>{N({scheduled:!0})};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h1",{className:"text-2xl font-medium text-gray-900",children:"Publicación final de Historias"}),i.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:"Paso 6 de 6"})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex gap-2",children:n.map(j=>{const D=j.exported&&j.scheduled&&j.platforms.length>0;return i.jsxs("button",{onClick:()=>e(j.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${t===j.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[D?i.jsx(Ue,{className:"w-4 h-4 text-green-400"}):i.jsx(Pr,{className:"w-4 h-4 text-orange-400"}),j.title]},j.id)})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!x,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${x?"bg-green-500 text-white hover:bg-green-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Ue,{className:"w-4 h-4"}),"Finalizar"]})]})]})]})}),i.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:i.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx(Tn,{className:"w-4 h-4 text-white"})}),i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Exportar archivo"}),v.exported&&i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[i.jsx(br,{className:"w-4 h-4"}),"Exportado"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 block mb-2",children:"Formato"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-gray-700",children:"9:16 (vertical) - Optimizado para Stories"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Opciones de calidad"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o("high"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="high"?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Alta calidad (1080x1920)"}),i.jsx("button",{onClick:()=>o("medium"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="medium"?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Calidad media (720x1280)"})]})]}),i.jsx("button",{onClick:b,disabled:v.exported||f,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${v.exported?"bg-green-100 text-green-700 cursor-not-allowed":f?"bg-blue-100 text-blue-700 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 shadow-sm"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Generando exportación..."]}):v.exported?i.jsxs(i.Fragment,{children:[i.jsx(br,{className:"w-4 h-4"}),"Exportación completada"]}):i.jsxs(i.Fragment,{children:[i.jsx(Tn,{className:"w-4 h-4"}),"Generar exportación"]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:i.jsx(Tl,{className:"w-4 h-4 text-white"})}),i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Programar publicación"}),v.scheduled&&i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[i.jsx(br,{className:"w-4 h-4"}),"Programado"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 block mb-3",children:"Programar manualmente"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Fecha"}),i.jsx("input",{type:"date",value:c,onChange:j=>d(j.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Hora"}),i.jsx("input",{type:"time",value:h,onChange:j=>m(j.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a==="manual"&&i.jsx("button",{onClick:P,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Confirmar programación"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-200"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"o"})})]}),i.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all shadow-sm",children:[i.jsx(Ja,{className:"w-4 h-4"}),"Programar con IA"]}),a==="ai"&&i.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"text-purple-700 text-sm",children:["📊 IA recomienda: ",i.jsxs("strong",{children:[c," a las ",h]})]}),i.jsx("div",{className:"text-purple-600 text-xs mt-1",children:"Mayor engagement según tu audiencia histórica"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:i.jsx(Ue,{className:"w-4 h-4 text-white"})}),i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Plataformas de publicación"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:bH.map(j=>{const D=v.platforms.includes(j.id),C=j.icon;return i.jsxs("button",{onClick:()=>w(j.id),className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${D?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[i.jsx("div",{className:`w-8 h-8 ${j.color} rounded-lg flex items-center justify-center`,children:i.jsx(C,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"font-medium text-gray-900",children:j.name}),D&&i.jsx(Ue,{className:"w-5 h-5 text-blue-500 ml-auto"})]},j.id)})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:i.jsx(Tl,{className:"w-4 h-4 text-white"})}),i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Vista rápida de agenda"})]}),i.jsx("div",{className:"space-y-3",children:U1.map((j,D)=>i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:j.story}),i.jsx("div",{className:"text-gray-600 text-xs",children:j.type})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-gray-900 text-sm font-medium",children:j.date}),i.jsxs("div",{className:"text-gray-600 text-xs flex items-center gap-1",children:[i.jsx(jh,{className:"w-3 h-3"}),j.time]})]})]})},D))}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"text-blue-700 text-sm font-medium",children:["📅 ",U1.length," historias programadas esta semana"]}),i.jsx("div",{className:"text-blue-600 text-xs mt-1",children:"Distribución óptima para máximo alcance"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Resumen del progreso"}),i.jsx("div",{className:"space-y-3",children:n.map(j=>{const D=[j.exported,j.scheduled,j.platforms.length>0].filter(Boolean).length;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-700",children:j.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${D/3*100}%`}})}),i.jsxs("span",{className:"text-xs text-gray-600",children:[D,"/3"]})]})]},j.id)})})]})]})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[!x&&i.jsxs("div",{className:"text-sm text-orange-600 flex items-center gap-1",children:[i.jsx(Pr,{className:"w-4 h-4"}),"Completa al menos una historia para finalizar"]}),i.jsxs("button",{disabled:!x,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all ${x?"bg-green-500 text-white hover:bg-green-600 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Ue,{className:"w-4 h-4"}),"Finalizar"]})]})]})})]})}const B1=[{id:1,title:"Historia 1",type:"Promocional",exported:!1,scheduled:!1,platforms:[]},{id:2,title:"Historia 2",type:"Informativo",exported:!0,scheduled:!0,platforms:["instagram","facebook"]},{id:3,title:"Historia 3",type:"Behind the Scenes",exported:!1,scheduled:!1,platforms:[]}],EH=[{id:"instagram",name:"Instagram Stories",icon:f2,color:"bg-pink-500"},{id:"facebook",name:"Facebook Stories",icon:d2,color:"bg-blue-600"},{id:"tiktok",name:"TikTok Stories",icon:sc,color:"bg-black"}],H1=[{date:"2025-10-15",time:"18:00",story:"Historia 1",type:"Promocional"},{date:"2025-10-16",time:"12:00",story:"Historia 2",type:"Informativo"},{date:"2025-10-17",time:"15:30",story:"Historia 3",type:"Behind the Scenes"}];function SH(){const[t,e]=p.useState(B1[0].id),[n,r]=p.useState(B1),[s,o]=p.useState("high"),[a,l]=p.useState("manual"),[c,d]=p.useState("2025-10-15"),[h,m]=p.useState("18:00"),[f,y]=p.useState(!1),[v,x]=p.useState(!1),N=n.find(C=>C.id===t);if(!N)return null;const b=n.some(C=>C.exported&&C.scheduled&&C.platforms.length>0),w=C=>{r(E=>E.map(k=>k.id===t?{...k,...C}:k))},S=()=>{y(!0),setTimeout(()=>{w({exported:!0}),y(!1)},2e3)},P=C=>{const E=N.platforms,k=E.includes(C)?E.filter(I=>I!==C):[...E,C];w({platforms:k})},j=()=>{const C=[{date:"2025-10-15",time:"18:00",reason:"Mayor engagement los martes por la tarde"},{date:"2025-10-16",time:"12:00",reason:"Horario de almuerzo óptimo para tu audiencia"},{date:"2025-10-17",time:"20:30",reason:"Peak time para tu demografía"}],E=C[Math.floor(Math.random()*C.length)];d(E.date),m(E.time),l("ai"),w({scheduled:!0})},D=()=>{w({scheduled:!0})};return i.jsxs("div",{className:"h-full bg-canvas flex flex-col",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Publicación final"}),i.jsx("div",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"6/6"})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:n.map(C=>{const E=C.exported&&C.scheduled&&C.platforms.length>0;return i.jsxs("button",{onClick:()=>e(C.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap ${t===C.id?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E?i.jsx(Ue,{className:"w-3 h-3 text-green-400"}):i.jsx(Pr,{className:"w-3 h-3 text-orange-400"}),C.title]},C.id)})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx(Tn,{className:"w-3 h-3 text-white"})}),i.jsx("h2",{className:"font-medium text-gray-900",children:"Exportar archivo"}),N.exported&&i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs ml-auto",children:[i.jsx(br,{className:"w-3 h-3"}),"Exportado"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Formato"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-gray-700 text-sm",children:"9:16 (vertical) - Optimizado para Stories"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Calidad"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o("high"),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all ${s==="high"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700"}`,children:"Alta (1080x1920)"}),i.jsx("button",{onClick:()=>o("medium"),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all ${s==="medium"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700"}`,children:"Media (720x1280)"})]})]}),i.jsx("button",{onClick:S,disabled:N.exported||f,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all text-sm ${N.exported?"bg-green-100 text-green-700 cursor-not-allowed":f?"bg-blue-100 text-blue-700 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Generando..."]}):N.exported?i.jsxs(i.Fragment,{children:[i.jsx(br,{className:"w-3 h-3"}),"Completado"]}):i.jsxs(i.Fragment,{children:[i.jsx(Tn,{className:"w-3 h-3"}),"Generar exportación"]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-lg flex items-center justify-center",children:i.jsx(Tl,{className:"w-3 h-3 text-white"})}),i.jsx("h2",{className:"font-medium text-gray-900",children:"Programar publicación"}),N.scheduled&&i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs ml-auto",children:[i.jsx(br,{className:"w-3 h-3"}),"Programado"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-900 text-sm block mb-2",children:"Programar manualmente"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Fecha"}),i.jsx("input",{type:"date",value:c,onChange:C=>d(C.target.value),className:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Hora"}),i.jsx("input",{type:"time",value:h,onChange:C=>m(C.target.value),className:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),a==="manual"&&i.jsx("button",{onClick:D,className:"mt-3 w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Confirmar programación"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-200"})}),i.jsx("div",{className:"relative flex justify-center text-xs",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"o"})})]}),i.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all text-sm",children:[i.jsx(Ja,{className:"w-3 h-3"}),"Programar con IA"]}),a==="ai"&&i.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"text-purple-700 text-xs",children:["📊 IA recomienda: ",i.jsxs("strong",{children:[c," a las ",h]})]}),i.jsx("div",{className:"text-purple-600 text-xs mt-1",children:"Mayor engagement según tu audiencia"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-lg flex items-center justify-center",children:i.jsx(Ue,{className:"w-3 h-3 text-white"})}),i.jsx("h2",{className:"font-medium text-gray-900",children:"Plataformas"})]}),i.jsx("div",{className:"space-y-2",children:EH.map(C=>{const E=N.platforms.includes(C.id),k=C.icon;return i.jsxs("button",{onClick:()=>P(C.id),className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all w-full ${E?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[i.jsx("div",{className:`w-6 h-6 ${C.color} rounded-lg flex items-center justify-center`,children:i.jsx(k,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-gray-900 text-sm",children:C.name}),E&&i.jsx(Ue,{className:"w-4 h-4 text-blue-500 ml-auto"})]},C.id)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsxs("button",{onClick:()=>x(!v),className:"flex items-center justify-between w-full mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-lg flex items-center justify-center",children:i.jsx(Tl,{className:"w-3 h-3 text-white"})}),i.jsx("h2",{className:"font-medium text-gray-900",children:"Vista de agenda"})]}),v?i.jsx(Ci,{className:"w-4 h-4 text-gray-500"}):i.jsx(Cn,{className:"w-4 h-4 text-gray-500"})]}),v&&i.jsxs("div",{className:"space-y-2",children:[H1.map((C,E)=>i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:C.story}),i.jsx("div",{className:"text-gray-600 text-xs",children:C.type})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-gray-900 text-xs font-medium",children:C.date}),i.jsxs("div",{className:"text-gray-600 text-xs flex items-center gap-1",children:[i.jsx(jh,{className:"w-2 h-2"}),C.time]})]})]})},E)),i.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"text-blue-700 text-xs font-medium",children:["📅 ",H1.length," historias programadas esta semana"]}),i.jsx("div",{className:"text-blue-600 text-xs mt-1",children:"Distribución óptima para máximo alcance"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Resumen del progreso"}),i.jsx("div",{className:"space-y-2",children:n.map(C=>{const E=[C.exported,C.scheduled,C.platforms.length>0].filter(Boolean).length;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-700",children:C.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${E/3*100}%`}})}),i.jsxs("span",{className:"text-xs text-gray-600",children:[E,"/3"]})]})]},C.id)})})]}),!b&&i.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2 text-orange-700",children:[i.jsx(Pr,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-xs",children:"Completa exportación, programación y plataformas para al menos una historia."})]})})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:i.jsxs("div",{className:"flex justify-between gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(qt,{className:"w-4 h-4"}),"Volver"]}),i.jsxs("button",{disabled:!b,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${b?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Ue,{className:"w-4 h-4"}),"Finalizar"]})]})})]})}function CH(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t?i.jsx(SH,{}):i.jsx(_H,{})}function NH(){const{currentStep:t,currentProject:e}=Vv();Se.useEffect(()=>{},[e]);const n=()=>{switch(t){case"briefing":return i.jsx(O1,{});case"configuration":return i.jsx(qB,{});case"generation":return i.jsx(eH,{});case"advanced-editing":return i.jsx(mH,{});case"captions":return i.jsx(wH,{});case"publishing":return i.jsx(CH,{});default:return i.jsx(O1,{})}};return i.jsx("div",{className:"h-full w-full",children:n()})}const kH=Se.lazy(()=>hn(()=>import("./PostsCreatorModule-WbRbmHvx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),jH=Se.lazy(()=>hn(()=>import("./VideosCreatorModule-DxZyO8K4.js"),__vite__mapDeps([13,1,5,14,6,11,15,16,17,12,10,3,18,4,8]))),TH=Se.lazy(()=>hn(()=>import("./PodcastsCreatorModule-C099hbti.js"),__vite__mapDeps([19,1,20,5,3,16,14,17,8,7,10,15,21,22,23,24,6,18,4,12]))),IH=Se.lazy(()=>hn(()=>import("./CalendarModule-Dx6AFRLx.js"),__vite__mapDeps([25,3,18,4])).then(t=>({default:t.CalendarModule}))),PH=Se.lazy(()=>hn(()=>import("./AssetsLibrary-BV7a92XM.js"),__vite__mapDeps([26,16,3,10,21,22,24,2,9,15]))),AH=Se.lazy(()=>hn(()=>import("./BrandKitModule-DKAUzW1R.js"),__vite__mapDeps([27,5,3,22,12]))),RH=Se.lazy(()=>hn(()=>import("./AnalyticsModule-CsrPRBoD.js"),__vite__mapDeps([28,12,20,29,23,15,21]))),MH=Se.lazy(()=>hn(()=>import("./AutomationModule-DiUanOcz.js"),__vite__mapDeps([30,8,20,15]))),DH=Se.lazy(()=>hn(()=>import("./CompetitionModule-6O-wto7d.js"),__vite__mapDeps([31,2,12,29,20,14,6,3,15])));function cr(){return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-8 h-8 mx-auto border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando módulo..."})]})})}function G1({error:t,resetError:e}){return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[i.jsx("p",{className:"text-red-500 font-medium",children:"Error cargando el módulo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.message}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(ee,{onClick:e,variant:"outline",children:"Reintentar"}),i.jsx(ee,{onClick:()=>window.location.reload(),children:"Recargar aplicación"})]})]})})}const OH=(t,e,n)=>{if(e)return i.jsx(G1,{error:e,resetError:n});try{switch(t){case"chat":return i.jsx(M1,{});case"stories":return i.jsx(NH,{});case"posts":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(kH,{})});case"videos":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(jH,{})});case"podcasts":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(TH,{})});case"calendar":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(IH,{})});case"library":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(PH,{})});case"brandkit":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(AH,{})});case"analytics":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(RH,{})});case"automation":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(MH,{})});case"competition":return i.jsx(p.Suspense,{fallback:i.jsx(cr,{}),children:i.jsx(DH,{})});default:return i.jsx(M1,{})}}catch(r){return console.error("Error rendering module:",r),i.jsx(G1,{error:r,resetError:n})}};function LH({}){const[t,e]=p.useState("chat"),[n,r]=p.useState(null),s=["videos","podcasts"].includes(t),o=()=>r(null),a=l=>{r(null),e(l)};return i.jsx(NV,{children:i.jsx(pU,{children:i.jsx(mU,{children:i.jsx(gU,{children:i.jsx(yU,{children:i.jsx(uU,{children:i.jsxs("div",{className:"flex min-h-screen bg-canvas",children:[i.jsx(fU,{activeModule:t,onModuleChange:a}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(dU,{activeModule:t,showMasterMenu:s}),i.jsx("main",{className:"flex-1 overflow-hidden",children:OH(t,n,o)})]})]})})})})})})})}function W1({className:t,type:e,...n}){return i.jsx("input",{type:e,"data-slot":"input",className:ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function FH(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState(!1),{login:a,isLoading:l,error:c}=aN(),d=h=>{h.preventDefault(),a(t,n,s)};return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-2xl font-bold text-center",children:"AI Content Studio"}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(we,{htmlFor:"email",children:"Email"}),i.jsx(W1,{id:"email",type:"email",value:t,onChange:h=>e(h.target.value),required:!0,placeholder:"admin@tusistema.com"})]}),i.jsxs("div",{children:[i.jsx(we,{htmlFor:"password",children:"Password"}),i.jsx(W1,{id:"password",type:"password",value:n,onChange:h=>r(h.target.value),required:!0})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{id:"remember",checked:s,onCheckedChange:o}),i.jsx(we,{htmlFor:"remember",children:"Remember me"})]})}),c&&i.jsx("p",{className:"text-sm text-red-500",children:c.message}),i.jsx(ee,{type:"submit",className:"w-full",disabled:l,children:l?"Logging in...":"Login"})]})]})})}function VH({children:t}){const{user:e,isLoading:n}=aN();return n?i.jsxs("div",{className:"h-screen flex items-center justify-center",children:[i.jsx("div",{className:"w-8 h-8 mx-auto border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"ml-4 text-muted-foreground",children:"Initializing..."})]}):e?t:i.jsx(cR,{to:"/login",replace:!0})}function $H(){return i.jsx(uL,{children:i.jsx(MR,{children:i.jsxs(dR,{children:[i.jsx(pm,{path:"/login",element:i.jsx(FH,{})}),i.jsx(pm,{path:"/*",element:i.jsx(VH,{children:i.jsx(LH,{})})})]})})})}window.addEventListener("error",t=>{const e=String(t?.message||"");if(e.includes("mce-autosize-textarea")&&e.includes("already been defined"))return t.preventDefault(),t.stopImmediatePropagation(),!1},!0);aS(document.getElementById("root")).render(i.jsx($H,{}));export{qt as $,t1 as A,ee as B,T1 as C,vr as D,Ue as E,d2 as F,rs as G,w2 as H,W1 as I,Pr as J,KH as K,we as L,P$ as M,Yb as N,i$ as O,tB as P,Il as Q,Th as R,DB as S,Vt as T,_2 as U,g9 as V,fv as W,po as X,Ni as Y,Ja as Z,Pl as _,$e as a,MV as a$,Xm as a0,Jm as a1,Zm as a2,Rt as a3,qH as a4,Td as a5,l9 as a6,Gm as a7,Km as a8,Tl as a9,Dl as aA,Ol as aB,Av as aC,Ml as aD,ce as aE,W$ as aF,_$ as aG,Cn as aH,p2 as aI,y2 as aJ,qo as aK,g2 as aL,Tn as aM,FV as aN,cG as aO,Wm as aP,hv as aQ,Wb as aR,n$ as aS,QL as aT,Rd as aU,Ci as aV,el as aW,Iv as aX,Yk as aY,Qk as aZ,Wk as a_,gB as aa,yB as ab,vB as ac,j$ as ad,Xb as ae,s9 as af,D$ as ag,m2 as ah,aG as ai,qV as aj,Z$ as ak,Se as al,Ts as am,Tt as an,jn as ao,ie as ap,Q as aq,nt as ar,xe as as,pn as at,W8 as au,K8 as av,Kk as aw,qk as ax,wh as ay,Dd as az,dv as b,pv as b0,ic as b1,wB as b2,rv as b3,Zk as b4,dN as b5,sc as b6,K1 as b7,s$ as b8,QH as b9,XH as ba,hL as bb,eg as bc,Yi as bd,gv as be,yv as bf,Ki as bg,iv as bh,Ch as bi,nc as bj,sh as bk,nV as bl,lt as bm,vv as bn,mv as bo,Ah as bp,ho as bq,Ih as br,ec as bs,av as bt,lv as bu,zH as bv,K as c,jU as d,lG as e,jh as f,br as g,Jb as h,n1 as i,i as j,UV as k,b2 as l,oc as m,Hj as n,Zs as o,Ht as p,ln as q,p as r,np as s,WH as t,qi as u,f2 as v,I1 as w,P1 as x,A1 as y,Id as z};
